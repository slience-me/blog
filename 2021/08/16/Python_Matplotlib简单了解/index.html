<!DOCTYPE html> <html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /> <title>Python｜数据挖掘_Matplotlib &mdash; Slience_me的博客</title> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/vendor/primer-css/css/primer.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/components/collection.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/components/repo-card.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/sections/repo-list.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/components/boxed-group.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/globals/common.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/globals/responsive.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/posts/index.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/vendor/octicons/octicons/octicons.css"> <link rel="stylesheet" href="https://mazhuang.org/rouge-themes/dist/github.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/vendor/share.js/dist/css/share.min.css"> <link rel="canonical" href="https://blog.slienceme.cn/2021/08/16/Python_Matplotlib%E7%AE%80%E5%8D%95%E4%BA%86%E8%A7%A3/"> <link rel="alternate" type="application/atom+xml" title="Slience_me的博客" href="https://blog.slienceme.cn/feed.xml"> <link rel="shortcut icon" href="https://blog.slienceme.cn/favicon.ico"> <meta property="og:title" content="Python｜数据挖掘_Matplotlib"> <meta name="keywords" content="编程语言, Python"> <meta name="og:keywords" content="编程语言, Python"> <meta name="description" content=""> <meta name="og:description" content=""> <meta property="og:url" content="https://blog.slienceme.cn/2021/08/16/Python_Matplotlib%E7%AE%80%E5%8D%95%E4%BA%86%E8%A7%A3/"> <meta property="og:site_name" content="Slience_me的博客"> <meta property="og:type" content="article"> <meta property="og:locale" content="zh_CN" /> <meta property="article:published_time" content="2021-08-16"> <meta name="google-site-verification" content="2feHjT1GNs1Yi2JQfOtdYx7d048naG_-cMwZaDAopIA" /> <script src="https://blog.slienceme.cn/assets/vendor/jquery/dist/jquery.min.js"></script> <script src="https://blog.slienceme.cn/assets/js/main.js"></script> </head> <body class="" data-mz=""> <header class="site-header"> <div class="container"> <h1><a href="https://blog.slienceme.cn/" title="Slience_me的博客"><span class="octicon octicon-mark-github"></span> Slience_me的博客</a></h1> <button class="collapsed mobile-visible" type="button" onclick="toggleMenu();"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <nav class="site-header-nav" role="navigation"> <a href="https://blog.slienceme.cn/" class="site-header-nav-item" target="" title="首页">首页</a> <a href="https://blog.slienceme.cn/categories/" class="site-header-nav-item" target="" title="分类">分类</a> <a href="https://blog.slienceme.cn/archives/" class="mobile-hidden site-header-nav-item" target="" title="归档">归档</a> <a href="https://blog.slienceme.cn/open-source/" class="mobile-hidden site-header-nav-item" target="" title="开源">开源</a> <a href="https://blog.slienceme.cn/fragments/" class="site-header-nav-item" target="" title="片段">片段</a> <a href="https://blog.slienceme.cn/wiki/" class="site-header-nav-item" target="" title="维基">维基</a> <a href="https://blog.slienceme.cn/links/" class="mobile-hidden site-header-nav-item" target="" title="链接">链接</a> <a href="https://blog.slienceme.cn/about/" class="site-header-nav-item" target="" title="关于">关于</a> <a class="mobile-hidden" href="https://blog.slienceme.cn/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a> </nav> </div> </header> <section class="collection-head small geopattern" data-pattern-id="Python｜数据挖掘_Mat"> <div class="container"> <div class="columns"> <div class="column three-fourths"> <div class="collection-title"> <h1 class="collection-header">Python｜数据挖掘_Matplotlib</h1> <div class="collection-info"> <span class="meta-info"> <span class="octicon octicon-calendar"></span> 2021/08/16 </span> <span class="meta-info"> <span class="octicon octicon-file-directory"></span> <a href="https://blog.slienceme.cn/categories/#Python" title="Python">Python</a> </span> <span class="meta-info"> <span class="octicon octicon-clock"></span> 共 9238 字，约 27 分钟 </span> </div> </div> </div> <div class="column one-fourth mobile-hidden"> <div class="collection-title"> </div> </div> </div> </div> </section> <section class="container content"> <div class="columns"> <div class="column three-fourths" > <article class="article-content markdown-body"> <p><img src="https://blog.slienceme.cn/images/posts/logo_slienceme3.png" alt="img" /></p> <p>本文作者： <a href="https://slienceme.cn/">slience_me</a></p> <hr /> <h1 id="pythonmatplotlib简单了解">Python–Matplotlib简单了解</h1> <p><img src="https://blog.slienceme.cn/images/posts/6e8e0128dba745a3bfbd7f346851a397.png" alt="Alt Text" /></p> <h2 id="一数据挖掘基础环境安装与使用">一、数据挖掘基础环境安装与使用</h2> <h3 id="11-库的安装">1.1 库的安装</h3> <div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">matplotlib</span><span class="o">==</span><span class="mf">2.2</span><span class="p">.</span><span class="mi">2</span>
<span class="n">numpy</span><span class="o">==</span><span class="mf">1.14</span><span class="p">.</span><span class="mi">2</span>
<span class="n">pandas</span><span class="o">==</span><span class="mf">0.20</span><span class="p">.</span><span class="mi">3</span>
<span class="n">TA</span><span class="o">-</span><span class="n">Lib</span><span class="o">==</span><span class="mf">0.4</span><span class="p">.</span><span class="mi">16</span> <span class="n">技术指标库</span>
<span class="n">tables</span><span class="o">==</span><span class="mf">3.4</span><span class="p">.</span><span class="mi">2</span> <span class="n">hdf5</span>
<span class="n">jupyter</span><span class="o">==</span><span class="mf">1.0</span><span class="p">.</span><span class="mi">0</span> <span class="n">数据分析与展示的平台</span>
</code></pre></div></div> <h3 id="12-jupyter-notebook使用">1.2 Jupyter Notebook使用</h3> <h4 id="121-jupyter-notebook介绍">1.2.1 Jupyter Notebook介绍</h4> <ol> <li>web版的ipython</li> <li>名字 ju - Julia py - Python ter - R Jupiter 木星 宙斯</li> <li>编程、写文档、记笔记、展示</li> <li>.ipynb <h4 id="122-为什么使用jupyter-notebook">1.2.2 为什么使用Jupyter Notebook?</h4> </li> <li>画图方面的优势</li> <li>数据展示方面的优势 <h4 id="123-jupyter-notebook的使用-helloworld">1.2.3 Jupyter Notebook的使用-helloworld</h4> </li> <li>界面启动、创建文件 <ul> <li>在终端输入jupyter notebook / ipython notebook</li> <li>快速上手的方法： <ul> <li>快捷键 <ul> <li>运行代码 shift + enter</li> </ul> </li> </ul> </li> </ul> </li> <li>cell操作 <ul> <li>cell：一对In Out会话被视作一个代码单元，称为cell</li> <li>编辑模式： <ul> <li>enter</li> <li>鼠标直接点</li> </ul> </li> <li>命令模式： <ul> <li>esc</li> <li>鼠标在本单元格之外点一下 <ul> <li>快捷键操作 执行代码：<code class="language-plaintext highlighter-rouge">shift + enter</code></li> </ul> </li> </ul> </li> <li>命令模式： <code class="language-plaintext highlighter-rouge">A</code>：在当前cell的上面添加cell <code class="language-plaintext highlighter-rouge">B</code>：在当前cell的下面添加cell <code class="language-plaintext highlighter-rouge">双击D</code>：删除当前cell</li> <li>编辑模式： 多光标操作：Ctrl键点击鼠标（Mac:CMD+点击鼠标） 回退：<code class="language-plaintext highlighter-rouge">Ctrl+Z</code>（Mac:CMD+Z） 补全代码：变量、方法后跟Tab键 为一行或多行代码添加/取消注释：<code class="language-plaintext highlighter-rouge">Ctrl+/</code>（Mac:CMD+/）</li> </ul> </li> </ol> <h2 id="二matplotlib">二、Matplotlib</h2> <h3 id="21-matplotlib">2.1 Matplotlib</h3> <h4 id="211-什么是matplotlib">2.1.1 什么是Matplotlib</h4> <ul> <li> <p>画二维图表的python库</p> <ul> <li><code class="language-plaintext highlighter-rouge">mat</code> - matrix 矩阵</li> <li>二维数据 - 二维图表</li> <li><code class="language-plaintext highlighter-rouge">plot</code> - 画图</li> <li><code class="language-plaintext highlighter-rouge">lib</code> - library 库</li> <li><code class="language-plaintext highlighter-rouge">matlab</code> 矩阵实验室</li> <li><code class="language-plaintext highlighter-rouge">mat</code> - matrix</li> <li><code class="language-plaintext highlighter-rouge">lab</code> 实验室</li> </ul> </li> </ul> <h4 id="212-为什么要学习matplotlib">2.1.2 为什么要学习Matplotlib</h4> <ul> <li> <p>画图</p> <p>数据可视化 - 帮助理解数据，方便选择更合适的分析方法 <code class="language-plaintext highlighter-rouge">js库</code> - D3 echarts 奥卡姆剃刀原理 - 如无必要勿增实体</p> <h4 id="213-实现一个简单的matplotlib画图">2.1.3 实现一个简单的Matplotlib画图</h4> </li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span> 
<span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">9</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div> <p><img src="https://blog.slienceme.cn/images/posts/9b13c951f88f40ca9ef4d9feebd1c590.png" alt="Alt Text" /></p> <h4 id="214-认识matplotlib图像结构">2.1.4 认识Matplotlib图像结构</h4> <h4 id="215-拓展知识点matplotlib三层结构">2.1.5 拓展知识点：Matplotlib三层结构</h4> <ol> <li>容器层 <ul> <li>画板层<code class="language-plaintext highlighter-rouge">Canvas</code> - 画布层<code class="language-plaintext highlighter-rouge">Figure</code> - 绘图区/坐标系 <ul> <li>x、y轴张成的区域</li> </ul> </li> </ul> </li> <li>辅助显示层</li> <li>图像层 <img src="https://blog.slienceme.cn/images/posts/09de024856704f42a0e1138d1facd1cf.png" alt="Alt Text" /></li> </ol> <h3 id="22-常见图形种类及意义">2.2 常见图形种类及意义</h3> <ul> <li>折线图<code class="language-plaintext highlighter-rouge">plot</code>：以折线的上升或下降来表示统计数量的增减变化的统计图</li> <li><strong>特点：能够显示数据的变化趋势，反映事物的变化情况</strong> <img src="https://blog.slienceme.cn/images/posts/7e5d41c702c04a838c5ac41c6bdb4216.png" alt="Alt Text" /></li> </ul> <hr /> <ul> <li>散点图<code class="language-plaintext highlighter-rouge">scatter</code>：用两组数据构成多个坐标点，考察坐标点的分布，判断两个变量之间是否存在某种关联或总结坐标点的分布模式</li> <li><strong>特点：判断变量之间是否存在数量关联趋势，展示离群点（分布规律）</strong> <img src="https://blog.slienceme.cn/images/posts/9850314571dc44e4ba528db80a632d25.png" alt="Alt Text" /> —</li> <li>柱状图<code class="language-plaintext highlighter-rouge">bar</code>：排列在工作表的列或行中的数据可以绘制到柱状图中</li> <li><strong>特点：绘制连离散的数据，能够一眼看出各个数据的大小，比较数据之间的差别。(统计/对比)</strong> <img src="https://blog.slienceme.cn/images/posts/37627f465f6c468dbe4ec43632983cac.png" alt="Alt Text" /> —</li> <li>直方图<code class="language-plaintext highlighter-rouge">histogram</code>： 由一系列高度不等的纵向条纹或线段标识数据分布的情况。一般用横轴标识数据范围，纵轴表示分布情况</li> <li><strong>特点：绘制连续性的数据展示一组或者多组数据的分布情况(分布状况)</strong> <img src="https://blog.slienceme.cn/images/posts/7966febd4ce0493e8bcb81296895890e.png" alt="Alt Text" /> —</li> <li>饼图<code class="language-plaintext highlighter-rouge">pie π</code>：用于表示不同分类的占比情况，通过弧度大小来对比各种分类。</li> <li><strong>特点：分类数据的占比情况(占比)</strong> <img src="https://blog.slienceme.cn/images/posts/fe57e884b7f9439e8a08a92efbc82a3a.png" alt="Alt Text" /></li> </ul> <h3 id="23-折线图plot">2.3 折线图(plot)</h3> <ul> <li>与基础绘图功能 <h4 id="231-容器层">2.3.1 容器层</h4> <h5 id="折线图绘制与保存图片">折线图绘制与保存图片</h5> <p>```python</p> <h1 id="展现上海一周的天气比如从星期一到星期日的天气温度如下">展现上海一周的天气，比如从星期一到星期日的天气温度如下</h1> <h1 id="1创建画布">1.创建画布</h1> <h1 id="pltfigure-下图对比">plt.figure() 下图对比</h1> <p>plt.figure(figsize=(20,8), dpi=80)</p> </li> </ul> <h1 id="2绘制图像">2.绘制图像</h1> <p>plt.plot([1,2,3,4,5,6,7],[17,17,18,15,11,11,13])</p> <h1 id="保存图像">保存图像</h1> <p>plt.savefig(“test78.png”)</p> <h1 id="3显示图像">3.显示图像</h1> <p>plt.show()</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>![Alt Text](/images/posts/0ebe2a875aad44f2ade17d8df954d03f.png)
![Alt Text](/images/posts/a39fc43c25904e96ac000fcb30e1ff95.png)


##### 设置画布属性与图片保存
  -  `figsize` : 画布大小
  -  `dpi` : `dot per inch` 图像的清晰度

```python
plt.figure(figsize=(), dpi=)
	figsize:指定图的长宽
	dpi：图像的清晰度
	返回fig对象
plt.savefig(path)
</code></pre></div></div> <ul> <li>注意：<code class="language-plaintext highlighter-rouge">plt.show()</code>会释放figure资源，如果在显示图像之后保存图片只能保存空图片</li> </ul> <h4 id="232-辅助显示层">2.3.2 辅助显示层</h4> <p>案例：显示温度变化状况 需求：画出某城市11点到12点1小时内每分钟的温度变化折线图，温度范围在15度~18度</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 画出某城市11点到12点1小时内每分钟的温度变化折线图，温度范围在15度~18度
</span><span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="n">mpl</span>
<span class="n">mpl</span><span class="p">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s">'font.sans-serif'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s">'simhei'</span><span class="p">]</span> <span class="c1"># 指定默认字体
</span><span class="n">mpl</span><span class="p">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s">'axes.unicode_minus'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">False</span> <span class="c1"># 解决保存图像是负号'-'显示为方块的问题
</span><span class="kn">import</span> <span class="nn">random</span>
<span class="c1"># 准备x,y坐标的数据
</span><span class="n">x</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
<span class="n">y_sahnghai</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="p">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">18</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span>

<span class="c1"># 2.创建画布
</span><span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>

<span class="c1"># 3.绘制图像
</span><span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y_sahnghai</span><span class="p">)</span>

<span class="c1"># 修改x,y刻度
# 准备x的刻度说明
</span><span class="n">x_label</span> <span class="o">=</span> <span class="p">[</span><span class="s">"11点{}分"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span>
<span class="n">plt</span><span class="p">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">x</span><span class="p">[::</span><span class="mi">5</span><span class="p">],</span> <span class="n">x_label</span><span class="p">[::</span><span class="mi">5</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="n">yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="c1"># 添加网格显示
</span><span class="n">plt</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">'--'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># 添加描述信息
</span><span class="n">plt</span><span class="p">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">"时间"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">"温度"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">"中午11点0分到12点之间的温度变化图示"</span><span class="p">)</span>

<span class="c1"># 4.显示图像
</span><span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div> <p>效果： <img src="https://blog.slienceme.cn/images/posts/5af04846b69f41189629d8234168b06d.png" alt="Alt Text" /></p> <h5 id="添加自定义刻度">添加自定义刻度</h5> <ul> <li><code class="language-plaintext highlighter-rouge">plt.xticks(x, **kwargs)</code> <ul> <li>x:要显示的刻度值</li> </ul> </li> <li><code class="language-plaintext highlighter-rouge">plt.yticks(y, **kwargs)</code> <ul> <li>y:要显示的刻度值 ```python <h1 id="添加以下两行代码">添加以下两行代码</h1> <h1 id="构造x轴刻度标签">构造x轴刻度标签</h1> <p>x_ticks_label = [“11点{}分”.format(i) for i in x]</p> <h1 id="构造y轴刻度">构造y轴刻度</h1> <p>y_ticks = range(40)</p> </li> </ul> </li> </ul> <h1 id="修改xy轴坐标的刻度显示">修改x,y轴坐标的刻度显示</h1> <p>plt.xticks(x[::s], x_ticks_label[::5]) plt.yticks(y_ticks[::5])</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>##### 添加网格显示
```python
plt.grid(True, linestyle='--', alpha=0.5)
</code></pre></div></div> <h5 id="添加描述信息">添加描述信息</h5> <p>添加x轴、y轴描述信息及标题</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plt</span><span class="p">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">"时间"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">"温度"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">"中午11点0分到12点之间的温度变化图示"</span><span class="p">)</span>
</code></pre></div></div> <h5 id="中文显示问题解决">中文显示问题解决</h5> <p><img src="https://blog.slienceme.cn/images/posts/f21c2cd3a78a41bb9746aa8c643e7b7f.png" alt="Alt Text" /></p> <ul class="task-list"> <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />mac的一次配置，一劳永逸</li> <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />ubantu每创建一次新的虚拟环境，需要重新配置</li> <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />windows <ol> <li>安装字体 mac/wins：双击安装 ubantu：双击安装</li> <li>删除matplotlib缓存文件</li> <li>配置文件</li> </ol> </li> </ul> <p>动态设置参数（推荐方式） 在python脚本中动态设置matplotlibrc，这样就避免了更改配置文件的麻烦，方便灵活，例如:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="n">mpl</span>
<span class="n">mpl</span><span class="p">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s">'font.sans-serif'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s">'SimHei'</span><span class="p">]</span>
</code></pre></div></div> <p>由于更改了字体导致显示不出负号，将配署文件中axes.unicode minus : True修改为Falsest就可以了，当然这而可以用代码来完成。</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="n">mpl</span>
<span class="n">mpl</span><span class="p">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s">'font.sans-serif'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s">'FangSong'</span><span class="p">]</span> <span class="c1"># 指定默认字体
</span><span class="n">mpl</span><span class="p">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s">'axes.unicode_minus'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">False</span> <span class="c1"># 解决保存图像是负号'-'显示为方块的问题
</span></code></pre></div></div> <h4 id="233-图像层">2.3.3 图像层</h4> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 需求：再添加一个曾是的温度变化
# 收集到北京当天温度变化情况，温度在1度到3度
</span><span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="n">mpl</span>
<span class="n">mpl</span><span class="p">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s">'font.sans-serif'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s">'simhei'</span><span class="p">]</span> <span class="c1"># 指定默认字体
</span><span class="n">mpl</span><span class="p">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s">'axes.unicode_minus'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">False</span> <span class="c1"># 解决保存图像是负号'-'显示为方块的问题
</span><span class="kn">import</span> <span class="nn">random</span>
<span class="c1"># 准备x,y坐标的数据
</span><span class="n">x</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
<span class="n">y_shanghai</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="p">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">18</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span>
<span class="n">y_beijing</span> <span class="o">=</span>  <span class="p">[</span><span class="n">random</span><span class="p">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span>

<span class="c1"># 2.创建画布
</span><span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>

<span class="c1"># 3.绘制图像
</span><span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y_shanghai</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">"r"</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">"--"</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">"上海"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y_beijing</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">"b"</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">"北京"</span><span class="p">)</span>

<span class="c1"># 显示图例
# plt.legend(loc=4)
</span><span class="n">plt</span><span class="p">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s">'upper left'</span><span class="p">)</span>

<span class="c1"># 修改x,y刻度
# 准备x的刻度说明
</span><span class="n">x_label</span> <span class="o">=</span> <span class="p">[</span><span class="s">"11点{}分"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span>
<span class="n">plt</span><span class="p">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">x</span><span class="p">[::</span><span class="mi">5</span><span class="p">],</span> <span class="n">x_label</span><span class="p">[::</span><span class="mi">5</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="n">yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="c1"># 添加网格显示
</span><span class="n">plt</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">'--'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># 添加描述信息
</span><span class="n">plt</span><span class="p">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">"时间"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">"温度"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">"上海、北京中午11点0分到12点之间的温度变化图示"</span><span class="p">)</span>

<span class="c1"># 4.显示图像
</span><span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div> <table> <thead> <tr> <th>颜色字符</th> <th>风格字符</th> </tr> </thead> <tbody> <tr> <td>r 红色</td> <td><code class="language-plaintext highlighter-rouge">-</code> 实线</td> </tr> <tr> <td>g 绿色</td> <td><code class="language-plaintext highlighter-rouge">--</code> 虚线</td> </tr> <tr> <td>b 蓝色</td> <td><code class="language-plaintext highlighter-rouge">-.</code> 点划线</td> </tr> <tr> <td>w 白色</td> <td><code class="language-plaintext highlighter-rouge">:</code> 点虚线</td> </tr> <tr> <td>c 青色</td> <td><code class="language-plaintext highlighter-rouge">’‘</code>留空</td> </tr> <tr> <td>m 洋红</td> <td> </td> </tr> <tr> <td>y 黄色</td> <td> </td> </tr> <tr> <td>k 黑色</td> <td> </td> </tr> </tbody> </table> <table> <thead> <tr> <th>位置字符串</th> <th>位置代码</th> </tr> </thead> <tbody> <tr> <td>‘best’</td> <td>0</td> </tr> <tr> <td>‘upper right’</td> <td>1</td> </tr> <tr> <td>‘upper left’</td> <td>2</td> </tr> <tr> <td>‘lower left’</td> <td>3</td> </tr> <tr> <td>‘lower right’</td> <td>4</td> </tr> <tr> <td>‘right’</td> <td>5</td> </tr> <tr> <td>‘center left’</td> <td>6</td> </tr> </tbody> </table> <p><img src="https://blog.slienceme.cn/images/posts/5bf4350a2c674e6bb9b1e7da23b50ee5.png" alt="Alt Text" /></p> <h5 id="多个坐标系显示">多个坐标系显示</h5> <p>相同图不同坐标系，效果图 <img src="https://blog.slienceme.cn/images/posts/0b77e41a3caf4202a89355139169f22c.png" alt="Alt Text" /></p> <ul> <li><code class="language-plaintext highlighter-rouge">plt.subplots</code>(面向对象的画图方法)</li> <li> <p><code class="language-plaintext highlighter-rouge">matplotlib.pyplot.subplots(nrows=1, ncols=1, **fig_kw)</code> 创建一个带有多个axes(坐标系/绘图区)的图</p> </li> <li>注意：plt.函数名()相当于面向过程的画图方法，axes.set_方法名()相当于面向对象的画图方法 <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">figure</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="o">**</span><span class="n">fig_kw</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">方法名</span><span class="p">()</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div> </div> </li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 需求：再添加一个城市的温度变化
# 收集到北京当天温度变化情况，温度在1度到3度。 
</span>
<span class="c1"># 1、准备数据 x y
</span><span class="n">x</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
<span class="n">y_shanghai</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="p">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">18</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span>
<span class="n">y_beijing</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="p">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span>

<span class="c1"># 2、创建画布
# plt.figure(figsize=(20, 8), dpi=80)
</span><span class="n">figure</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>

<span class="c1"># 3、绘制图像
</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y_shanghai</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">"r"</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">"-."</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">"上海"</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y_beijing</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">"b"</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">"北京"</span><span class="p">)</span>

<span class="c1"># 显示图例
</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">legend</span><span class="p">()</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">legend</span><span class="p">()</span>

<span class="c1"># 修改x、y刻度
# 准备x的刻度说明
</span><span class="n">x_label</span> <span class="o">=</span> <span class="p">[</span><span class="s">"11点{}分"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">x</span><span class="p">[::</span><span class="mi">5</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">x_label</span><span class="p">[::</span><span class="mi">5</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">set_yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">x</span><span class="p">[::</span><span class="mi">5</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">x_label</span><span class="p">[::</span><span class="mi">5</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">set_yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="c1"># 添加网格显示
</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">grid</span><span class="p">(</span><span class="n">linestyle</span><span class="o">=</span><span class="s">"--"</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">grid</span><span class="p">(</span><span class="n">linestyle</span><span class="o">=</span><span class="s">"--"</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># 添加描述信息
</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">"时间变化"</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">"温度变化"</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">"上海11点到12点每分钟的温度变化状况"</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">"时间变化"</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">"温度变化"</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">"北京11点到12点每分钟的温度变化状况"</span><span class="p">)</span>

<span class="c1"># 4、显示图
</span><span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div> <h5 id="折线图的应用场景">折线图的应用场景</h5> <ul> <li>呈现某公司产品(不同区域)每天活跃用户数</li> <li>呈现app每天下载数量</li> <li>呈现产品新功能上线后，用户点击次数随时间的变化</li> <li>拓展：画各种数学函数图像 <ul> <li>注意：<code class="language-plaintext highlighter-rouge">plt.plot()</code>除了可以画折线图，也可以用于各种数学函数图像</li> </ul> </li> </ul> <p>某事物、某指标随时间的变化状况 拓展：画各种数学函数图像</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="c1"># 1.准备x,y数据
</span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span>

<span class="c1"># 2.创建画布
</span><span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>

<span class="c1"># 3. 绘制图像
</span><span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="c1"># 添加网格
</span><span class="n">plt</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="n">linestyle</span><span class="o">=</span><span class="s">"--"</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># 4. 显示图像
</span><span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div> <p><img src="https://blog.slienceme.cn/images/posts/b8092b48f0a34650b70ce260fcce51f9.png" alt="Alt Text" /></p> <h3 id="24-散点图scatter">2.4 散点图(scatter)</h3> <h4 id="需求探究房屋面积和房屋价格的关系"><strong>需求:探究房屋面积和房屋价格的关系</strong></h4> <p>房屋面积数据：</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">225.98</span><span class="p">,</span> <span class="mf">247.07</span><span class="p">,</span> <span class="mf">253.14</span><span class="p">,</span> <span class="mf">457.85</span><span class="p">,</span> <span class="mf">241.58</span><span class="p">,</span> <span class="mf">301.01</span><span class="p">,</span>  <span class="mf">20.67</span><span class="p">,</span> <span class="mf">288.64</span><span class="p">,</span>
<span class="mf">163.56</span><span class="p">,</span> <span class="mf">120.06</span><span class="p">,</span> <span class="mf">207.83</span><span class="p">,</span> <span class="mf">342.75</span><span class="p">,</span> <span class="mf">147.9</span> <span class="p">,</span>  <span class="mf">53.06</span><span class="p">,</span> <span class="mf">224.72</span><span class="p">,</span>  <span class="mf">29.51</span><span class="p">,</span>
<span class="mf">21.61</span><span class="p">,</span> <span class="mf">483.21</span><span class="p">,</span> <span class="mf">245.25</span><span class="p">,</span> <span class="mf">399.25</span><span class="p">,</span> <span class="mf">343.35</span><span class="p">]</span>
</code></pre></div></div> <p>房屋价格数据:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mf">196.63</span><span class="p">,</span> <span class="mf">203.88</span><span class="p">,</span> <span class="mf">210.75</span><span class="p">,</span> <span class="mf">372.74</span><span class="p">,</span> <span class="mf">202.41</span><span class="p">,</span> <span class="mf">247.61</span><span class="p">,</span>  <span class="mf">24.9</span> <span class="p">,</span> <span class="mf">239.34</span><span class="p">,</span>
<span class="mf">140.32</span><span class="p">,</span> <span class="mf">104.15</span><span class="p">,</span> <span class="mf">176.84</span><span class="p">,</span> <span class="mf">288.23</span><span class="p">,</span> <span class="mf">128.79</span><span class="p">,</span>  <span class="mf">49.64</span><span class="p">,</span> <span class="mf">191.74</span><span class="p">,</span>  <span class="mf">33.1</span> <span class="p">,</span>
<span class="mf">30.74</span><span class="p">,</span> <span class="mf">400.02</span><span class="p">,</span> <span class="mf">205.35</span><span class="p">,</span> <span class="mf">330.64</span><span class="p">,</span> <span class="mf">283.45</span><span class="p">]</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 需求：探究房屋面积和房屋价格的关系
</span>
<span class="c1"># 1、准备数据
</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">225.98</span><span class="p">,</span> <span class="mf">247.07</span><span class="p">,</span> <span class="mf">253.14</span><span class="p">,</span> <span class="mf">457.85</span><span class="p">,</span> <span class="mf">241.58</span><span class="p">,</span> <span class="mf">301.01</span><span class="p">,</span>  <span class="mf">20.67</span><span class="p">,</span> <span class="mf">288.64</span><span class="p">,</span>
       <span class="mf">163.56</span><span class="p">,</span> <span class="mf">120.06</span><span class="p">,</span> <span class="mf">207.83</span><span class="p">,</span> <span class="mf">342.75</span><span class="p">,</span> <span class="mf">147.9</span> <span class="p">,</span>  <span class="mf">53.06</span><span class="p">,</span> <span class="mf">224.72</span><span class="p">,</span>  <span class="mf">29.51</span><span class="p">,</span>
        <span class="mf">21.61</span><span class="p">,</span> <span class="mf">483.21</span><span class="p">,</span> <span class="mf">245.25</span><span class="p">,</span> <span class="mf">399.25</span><span class="p">,</span> <span class="mf">343.35</span><span class="p">]</span>

<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mf">196.63</span><span class="p">,</span> <span class="mf">203.88</span><span class="p">,</span> <span class="mf">210.75</span><span class="p">,</span> <span class="mf">372.74</span><span class="p">,</span> <span class="mf">202.41</span><span class="p">,</span> <span class="mf">247.61</span><span class="p">,</span>  <span class="mf">24.9</span> <span class="p">,</span> <span class="mf">239.34</span><span class="p">,</span>
       <span class="mf">140.32</span><span class="p">,</span> <span class="mf">104.15</span><span class="p">,</span> <span class="mf">176.84</span><span class="p">,</span> <span class="mf">288.23</span><span class="p">,</span> <span class="mf">128.79</span><span class="p">,</span>  <span class="mf">49.64</span><span class="p">,</span> <span class="mf">191.74</span><span class="p">,</span>  <span class="mf">33.1</span> <span class="p">,</span>
        <span class="mf">30.74</span><span class="p">,</span> <span class="mf">400.02</span><span class="p">,</span> <span class="mf">205.35</span><span class="p">,</span> <span class="mf">330.64</span><span class="p">,</span> <span class="mf">283.45</span><span class="p">]</span>

<span class="c1"># 2、创建画布
</span><span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>

<span class="c1"># 3、绘制图像
</span><span class="n">plt</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="c1"># 4、显示图像
</span><span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div> <p><img src="https://blog.slienceme.cn/images/posts/e9fcfe52f3a7458e8907f69428b4a386.png" alt="Alt Text" /></p> <h3 id="25-柱状图bar">2.5 柱状图(bar)</h3> <h4 id="需求1-对比每部电影的票房收入"><strong>需求1-对比每部电影的票房收入</strong></h4> <p><img src="https://blog.slienceme.cn/images/posts/ccc0580330f64d0ab2ad4db2972b3751.png" alt="Alt Text" /></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 1、准备数据
</span><span class="n">movie_names</span> <span class="o">=</span> <span class="p">[</span><span class="s">'雷神3：诸神黄昏'</span><span class="p">,</span><span class="s">'正义联盟'</span><span class="p">,</span><span class="s">'东方快车谋杀案'</span><span class="p">,</span><span class="s">'寻梦环游记'</span><span class="p">,</span><span class="s">'全球风暴'</span><span class="p">,</span> <span class="s">'降魔传'</span><span class="p">,</span><span class="s">'追捕'</span><span class="p">,</span><span class="s">'七十七天'</span><span class="p">,</span><span class="s">'密战'</span><span class="p">,</span><span class="s">'狂兽'</span><span class="p">,</span><span class="s">'其它'</span><span class="p">]</span>
<span class="n">tickets</span> <span class="o">=</span> <span class="p">[</span><span class="mi">73853</span><span class="p">,</span><span class="mi">57767</span><span class="p">,</span><span class="mi">22354</span><span class="p">,</span><span class="mi">15969</span><span class="p">,</span><span class="mi">14839</span><span class="p">,</span><span class="mi">8725</span><span class="p">,</span><span class="mi">8716</span><span class="p">,</span><span class="mi">8318</span><span class="p">,</span><span class="mi">7916</span><span class="p">,</span><span class="mi">6764</span><span class="p">,</span><span class="mi">52222</span><span class="p">]</span>

<span class="c1"># 2、创建画布
</span><span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>

<span class="c1"># 3、绘制柱状图
</span><span class="n">x_ticks</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">movie_names</span><span class="p">))</span>
<span class="n">plt</span><span class="p">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x_ticks</span><span class="p">,</span> <span class="n">tickets</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s">'b'</span><span class="p">,</span><span class="s">'r'</span><span class="p">,</span><span class="s">'g'</span><span class="p">,</span><span class="s">'y'</span><span class="p">,</span><span class="s">'c'</span><span class="p">,</span><span class="s">'m'</span><span class="p">,</span><span class="s">'y'</span><span class="p">,</span><span class="s">'k'</span><span class="p">,</span><span class="s">'c'</span><span class="p">,</span><span class="s">'g'</span><span class="p">,</span><span class="s">'b'</span><span class="p">])</span>

<span class="c1"># 修改x刻度
</span><span class="n">plt</span><span class="p">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">x_ticks</span><span class="p">,</span> <span class="n">movie_names</span><span class="p">)</span>

<span class="c1"># 添加标题
</span><span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">"电影票房收入对比"</span><span class="p">)</span>

<span class="c1"># 添加网格显示
</span><span class="n">plt</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="n">linestyle</span><span class="o">=</span><span class="s">"--"</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># 4、显示图像
</span><span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div> <p><img src="https://blog.slienceme.cn/images/posts/75435c05ce92455d9e8d6b43a3eaf536.png" alt="Alt Text" /></p> <h4 id="需求2-如何对比电影票房收入才更能加有说服力"><strong>需求2-如何对比电影票房收入才更能加有说服力？</strong></h4> <p>比较相同天数的票房</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 1、准备数据
</span><span class="n">movie_name</span> <span class="o">=</span> <span class="p">[</span><span class="s">'雷神3：诸神黄昏'</span><span class="p">,</span><span class="s">'正义联盟'</span><span class="p">,</span><span class="s">'寻梦环游记'</span><span class="p">]</span>

<span class="n">first_day</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10587.6</span><span class="p">,</span><span class="mf">10062.5</span><span class="p">,</span><span class="mf">1275.7</span><span class="p">]</span>
<span class="n">first_weekend</span><span class="o">=</span><span class="p">[</span><span class="mf">36224.9</span><span class="p">,</span><span class="mf">34479.6</span><span class="p">,</span><span class="mi">11830</span><span class="p">]</span>

<span class="n">x</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">movie_name</span><span class="p">))</span>

<span class="c1"># 2、创建画布
</span><span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>

<span class="c1"># 3、绘制柱状图
# plt.bar(range(3), first_day, width=0.2, label="首日票房")
</span><span class="n">plt</span><span class="p">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">first_day</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">"首日票房"</span><span class="p">)</span>
<span class="c1"># plt.bar([0.2, 1.2, 2.2], first_weekend, width=0.2, label="首周票房")
</span><span class="n">plt</span><span class="p">.</span><span class="n">bar</span><span class="p">([</span><span class="n">i</span><span class="o">+</span><span class="mf">0.2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">],</span> <span class="n">first_weekend</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">"首周票房"</span><span class="p">)</span>

<span class="c1"># 显示图例
</span><span class="n">plt</span><span class="p">.</span><span class="n">legend</span><span class="p">()</span>

<span class="c1"># 修改刻度
# plt.xticks([0.1, 1.1, 2.1], movie_name)
</span><span class="n">plt</span><span class="p">.</span><span class="n">xticks</span><span class="p">([</span><span class="n">i</span><span class="o">+</span><span class="mf">0.1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">],</span> <span class="n">movie_name</span><span class="p">)</span>

<span class="c1"># 4、显示图像
</span><span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div> <p><img src="https://blog.slienceme.cn/images/posts/e5d36ebc5e3443369306d9fb3b806b1d.png" alt="Alt Text" /></p> <h3 id="26-直方图histogram">2.6 直方图(histogram)</h3> <p>组数=(175.5-150.5) / 5 =5 <img src="https://blog.slienceme.cn/images/posts/b92e3d320e0848e5b276a32e4aa0c737.png" alt="Alt Text" /></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 需求：电影时长分布状况
# 1、准备数据
</span><span class="n">time</span> <span class="o">=</span> <span class="p">[</span><span class="mi">131</span><span class="p">,</span>  <span class="mi">98</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span> <span class="mi">131</span><span class="p">,</span> <span class="mi">124</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="mi">131</span><span class="p">,</span> <span class="mi">117</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">108</span><span class="p">,</span> <span class="mi">135</span><span class="p">,</span> <span class="mi">138</span><span class="p">,</span> <span class="mi">131</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">107</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span> <span class="mi">119</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">121</span><span class="p">,</span> <span class="mi">142</span><span class="p">,</span> <span class="mi">127</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">124</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">116</span><span class="p">,</span> <span class="mi">117</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span>  <span class="mi">99</span><span class="p">,</span> <span class="mi">136</span><span class="p">,</span> <span class="mi">126</span><span class="p">,</span> <span class="mi">134</span><span class="p">,</span>  <span class="mi">95</span><span class="p">,</span> <span class="mi">138</span><span class="p">,</span> <span class="mi">117</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span> <span class="mi">132</span><span class="p">,</span> <span class="mi">124</span><span class="p">,</span> <span class="mi">113</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">117</span><span class="p">,</span>  <span class="mi">86</span><span class="p">,</span>  <span class="mi">95</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span> <span class="mi">126</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span><span class="mi">126</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">126</span><span class="p">,</span> <span class="mi">116</span><span class="p">,</span> <span class="mi">123</span><span class="p">,</span> <span class="mi">106</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">138</span><span class="p">,</span> <span class="mi">123</span><span class="p">,</span>  <span class="mi">86</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span>  <span class="mi">99</span><span class="p">,</span> <span class="mi">136</span><span class="p">,</span><span class="mi">123</span><span class="p">,</span> <span class="mi">117</span><span class="p">,</span> <span class="mi">119</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span> <span class="mi">137</span><span class="p">,</span> <span class="mi">123</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span> <span class="mi">104</span><span class="p">,</span> <span class="mi">109</span><span class="p">,</span> <span class="mi">134</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span> <span class="mi">127</span><span class="p">,</span><span class="mi">105</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">107</span><span class="p">,</span> <span class="mi">129</span><span class="p">,</span> <span class="mi">116</span><span class="p">,</span> <span class="mi">108</span><span class="p">,</span> <span class="mi">132</span><span class="p">,</span> <span class="mi">103</span><span class="p">,</span> <span class="mi">136</span><span class="p">,</span> <span class="mi">118</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span><span class="mi">105</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span> <span class="mi">132</span><span class="p">,</span> <span class="mi">145</span><span class="p">,</span> <span class="mi">119</span><span class="p">,</span> <span class="mi">121</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span> <span class="mi">138</span><span class="p">,</span> <span class="mi">109</span><span class="p">,</span> <span class="mi">132</span><span class="p">,</span> <span class="mi">134</span><span class="p">,</span><span class="mi">156</span><span class="p">,</span> <span class="mi">106</span><span class="p">,</span> <span class="mi">117</span><span class="p">,</span> <span class="mi">127</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="mi">119</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span>  <span class="mi">83</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span><span class="mi">123</span><span class="p">,</span><span class="mi">107</span><span class="p">,</span> <span class="mi">143</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span> <span class="mi">136</span><span class="p">,</span> <span class="mi">118</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="mi">123</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">118</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span> <span class="mi">109</span><span class="p">,</span> <span class="mi">119</span><span class="p">,</span> <span class="mi">133</span><span class="p">,</span><span class="mi">112</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span> <span class="mi">122</span><span class="p">,</span> <span class="mi">109</span><span class="p">,</span> <span class="mi">106</span><span class="p">,</span> <span class="mi">123</span><span class="p">,</span> <span class="mi">116</span><span class="p">,</span> <span class="mi">131</span><span class="p">,</span> <span class="mi">127</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span> <span class="mi">118</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">135</span><span class="p">,</span><span class="mi">115</span><span class="p">,</span> <span class="mi">146</span><span class="p">,</span> <span class="mi">137</span><span class="p">,</span> <span class="mi">116</span><span class="p">,</span> <span class="mi">103</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span>  <span class="mi">83</span><span class="p">,</span> <span class="mi">123</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">154</span><span class="p">,</span><span class="mi">136</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">118</span><span class="p">,</span> <span class="mi">119</span><span class="p">,</span> <span class="mi">133</span><span class="p">,</span> <span class="mi">134</span><span class="p">,</span> <span class="mi">106</span><span class="p">,</span> <span class="mi">129</span><span class="p">,</span> <span class="mi">126</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">109</span><span class="p">,</span> <span class="mi">141</span><span class="p">,</span><span class="mi">120</span><span class="p">,</span> <span class="mi">117</span><span class="p">,</span> <span class="mi">106</span><span class="p">,</span> <span class="mi">149</span><span class="p">,</span> <span class="mi">122</span><span class="p">,</span> <span class="mi">122</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">118</span><span class="p">,</span> <span class="mi">127</span><span class="p">,</span> <span class="mi">121</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span> <span class="mi">126</span><span class="p">,</span><span class="mi">114</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="mi">103</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">141</span><span class="p">,</span> <span class="mi">117</span><span class="p">,</span> <span class="mi">106</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span> <span class="mi">121</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span> <span class="mi">133</span><span class="p">,</span> <span class="mi">137</span><span class="p">,</span>  <span class="mi">92</span><span class="p">,</span><span class="mi">121</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">146</span><span class="p">,</span>  <span class="mi">97</span><span class="p">,</span> <span class="mi">137</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span>  <span class="mi">98</span><span class="p">,</span> <span class="mi">117</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span>  <span class="mi">81</span><span class="p">,</span>  <span class="mi">97</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="mi">113</span><span class="p">,</span><span class="mi">134</span><span class="p">,</span> <span class="mi">106</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">137</span><span class="p">,</span> <span class="mi">137</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">104</span><span class="p">,</span> <span class="mi">117</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span><span class="mi">105</span><span class="p">,</span> <span class="mi">129</span><span class="p">,</span> <span class="mi">137</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">113</span><span class="p">,</span> <span class="mi">133</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span>  <span class="mi">83</span><span class="p">,</span>  <span class="mi">94</span><span class="p">,</span> <span class="mi">146</span><span class="p">,</span> <span class="mi">133</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span><span class="mi">131</span><span class="p">,</span> <span class="mi">116</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span>  <span class="mi">84</span><span class="p">,</span> <span class="mi">137</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span> <span class="mi">122</span><span class="p">,</span> <span class="mi">106</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span> <span class="mi">109</span><span class="p">,</span> <span class="mi">123</span><span class="p">,</span> <span class="mi">116</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span><span class="mi">111</span><span class="p">,</span> <span class="mi">133</span><span class="p">,</span> <span class="mi">150</span><span class="p">]</span>

<span class="c1"># 2、创建画布
</span><span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>

<span class="c1"># 3、绘制直方图
</span><span class="n">distance</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">group_num</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="nb">max</span><span class="p">(</span><span class="n">time</span><span class="p">)</span> <span class="o">-</span> <span class="nb">min</span><span class="p">(</span><span class="n">time</span><span class="p">))</span> <span class="o">/</span> <span class="n">distance</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">hist</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">group_num</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="c1"># 1、准备数据
</span>
<span class="c1"># 修改x轴刻度
</span><span class="n">plt</span><span class="p">.</span><span class="n">xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">time</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">time</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">distance</span><span class="p">))</span>

<span class="c1"># 添加标题
</span><span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">"电影时长分布状况"</span><span class="p">)</span>

<span class="c1"># 添加网格
</span><span class="n">plt</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="n">linestyle</span><span class="o">=</span><span class="s">"--"</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># 4、显示图像
</span><span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div> <p><img src="https://blog.slienceme.cn/images/posts/d1251570f8c94256b2386921d6ef8dd4.png" alt="Alt Text" /></p> <h3 id="27-饼状图pie-π">2.7 饼状图(pie Π)</h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 1、准备数据
</span><span class="n">movie_name</span> <span class="o">=</span> <span class="p">[</span><span class="s">'雷神3：诸神黄昏'</span><span class="p">,</span><span class="s">'正义联盟'</span><span class="p">,</span><span class="s">'东方快车谋杀案'</span><span class="p">,</span><span class="s">'寻梦环游记'</span><span class="p">,</span><span class="s">'全球风暴'</span><span class="p">,</span><span class="s">'降魔传'</span><span class="p">,</span><span class="s">'追捕'</span><span class="p">,</span><span class="s">'七十七天'</span><span class="p">,</span><span class="s">'密战'</span><span class="p">,</span><span class="s">'狂兽'</span><span class="p">,</span><span class="s">'其它'</span><span class="p">]</span>

<span class="n">place_count</span> <span class="o">=</span> <span class="p">[</span><span class="mi">60605</span><span class="p">,</span><span class="mi">54546</span><span class="p">,</span><span class="mi">45819</span><span class="p">,</span><span class="mi">28243</span><span class="p">,</span><span class="mi">13270</span><span class="p">,</span><span class="mi">9945</span><span class="p">,</span><span class="mi">7679</span><span class="p">,</span><span class="mi">6799</span><span class="p">,</span><span class="mi">6101</span><span class="p">,</span><span class="mi">4621</span><span class="p">,</span><span class="mi">20105</span><span class="p">]</span>

<span class="c1"># 2、创建画布
</span><span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>

<span class="c1"># 3、绘制饼图
</span><span class="n">plt</span><span class="p">.</span><span class="n">pie</span><span class="p">(</span><span class="n">place_count</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">movie_name</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s">'b'</span><span class="p">,</span><span class="s">'r'</span><span class="p">,</span><span class="s">'g'</span><span class="p">,</span><span class="s">'y'</span><span class="p">,</span><span class="s">'c'</span><span class="p">,</span><span class="s">'m'</span><span class="p">,</span><span class="s">'y'</span><span class="p">,</span><span class="s">'k'</span><span class="p">,</span><span class="s">'c'</span><span class="p">,</span><span class="s">'g'</span><span class="p">,</span><span class="s">'y'</span><span class="p">],</span> <span class="n">autopct</span><span class="o">=</span><span class="s">"%1.2f%%"</span><span class="p">)</span>

<span class="c1"># 显示图例
</span><span class="n">plt</span><span class="p">.</span><span class="n">legend</span><span class="p">()</span>

<span class="c1"># 保证长宽一样
</span><span class="n">plt</span><span class="p">.</span><span class="n">axis</span><span class="p">(</span><span class="s">'equal'</span><span class="p">)</span>

<span class="c1"># 4、显示图像
</span><span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div> <p><img src="https://blog.slienceme.cn/images/posts/5a01eaa5b7f4444ea9c31eebbc8f519b.png" alt="Alt Text" /></p> <div style="margin-top:2em;padding:0 1.5em;border:1px solid #d3d3d3;background-color:#deebf7"> <h3>文档信息</h3> <ul> <li>本文作者：<a href="https://blog.slienceme.cn" target="_blank">slience_me</a></li> <li>本文链接：<a href="https://blog.slienceme.cn/2021/08/16/Python_Matplotlib%E7%AE%80%E5%8D%95%E4%BA%86%E8%A7%A3/" target="_blank">https://blog.slienceme.cn/2021/08/16/Python_Matplotlib%E7%AE%80%E5%8D%95%E4%BA%86%E8%A7%A3/</a></li> <li>版权声明：自由转载-非商用-非衍生-保持署名（<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank">创意共享3.0许可证</a>）</li> </ul> </div> </article> <div class="share"> <div class="share-component" data-disabled='qq,facebook'></div> </div> <div class="comment"> <script src="https://giscus.app/client.js" data-repo="slience-me/blog-comments" data-repo-id="R_kgDOKr27jA" data-category="Announcements" data-category-id="DIC_kwDOKr27jM4CnWMe" data-mapping="title" data-strict="1" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous" async> </script> </div> </div> <div class="column one-fourth"> <h3>Search</h3> <div id="site_search"> <input style="width:96%" type="text" id="search_box" placeholder="Search"> </div> <ul id="search_results" style="font-size:14px;list-style-type:none;padding-top:10px;padding-left:10px;"></ul> <script src="https://blog.slienceme.cn/assets/js/simple-jekyll-search.min.js"></script> <script type="text/javascript"> SimpleJekyllSearch({ searchInput: document.getElementById('search_box'), resultsContainer: document.getElementById('search_results'), json: 'https://blog.slienceme.cn/assets/search_data.json?v=1740598837', searchResultTemplate: '<li><a href="{url}" title="{title}">{title}</a></li>', noResultsText: 'No results found', limit: 10, fuzzy: false, exclude: ['Welcome'] }) </script> <h3 class="post-directory-title mobile-hidden">Table of Contents</h3> <div id="post-directory-module" class="mobile-hidden"> <section class="post-directory"> <dl></dl> </section> </div> <script src="https://blog.slienceme.cn/assets/js/jquery.toc.js"></script> </div> </div> </section> <footer class="container"> <div class="site-footer" role="contentinfo"> <div class="copyright left mobile-block"> Copyright@ 2019-2025 slience_me 版权所有&emsp; <img src="/images/logo/logo.png" class="w-full" style="width: 12px;"> <a href="https://beian.mps.gov.cn/#/query/webSearch?code=13102202000626" rel="noreferrer" target="_blank">冀公网安备13102202000626</a>&emsp; <a href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank" rel="noreferrer">津ICP备2024026565号-1</a> <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a> </div> <ul class="site-footer-links right mobile-hidden"> <li> <a href="javascript:window.scrollTo(0,0)" >TOP</a> </li> </ul> <br/> <script defer src="https://vercount.one/js"></script> <div class="mobile-hidden" style="margin-top:8px"> <span id="busuanzi_container_site_pv" style="display:none"> 本站访问量<span id="busuanzi_value_site_pv"></span>次 </span> <span id="busuanzi_container_site_uv" style="display:none"> / 本站访客数<span id="busuanzi_value_site_uv"></span>人 </span> <span id="busuanzi_container_page_pv" style="display:none"> / 本页访问量<span id="busuanzi_value_page_pv"></span>次 / 统计始于2024-12-01 </span> </div> </div> </footer> <div class="tools-wrapper"> <a class="gotop" href="#" title="回到顶部"><span class="octicon octicon-arrow-up"></span></a> </div> <script src="https://blog.slienceme.cn/assets/vendor/share.js/dist/js/share.min.js"></script> <script src="https://blog.slienceme.cn/assets/js/geopattern.js"></script> <script> jQuery(document).ready(function($) { $('.geopattern').each(function(){ $(this).geopattern($(this).data('pattern-id')); }); /* hljs.initHighlightingOnLoad(); */ }); </script> </body> </html>
