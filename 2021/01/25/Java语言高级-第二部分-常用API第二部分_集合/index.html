<!DOCTYPE html> <html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /> <title>Java｜Java语言高级（第二部分）常用API第二部分_集合 &mdash; Slience_me的博客</title> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/vendor/primer-css/css/primer.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/components/collection.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/components/repo-card.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/sections/repo-list.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/components/boxed-group.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/globals/common.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/globals/responsive.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/posts/index.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/vendor/octicons/octicons/octicons.css"> <link rel="stylesheet" href="https://mazhuang.org/rouge-themes/dist/github.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/vendor/share.js/dist/css/share.min.css"> <link rel="canonical" href="https://blog.slienceme.cn/2021/01/25/Java%E8%AF%AD%E8%A8%80%E9%AB%98%E7%BA%A7-%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86-%E5%B8%B8%E7%94%A8API%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86_%E9%9B%86%E5%90%88/"> <link rel="alternate" type="application/atom+xml" title="Slience_me的博客" href="https://blog.slienceme.cn/feed.xml"> <link rel="shortcut icon" href="https://blog.slienceme.cn/favicon.ico"> <meta property="og:title" content="Java｜Java语言高级（第二部分）常用API第二部分_集合"> <meta name="keywords" content="编程语言, Java"> <meta name="og:keywords" content="编程语言, Java"> <meta name="description" content=""> <meta name="og:description" content=""> <meta property="og:url" content="https://blog.slienceme.cn/2021/01/25/Java%E8%AF%AD%E8%A8%80%E9%AB%98%E7%BA%A7-%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86-%E5%B8%B8%E7%94%A8API%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86_%E9%9B%86%E5%90%88/"> <meta property="og:site_name" content="Slience_me的博客"> <meta property="og:type" content="article"> <meta property="og:locale" content="zh_CN" /> <meta property="article:published_time" content="2021-01-25"> <meta name="google-site-verification" content="2feHjT1GNs1Yi2JQfOtdYx7d048naG_-cMwZaDAopIA" /> <script src="https://blog.slienceme.cn/assets/vendor/jquery/dist/jquery.min.js"></script> <script src="https://blog.slienceme.cn/assets/js/main.js"></script> </head> <body class="" data-mz=""> <header class="site-header"> <div class="container"> <h1><a href="https://blog.slienceme.cn/" title="Slience_me的博客"><span class="octicon octicon-mark-github"></span> Slience_me的博客</a></h1> <button class="collapsed mobile-visible" type="button" onclick="toggleMenu();"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <nav class="site-header-nav" role="navigation"> <a href="https://blog.slienceme.cn/" class="site-header-nav-item" target="" title="首页">首页</a> <a href="https://blog.slienceme.cn/categories/" class="site-header-nav-item" target="" title="分类">分类</a> <a href="https://blog.slienceme.cn/archives/" class="mobile-hidden site-header-nav-item" target="" title="归档">归档</a> <a href="https://blog.slienceme.cn/open-source/" class="mobile-hidden site-header-nav-item" target="" title="开源">开源</a> <a href="https://blog.slienceme.cn/fragments/" class="site-header-nav-item" target="" title="片段">片段</a> <a href="https://blog.slienceme.cn/wiki/" class="site-header-nav-item" target="" title="维基">维基</a> <a href="https://blog.slienceme.cn/links/" class="mobile-hidden site-header-nav-item" target="" title="链接">链接</a> <a href="https://blog.slienceme.cn/about/" class="site-header-nav-item" target="" title="关于">关于</a> <a class="mobile-hidden" href="https://blog.slienceme.cn/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a> </nav> </div> </header> <section class="collection-head small geopattern" data-pattern-id="Java｜Java语言高级（第"> <div class="container"> <div class="columns"> <div class="column three-fourths"> <div class="collection-title"> <h1 class="collection-header">Java｜Java语言高级（第二部分）常用API第二部分_集合</h1> <div class="collection-info"> <span class="meta-info"> <span class="octicon octicon-calendar"></span> 2021/01/25 </span> <span class="meta-info"> <span class="octicon octicon-file-directory"></span> <a href="https://blog.slienceme.cn/categories/#Java" title="Java">Java</a> </span> <span class="meta-info"> <span class="octicon octicon-clock"></span> 共 98068 字，约 281 分钟 </span> </div> </div> </div> <div class="column one-fourth mobile-hidden"> <div class="collection-title"> </div> </div> </div> </div> </section> <section class="container content"> <div class="columns"> <div class="column three-fourths" > <article class="article-content markdown-body"> <p><img src="https://blog.slienceme.cn/images/posts/logo_slienceme3.png" alt="img" /></p> <p>本文作者： <a href="https://slienceme.cn/">slience_me</a></p> <hr /> <h1 id="java语言高级第二部分常用api第二部分_集合">Java语言高级（第二部分）常用API第二部分_集合</h1> <h1 id="第三章-常用api第二部分">第三章 常用API第二部分</h1> <h2 id="1-object类">1. Object类</h2> <h3 id="11-概述">1.1 概述</h3> <p><code class="language-plaintext highlighter-rouge">java.lang.Object</code>类是Java语言中的根类，即所有类的父类。它中描述的所有方法子类都可以使用。在对象实例化的时候，最终找的父类就是Object。</p> <p>如果一个类没有特别指定父类， 那么默认则继承自Object类。例如：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyClass</span> <span class="cm">/*extends Object*/</span> <span class="o">{</span>
  	<span class="c1">// ...</span>
<span class="o">}</span>
</code></pre></div></div> <p>根据JDK源代码及Object类的API文档，Object类当中包含的方法有11个。今天我们主要学习其中的2个：</p> <ul> <li><code class="language-plaintext highlighter-rouge">public String toString()</code>：返回该对象的字符串表示。</li> <li><code class="language-plaintext highlighter-rouge">public boolean equals(Object obj)</code>：指示其他某个对象是否与此对象“相等”。</li> </ul> <h3 id="12-tostring方法">1.2 toString方法</h3> <h4 id="方法摘要">方法摘要</h4> <ul> <li><code class="language-plaintext highlighter-rouge">public String toString()</code>：返回该对象的字符串表示。</li> </ul> <p>toString方法返回该对象的字符串表示，其实该字符串内容就是对象的类型+@+内存地址值。</p> <p>由于toString方法返回的结果是内存地址，而在开发中，经常需要按照对象的属性得到相应的字符串表现形式，因此也需要重写它。</p> <h4 id="覆盖重写">覆盖重写</h4> <p>如果不希望使用toString方法的默认行为，则可以对它进行覆盖重写。例如自定义的Person类：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Person</span> <span class="o">{</span>  
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"Person{"</span> <span class="o">+</span> <span class="s">"name='"</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="sc">'\''</span> <span class="o">+</span> <span class="s">", age="</span> <span class="o">+</span> <span class="n">age</span> <span class="o">+</span> <span class="sc">'}'</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// 省略构造器与Getter Setter</span>
<span class="o">}</span>
</code></pre></div></div> <p>在IntelliJ IDEA中，可以点击<code class="language-plaintext highlighter-rouge">Code</code>菜单中的<code class="language-plaintext highlighter-rouge">Generate...</code>，也可以使用快捷键<code class="language-plaintext highlighter-rouge">alt+insert</code>，点击<code class="language-plaintext highlighter-rouge">toString()</code>选项。选择需要包含的成员变量并确定。</p> <blockquote> <p>小贴士： 在我们直接使用输出语句输出对象名的时候,其实通过该对象调用了其toString()方法。</p> </blockquote> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Random</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="cm">/*
    java.lang.Object
    类 Object 是类层次结构的根(父)类。
    每个类(Person,Student...)都使用 Object 作为超(父)类。
    所有对象（包括数组）都实现这个类的方法。
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo01ToString</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="cm">/*
            Person类默认继承了Object类,所以可以使用Object类中的toString方法
            String toString() 返回该对象的字符串表示。
         */</span>
        <span class="nc">Person</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"张三"</span><span class="o">,</span><span class="mi">18</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">s</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">);</span><span class="c1">//com.itheima.demo01.Object.Person@75412c2f | abc | Person{name=张三 ,age=18}</span>

        <span class="c1">//直接打印对象的名字,其实就是调用对象的toString  p=p.toString();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">p</span><span class="o">);</span><span class="c1">//com.itheima.demo01.Object.Person@5f150435 | abc | Person{name=张三 ,age=18}</span>

        <span class="c1">//看一个类是否重写了toString,直接打印这个类的对象即可,如果没有重写toString方法那么打印的是对象的地址值</span>
        <span class="nc">Random</span> <span class="n">r</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Random</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">r</span><span class="o">);</span><span class="c1">//java.util.Random@3f3afe78  没有重写toString方法</span>

        <span class="nc">Scanner</span> <span class="n">sc</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">sc</span><span class="o">);</span><span class="c1">//java.util.Scanner[delimiters=\p{javaWhitespace}+..  重写toString方法</span>

        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">);</span><span class="c1">//[1, 2, 3]  重写toString方法</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h3 id="13-equals方法">1.3 equals方法</h3> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.Objects</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Person</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Person</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Person</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="cm">/*
        直接打印对象的地址值没有意义,需要重写Object类中的toString方法
        打印对象的属性(name,age)
     */</span>
    <span class="cm">/*@Override
    public String toString() {
       //return "abc";
       return "Person{name="+name+" ,age="+age+"}";
    }*/</span>
    <span class="cm">/*@Override
    public String toString() {
        return "Person{" +
                "name='" + name + '\'' +
                ", age=" + age +
                '}';
    }*/</span>

    <span class="cm">/*
        Object类的equals方法,默认比较的是两个对象的地址值,没有意义
        所以我们要重写equals方法,比较两个对象的属性(name,age)
        问题:
            隐含着一个多态
            多态的弊端:无法使用子类特有的内容(属性和方法)
            Object obj = p2 = new Person("古力娜扎",19);
            解决:可以使用向下转型(强转)把obj类型转换为Person
     */</span>
    <span class="cm">/*@Override
    public boolean equals(Object obj) {
        //增加一个判断,传递的参数obj如果是this本身,直接返回true,提高程序的效率
        if(obj==this){
            return true;
        }

        //增加一个判断,传递的参数obj如果是null,直接返回false,提高程序的效率
        if(obj==null){
            return false;
        }

        //增加一个判断,防止类型转换一次ClassCastException
        if(obj instanceof Person){
            //使用向下转型,把obj转换为Person类型
            Person p = (Person)obj;
            //比较两个对象的属性,一个对象是this(p1),一个对象是p(obj-&gt;p2)
            boolean b = this.name.equals(p.name) &amp;&amp; this.age==p.age;
            return b;
        }
        //不是Person类型直接返回false
        return false;
    }*/</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="nc">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="k">this</span> <span class="o">==</span> <span class="n">o</span><span class="o">)</span> <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="c1">//getClass() != o.getClass() 使用反射技术,判断o是否是Person类型  等效于 obj instanceof Person</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">o</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">getClass</span><span class="o">()</span> <span class="o">!=</span> <span class="n">o</span><span class="o">.</span><span class="na">getClass</span><span class="o">())</span> <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="nc">Person</span> <span class="n">person</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Person</span><span class="o">)</span> <span class="n">o</span><span class="o">;</span>
        <span class="k">return</span> <span class="n">age</span> <span class="o">==</span> <span class="n">person</span><span class="o">.</span><span class="na">age</span> <span class="o">&amp;&amp;</span>
                <span class="nc">Objects</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">person</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">()</span> <span class="o">{</span>

        <span class="k">return</span> <span class="nc">Objects</span><span class="o">.</span><span class="na">hash</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">age</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div> <h4 id="方法摘要-1">方法摘要</h4> <ul> <li><code class="language-plaintext highlighter-rouge">public boolean equals(Object obj)</code>：指示其他某个对象是否与此对象“相等”。</li> </ul> <p>调用成员方法equals并指定参数为另一个对象，则可以判断这两个对象是否是相同的。这里的“相同”有默认和自定义两种方式。</p> <h4 id="默认地址比较">默认地址比较</h4> <p>如果没有覆盖重写equals方法，那么Object类中默认进行<code class="language-plaintext highlighter-rouge">==</code>运算符的对象地址比较，只要不是同一个对象，结果必然为false。</p> <h4 id="对象内容比较">对象内容比较</h4> <p>如果希望进行对象的内容比较，即所有或指定的部分成员变量相同就判定两个对象相同，则可以覆盖重写equals方法。例如：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.Objects</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Person</span> <span class="o">{</span>	
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>
	
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="nc">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 如果对象地址一样，则认为相同</span>
        <span class="k">if</span> <span class="o">(</span><span class="k">this</span> <span class="o">==</span> <span class="n">o</span><span class="o">)</span>
            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="c1">// 如果参数为空，或者类型信息不一样，则认为不同</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">o</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">getClass</span><span class="o">()</span> <span class="o">!=</span> <span class="n">o</span><span class="o">.</span><span class="na">getClass</span><span class="o">())</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="c1">// 转换为当前类型</span>
        <span class="nc">Person</span> <span class="n">person</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Person</span><span class="o">)</span> <span class="n">o</span><span class="o">;</span>
        <span class="c1">// 要求基本类型相等，并且将引用类型交给java.util.Objects类的equals静态方法取用结果</span>
        <span class="k">return</span> <span class="n">age</span> <span class="o">==</span> <span class="n">person</span><span class="o">.</span><span class="na">age</span> <span class="o">&amp;&amp;</span> <span class="nc">Objects</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">person</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>这段代码充分考虑了对象为空、类型一致等问题，但方法内容并不唯一。大多数IDE都可以自动生成equals方法的代码内容。在IntelliJ IDEA中，可以使用<code class="language-plaintext highlighter-rouge">Code</code>菜单中的<code class="language-plaintext highlighter-rouge">Generate…</code>选项，也可以使用快捷键<code class="language-plaintext highlighter-rouge">alt+insert</code>，并选择<code class="language-plaintext highlighter-rouge">equals() and hashCode()</code>进行自动代码生成。</p> <blockquote> <p>tips：Object类当中的hashCode等其他方法，今后学习。</p> </blockquote> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo02Equals</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="cm">/*
            Person类默认继承了Object类,所以可以使用Object类的equals方法
            boolean equals(Object obj) 指示其他某个对象是否与此对象“相等”。
            equals方法源码:
                public boolean equals(Object obj) {
                    return (this == obj);
                }
                参数:
                    Object obj:可以传递任意的对象
                    == 比较运算符,返回的是一个布尔值 true false
                    基本数据类型:比较的是值
                    引用数据类型:比价的是两个对象的地址值
               this是谁?那个对象调用的方法,方法中的this就是那个对象;p1调用的equals方法所以this就是p1
               obj是谁?传递过来的参数p2
               this==obj --&gt;p1==p2
         */</span>
        <span class="nc">Person</span> <span class="n">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"迪丽热巴"</span><span class="o">,</span><span class="mi">18</span><span class="o">);</span>
        <span class="c1">//Person p2 = new Person("古力娜扎",19);</span>
        <span class="nc">Person</span> <span class="n">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"迪丽热巴"</span><span class="o">,</span><span class="mi">18</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"p1:"</span><span class="o">+</span><span class="n">p1</span><span class="o">);</span><span class="c1">//p1:com.itheima.demo01.Object.Person@58ceff1</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"p2:"</span><span class="o">+</span><span class="n">p2</span><span class="o">);</span><span class="c1">//p2:com.itheima.demo01.Object.Person@7c30a502</span>

        <span class="c1">//p1=p2;//把p2的地址值赋值给p1</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>

        <span class="kt">boolean</span> <span class="n">b</span> <span class="o">=</span> <span class="n">p1</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">p1</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">b</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h3 id="14-objects类">1.4 Objects类</h3> <p>在刚才IDEA自动重写equals代码中，使用到了<code class="language-plaintext highlighter-rouge">java.util.Objects</code>类</p> <p>在<strong>JDK7</strong>添加了一个Objects工具类，它提供了一些方法来操作对象，它由一些静态的实用方法组成，这些方法是null-save（空指针安全的）或null-tolerant（容忍空指针的），用于计算对象的hashcode、返回对象的字符串表示形式、比较两个对象。</p> <p>在比较两个对象的时候，Object的equals方法容易抛出空指针异常，而Objects类中的equals方法就优化了这个问题。方法如下：</p> <ul> <li><code class="language-plaintext highlighter-rouge">public static boolean equals(Object a, Object b)</code>:判断两个对象是否相等。</li> </ul> <p><strong>源码：</strong></p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="nc">Object</span> <span class="n">a</span><span class="o">,</span> <span class="nc">Object</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>  
    <span class="k">return</span> <span class="o">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="o">)</span> <span class="o">||</span> <span class="o">(</span><span class="n">a</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">a</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">b</span><span class="o">));</span>  
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.Objects</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo03Objects</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">s1</span> <span class="o">=</span> <span class="s">"abc"</span><span class="o">;</span>
        <span class="c1">//String s1 = null;</span>
        <span class="nc">String</span> <span class="n">s2</span> <span class="o">=</span> <span class="s">"abc"</span><span class="o">;</span>
        <span class="c1">//boolean b = s1.equals(s2); // NullPointerException null是不能调用方法的,会抛出空指针异常</span>
        <span class="c1">//System.out.println(b);</span>
        <span class="cm">/*
            Objects类的equals方法:对两个对象进行比较,防止空指针异常
            public static boolean equals(Object a, Object b) {
                return (a == b) || (a != null &amp;&amp; a.equals(b));
            }
         */</span>
        <span class="kt">boolean</span> <span class="n">b2</span> <span class="o">=</span> <span class="nc">Objects</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">s1</span><span class="o">,</span> <span class="n">s2</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">b2</span><span class="o">);</span>

    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h2 id="2-日期时间类">2. 日期时间类</h2> <h3 id="21-date类">2.1 Date类</h3> <h4 id="概述">概述</h4> <p>` java.util.Date`类 表示特定的瞬间，精确到毫秒。</p> <p>继续查阅Date类的描述，发现Date拥有多个构造函数，只是部分已经过时，但是其中有未过时的构造函数可以把毫秒值转成日期对象。</p> <ul> <li><code class="language-plaintext highlighter-rouge">public Date()</code>：分配Date对象并初始化此对象，以表示分配它的时间（精确到毫秒）。</li> <li><code class="language-plaintext highlighter-rouge">public Date(long date)</code>：分配Date对象并初始化此对象，以表示自从标准基准时间（称为“历元（epoch）”，即1970年1月1日00:00:00 GMT）以来的指定毫秒数。</li> </ul> <blockquote> <p>tips: 由于我们处于东八区，所以我们的基准时间为1970年1月1日8时0分0秒。</p> </blockquote> <p>简单来说：使用无参构造，可以自动设置当前系统时间的毫秒时刻；指定long类型的构造参数，可以自定义毫秒时刻。例如：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo01Date</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 创建日期对象，把当前的时间</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="k">new</span> <span class="nc">Date</span><span class="o">());</span> <span class="c1">// Tue Jan 16 14:37:35 CST 2018</span>
        <span class="c1">// 创建日期对象，把当前的毫秒值转成日期对象</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="k">new</span> <span class="nc">Date</span><span class="o">(</span><span class="mi">0L</span><span class="o">));</span> <span class="c1">// Thu Jan 01 08:00:00 CST 1970</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <blockquote> <p>tips:在使用println方法时，会自动调用Date类中的toString方法。Date类对Object类中的toString方法进行了覆盖重写，所以结果为指定格式的字符串。</p> </blockquote> <h4 id="常用方法">常用方法</h4> <p>Date类中的多数方法已经过时，常用的方法有：</p> <ul> <li><code class="language-plaintext highlighter-rouge">public long getTime()</code> 把日期对象转换成对应的时间毫秒值。</li> </ul> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
    java.util.Date:表示日期和时间的类
    类 Date 表示特定的瞬间，精确到毫秒。
    毫秒:千分之一秒 1000毫秒=1秒
    特定的瞬间:一个时间点,一刹那时间
    2088-08-08 09:55:33:333 瞬间
    2088-08-08 09:55:33:334 瞬间
    2088-08-08 09:55:33:334 瞬间
    ...
    毫秒值的作用:可以对时间和日期进行计算
    2099-01-03 到 2088-01-01 中间一共有多少天
    可以日期转换为毫秒进行计算,计算完毕,在把毫秒转换为日期

    把日期转换为毫秒:
        当前的日期:2088-01-01
        时间原点(0毫秒):1970 年 1 月 1 日 00:00:00(英国格林威治)
        就是计算当前日期到时间原点之间一共经历了多少毫秒 (1611477797585L)
    注意:
        中国属于东八区,会把时间增加8个小时
        1970 年 1 月 1 日 08:00:00

    把毫秒转换为日期:
        1 天 = 24 × 60 × 60 = 86400 秒  = 86400 x 1000 = 86400000毫秒
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo01Date</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">());</span><span class="c1">//获取当前系统时间到1970 年 1 月 1 日 00:00:00经历了多少毫秒</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo02Date</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">demo03</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="cm">/*
        long getTime() 把日期转换为毫秒值(相当于System.currentTimeMillis()方法)
          返回自 1970 年 1 月 1 日 00:00:00 GMT 以来此 Date 对象表示的毫秒数。
     */</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">demo03</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="o">();</span>
        <span class="kt">long</span> <span class="n">time</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="na">getTime</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">time</span><span class="o">);</span><span class="c1">//1611478033182</span>
    <span class="o">}</span>

    <span class="cm">/*
        Date类的带参数构造方法
        Date(long date) :传递毫秒值,把毫秒值转换为Date日期
     */</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">demo02</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="o">(</span><span class="mi">0L</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">date</span><span class="o">);</span><span class="c1">// Thu Jan 01 08:00:00 CST 1970</span>

        <span class="n">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="o">(</span><span class="mi">1611478033182L</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">date</span><span class="o">);</span><span class="c1">// Sun Aug 08 09:39:00 CST 2088</span>
    <span class="o">}</span>

    <span class="cm">/*
        Date类的空参数构造方法
        Date() 获取当前系统的日期和时间
     */</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">demo01</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">date</span><span class="o">);</span><span class="c1">//Sun Aug 08 12:23:03 CST 2088</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div> <h3 id="22-dateformat类">2.2 DateFormat类</h3> <p><code class="language-plaintext highlighter-rouge">java.text.DateFormat</code> 是日期/时间格式化子类的抽象类，我们通过这个类可以帮我们完成日期和文本之间的转换,也就是可以在Date对象与String对象之间进行来回转换。</p> <ul> <li><strong>格式化</strong>：按照指定的格式，从Date对象转换为String对象。</li> <li><strong>解析</strong>：按照指定的格式，从String对象转换为Date对象。</li> </ul> <h4 id="构造方法">构造方法</h4> <p>由于DateFormat为抽象类，不能直接使用，所以需要常用的子类<code class="language-plaintext highlighter-rouge">java.text.SimpleDateFormat</code>。这个类需要一个模式（格式）来指定格式化或解析的标准。构造方法为：</p> <ul> <li><code class="language-plaintext highlighter-rouge">public SimpleDateFormat(String pattern)</code>：用给定的模式和默认语言环境的日期格式符号构造SimpleDateFormat。</li> </ul> <p>参数pattern是一个字符串，代表日期时间的自定义格式。</p> <h4 id="格式规则">格式规则</h4> <p>常用的格式规则为：</p> <table> <thead> <tr> <th>标识字母（区分大小写）</th> <th>含义</th> </tr> </thead> <tbody> <tr> <td>y</td> <td>年</td> </tr> <tr> <td>M</td> <td>月</td> </tr> <tr> <td>d</td> <td>日</td> </tr> <tr> <td>H</td> <td>时</td> </tr> <tr> <td>m</td> <td>分</td> </tr> <tr> <td>s</td> <td>秒</td> </tr> </tbody> </table> <blockquote> <p>备注：更详细的格式规则，可以参考SimpleDateFormat类的API文档0。</p> </blockquote> <p>创建SimpleDateFormat对象的代码如：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.text.DateFormat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo02SimpleDateFormat</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 对应的日期格式如：2020-01-24 15:06:38</span>
        <span class="nc">DateFormat</span> <span class="n">format</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SimpleDateFormat</span><span class="o">(</span><span class="s">"yyyy-MM-dd HH:mm:ss"</span><span class="o">);</span>
    <span class="o">}</span>    
<span class="o">}</span>
</code></pre></div></div> <h4 id="常用方法-1">常用方法</h4> <p>DateFormat类的常用方法有：</p> <ul> <li><code class="language-plaintext highlighter-rouge">public String format(Date date)</code>：将Date对象格式化为字符串。</li> <li><code class="language-plaintext highlighter-rouge">public Date parse(String source)</code>：将字符串解析为Date对象。</li> </ul> <h5 id="format方法">format方法</h5> <p>使用format方法的代码为：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.text.DateFormat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>
<span class="cm">/*
 把Date对象转换成String
*/</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo03DateFormatMethod</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="o">();</span>
        <span class="c1">// 创建日期格式化对象,在获取格式化对象时可以指定风格</span>
        <span class="nc">DateFormat</span> <span class="n">df</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SimpleDateFormat</span><span class="o">(</span><span class="s">"yyyy年MM月dd日"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">str</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">date</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">str</span><span class="o">);</span> <span class="c1">// 2008年1月23日</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h5 id="parse方法">parse方法</h5> <p>使用parse方法的代码为：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.text.DateFormat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.text.ParseException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>
<span class="cm">/*
 把String转换成Date对象
*/</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo04DateFormatMethod</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">ParseException</span> <span class="o">{</span>
        <span class="nc">DateFormat</span> <span class="n">df</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SimpleDateFormat</span><span class="o">(</span><span class="s">"yyyy年MM月dd日"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">str</span> <span class="o">=</span> <span class="s">"2018年12月11日"</span><span class="o">;</span>
        <span class="nc">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">str</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">date</span><span class="o">);</span> <span class="c1">// Tue Dec 11 00:00:00 CST 2018</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h3 id="23-练习">2.3 练习</h3> <p>请使用日期时间相关的API，计算出一个人已经出生了多少天。</p> <p><strong>思路：</strong></p> <p>1.获取当前时间对应的毫秒值</p> <p>2.获取自己出生日期对应的毫秒值</p> <p>3.两个时间相减（当前时间– 出生日期）</p> <p><strong>代码实现：</strong></p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">function</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
	<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"请输入出生日期 格式 YYYY-MM-dd"</span><span class="o">);</span>
	<span class="c1">// 获取出生日期,键盘输入</span>
	<span class="nc">String</span> <span class="n">birthdayString</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">).</span><span class="na">next</span><span class="o">();</span>
	<span class="c1">// 将字符串日期,转成Date对象</span>
	<span class="c1">// 创建SimpleDateFormat对象,写日期模式</span>
	<span class="nc">SimpleDateFormat</span> <span class="n">sdf</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SimpleDateFormat</span><span class="o">(</span><span class="s">"yyyy-MM-dd"</span><span class="o">);</span>
	<span class="c1">// 调用方法parse,字符串转成日期对象</span>
	<span class="nc">Date</span> <span class="n">birthdayDate</span> <span class="o">=</span> <span class="n">sdf</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">birthdayString</span><span class="o">);</span>	
	<span class="c1">// 获取今天的日期对象</span>
	<span class="nc">Date</span> <span class="n">todayDate</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="o">();</span>	
	<span class="c1">// 将两个日期转成毫秒值,Date类的方法getTime</span>
	<span class="kt">long</span> <span class="n">birthdaySecond</span> <span class="o">=</span> <span class="n">birthdayDate</span><span class="o">.</span><span class="na">getTime</span><span class="o">();</span>
	<span class="kt">long</span> <span class="n">todaySecond</span> <span class="o">=</span> <span class="n">todayDate</span><span class="o">.</span><span class="na">getTime</span><span class="o">();</span>
	<span class="kt">long</span> <span class="n">secone</span> <span class="o">=</span> <span class="n">todaySecond</span><span class="o">-</span><span class="n">birthdaySecond</span><span class="o">;</span>	
	<span class="k">if</span> <span class="o">(</span><span class="n">secone</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">){</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"还没出生呢"</span><span class="o">);</span>
	<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">secone</span><span class="o">/</span><span class="mi">1000</span><span class="o">/</span><span class="mi">60</span><span class="o">/</span><span class="mi">60</span><span class="o">/</span><span class="mi">24</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <hr /> <hr /> <hr /> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.text.ParseException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>

<span class="cm">/*
    java.text.DateFormat:是日期/时间格式化子类的抽象类
    作用:
        格式化（也就是日期 -&gt; 文本）、解析（文本-&gt; 日期）
    成员方法:
        String format(Date date)  按照指定的模式,把Date日期,格式化为符合模式的字符串
        Date parse(String source)  把符合模式的字符串,解析为Date日期
    DateFormat类是一个抽象类,无法直接创建对象使用,可以使用DateFormat类的子类

    java.text.SimpleDateFormat extends DateFormat

    构造方法:
        SimpleDateFormat(String pattern)
          用给定的模式和默认语言环境的日期格式符号构造 SimpleDateFormat。
        参数:
             String pattern:传递指定的模式
        模式:区分大小写的
            y   年
            M   月
            d   日
            H   时
            m   分
            s   秒
        写对应的模式,会把模式替换为对应的日期和时间
            "yyyy-MM-dd HH:mm:ss"
        注意:
            模式中的字母不能更改,连接模式的符号可以改变
             "yyyy年MM月dd日 HH时mm分ss秒"

 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo01DateFormat</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">ParseException</span> <span class="o">{</span>
        <span class="n">demo02</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="cm">/*
         使用DateFormat类中的方法parse,把文本解析为日期
         使用步骤:
            1.创建SimpleDateFormat对象,构造方法中传递指定的模式
            2.调用SimpleDateFormat对象中的方法parse,把符合构造方法中模式的字符串,解析为Date日期
            注意:
                public Date parse(String source) throws ParseException
                parse方法声明了一个异常叫ParseException
                如果字符串和构造方法的模式不一样,那么程序就会抛出此异常
                调用一个抛出了异常的方法,就必须的处理这个异常,要么throws继续抛出这个异常,要么try catch自己处理
     */</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">demo02</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">ParseException</span> <span class="o">{</span>
        <span class="c1">//1.创建SimpleDateFormat对象,构造方法中传递指定的模式</span>
        <span class="nc">SimpleDateFormat</span> <span class="n">sdf</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SimpleDateFormat</span><span class="o">(</span><span class="s">"yyyy年MM月dd日 HH时mm分ss秒"</span><span class="o">);</span>
        <span class="c1">//2.调用SimpleDateFormat对象中的方法parse,把符合构造方法中模式的字符串,解析为Date日期</span>
        <span class="c1">//Date parse(String source)  把符合模式的字符串,解析为Date日期</span>
        <span class="nc">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="n">sdf</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"2088年08月08日 15时51分54秒"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">date</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/*
        使用DateFormat类中的方法format,把日期格式化为文本
        使用步骤:
            1.创建SimpleDateFormat对象,构造方法中传递指定的模式
            2.调用SimpleDateFormat对象中的方法format,按照构造方法中指定的模式,把Date日期格式化为符合模式的字符串(文本)
     */</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">demo01</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">//1.创建SimpleDateFormat对象,构造方法中传递指定的模式</span>
        <span class="nc">SimpleDateFormat</span> <span class="n">sdf</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SimpleDateFormat</span><span class="o">(</span><span class="s">"yyyy年MM月dd日 HH时mm分ss秒"</span><span class="o">);</span>
        <span class="c1">//2.调用SimpleDateFormat对象中的方法format,按照构造方法中指定的模式,把Date日期格式化为符合模式的字符串(文本)</span>
        <span class="c1">//String format(Date date)  按照指定的模式,把Date日期,格式化为符合模式的字符串</span>
        <span class="nc">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">d</span> <span class="o">=</span> <span class="n">sdf</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">date</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">date</span><span class="o">);</span><span class="c1">//Sun Aug 08 15:51:54 CST 2088</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">d</span><span class="o">);</span><span class="c1">//2088年08月08日 15时51分54秒</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.text.ParseException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="cm">/*
    练习:
        请使用日期时间相关的API，计算出一个人已经出生了多少天。
    分析:
        1.使用Scanner类中的方法next,获取出生日期
        2.使用DateFormat类中的方法parse,把字符串的出生日期,解析为Date格式的出生日期
        3.把Date格式的出生日期转换为毫秒值
        4.获取当前的日期,转换为毫秒值
        5.使用当前日期的毫秒值-出生日期的毫秒值
        6.把毫秒差值转换为天(s/1000/60/60/24)
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo02Test</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">ParseException</span> <span class="o">{</span>
        <span class="c1">//1.使用Scanner类中的方法next,获取出生日期</span>
        <span class="nc">Scanner</span> <span class="n">sc</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"请输入您的出生日期,格式:yyyy-MM-dd"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">birthdayDateString</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
        <span class="c1">//2.使用DateFormat类中的方法parse,把字符串的出生日期,解析为Date格式的出生日期</span>
        <span class="nc">SimpleDateFormat</span> <span class="n">sdf</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SimpleDateFormat</span><span class="o">(</span><span class="s">"yyyy-MM-dd"</span><span class="o">);</span>
        <span class="nc">Date</span> <span class="n">birthdayDate</span> <span class="o">=</span> <span class="n">sdf</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">birthdayDateString</span><span class="o">);</span>
        <span class="c1">//3.把Date格式的出生日期转换为毫秒值</span>
        <span class="kt">long</span> <span class="n">birthdayDateTime</span> <span class="o">=</span> <span class="n">birthdayDate</span><span class="o">.</span><span class="na">getTime</span><span class="o">();</span>
        <span class="c1">//4.获取当前的日期,转换为毫秒值</span>
        <span class="kt">long</span> <span class="n">todayTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="o">().</span><span class="na">getTime</span><span class="o">();</span>
        <span class="c1">//5.使用当前日期的毫秒值-出生日期的毫秒值</span>
        <span class="kt">long</span> <span class="n">time</span> <span class="o">=</span> <span class="n">todayTime</span><span class="o">-</span><span class="n">birthdayDateTime</span><span class="o">;</span>
        <span class="c1">//6.把毫秒差值转换为天(s/1000/60/60/24)</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">time</span><span class="o">/</span><span class="mi">1000</span><span class="o">/</span><span class="mi">60</span><span class="o">/</span><span class="mi">60</span><span class="o">/</span><span class="mi">24</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p><img src="https://blog.slienceme.cn/images/posts/20210124170120432.png" alt="Alt Text" /></p> <h3 id="24-calendar类">2.4 Calendar类</h3> <h4 id="概念">概念</h4> <p>日历我们都见过</p> <p><code class="language-plaintext highlighter-rouge">java.util.Calendar</code>是日历类，在Date后出现，替换掉了许多Date的方法。该类将所有可能用到的时间信息封装为静态成员变量，方便获取。日历类就是方便获取各个时间属性的。</p> <h4 id="获取方式">获取方式</h4> <p>Calendar为抽象类，由于语言敏感性，Calendar类在创建对象时并非直接创建，而是通过静态方法创建，返回子类对象，如下：</p> <p>Calendar静态方法</p> <ul> <li><code class="language-plaintext highlighter-rouge">public static Calendar getInstance()</code>：使用默认时区和语言环境获得一个日历</li> </ul> <p>例如：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.Calendar</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo06CalendarInit</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Calendar</span> <span class="n">cal</span> <span class="o">=</span> <span class="nc">Calendar</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>
    <span class="o">}</span>    
<span class="o">}</span>
</code></pre></div></div> <h4 id="常用方法-2">常用方法</h4> <p>根据Calendar类的API文档，常用方法有：</p> <ul> <li><code class="language-plaintext highlighter-rouge">public int get(int field)</code>：返回给定日历字段的值。</li> <li><code class="language-plaintext highlighter-rouge">public void set(int field, int value)</code>：将给定的日历字段设置为给定值。</li> <li><code class="language-plaintext highlighter-rouge">public abstract void add(int field, int amount)</code>：根据日历的规则，为给定的日历字段添加或减去指定的时间量。</li> <li><code class="language-plaintext highlighter-rouge">public Date getTime()</code>：返回一个表示此Calendar时间值（从历元到现在的毫秒偏移量）的Date对象。</li> </ul> <p>Calendar类中提供很多成员常量，代表给定的日历字段：</p> <table> <thead> <tr> <th>字段值</th> <th>含义</th> </tr> </thead> <tbody> <tr> <td>YEAR</td> <td>年</td> </tr> <tr> <td>MONTH</td> <td>月（从0开始，可以+1使用）</td> </tr> <tr> <td>DAY_OF_MONTH</td> <td>月中的天（几号）</td> </tr> <tr> <td>HOUR</td> <td>时（12小时制）</td> </tr> <tr> <td>HOUR_OF_DAY</td> <td>时（24小时制）</td> </tr> <tr> <td>MINUTE</td> <td>分</td> </tr> <tr> <td>SECOND</td> <td>秒</td> </tr> <tr> <td>DAY_OF_WEEK</td> <td>周中的天（周几，周日为1，可以-1使用）</td> </tr> </tbody> </table> <h5 id="getset方法">get/set方法</h5> <p>get方法用来获取指定字段的值，set方法用来设置指定字段的值，代码使用演示：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.Calendar</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CalendarUtil</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 创建Calendar对象</span>
        <span class="nc">Calendar</span> <span class="n">cal</span> <span class="o">=</span> <span class="nc">Calendar</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>
        <span class="c1">// 设置年 </span>
        <span class="kt">int</span> <span class="n">year</span> <span class="o">=</span> <span class="n">cal</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="nc">Calendar</span><span class="o">.</span><span class="na">YEAR</span><span class="o">);</span>
        <span class="c1">// 设置月</span>
        <span class="kt">int</span> <span class="n">month</span> <span class="o">=</span> <span class="n">cal</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="nc">Calendar</span><span class="o">.</span><span class="na">MONTH</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="c1">// 设置日</span>
        <span class="kt">int</span> <span class="n">dayOfMonth</span> <span class="o">=</span> <span class="n">cal</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="nc">Calendar</span><span class="o">.</span><span class="na">DAY_OF_MONTH</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">year</span> <span class="o">+</span> <span class="s">"年"</span> <span class="o">+</span> <span class="n">month</span> <span class="o">+</span> <span class="s">"月"</span> <span class="o">+</span> <span class="n">dayOfMonth</span> <span class="o">+</span> <span class="s">"日"</span><span class="o">);</span>
    <span class="o">}</span>    
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.Calendar</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo07CalendarMethod</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Calendar</span> <span class="n">cal</span> <span class="o">=</span> <span class="nc">Calendar</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>
        <span class="n">cal</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="nc">Calendar</span><span class="o">.</span><span class="na">YEAR</span><span class="o">,</span> <span class="mi">2020</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">year</span> <span class="o">+</span> <span class="s">"年"</span> <span class="o">+</span> <span class="n">month</span> <span class="o">+</span> <span class="s">"月"</span> <span class="o">+</span> <span class="n">dayOfMonth</span> <span class="o">+</span> <span class="s">"日"</span><span class="o">);</span> <span class="c1">// 2020年1月17日</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h5 id="add方法">add方法</h5> <p>add方法可以对指定日历字段的值进行加减操作，如果第二个参数为正数则加上偏移量，如果为负数则减去偏移量。代码如：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.Calendar</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo08CalendarMethod</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Calendar</span> <span class="n">cal</span> <span class="o">=</span> <span class="nc">Calendar</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">year</span> <span class="o">+</span> <span class="s">"年"</span> <span class="o">+</span> <span class="n">month</span> <span class="o">+</span> <span class="s">"月"</span> <span class="o">+</span> <span class="n">dayOfMonth</span> <span class="o">+</span> <span class="s">"日"</span><span class="o">);</span> <span class="c1">// 2018年1月17日</span>
        <span class="c1">// 使用add方法</span>
        <span class="n">cal</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Calendar</span><span class="o">.</span><span class="na">DAY_OF_MONTH</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span> <span class="c1">// 加2天</span>
        <span class="n">cal</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Calendar</span><span class="o">.</span><span class="na">YEAR</span><span class="o">,</span> <span class="o">-</span><span class="mi">3</span><span class="o">);</span> <span class="c1">// 减3年</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">year</span> <span class="o">+</span> <span class="s">"年"</span> <span class="o">+</span> <span class="n">month</span> <span class="o">+</span> <span class="s">"月"</span> <span class="o">+</span> <span class="n">dayOfMonth</span> <span class="o">+</span> <span class="s">"日"</span><span class="o">);</span> <span class="c1">// 2015年1月18日; </span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h5 id="gettime方法">getTime方法</h5> <p>Calendar中的getTime方法并不是获取毫秒时刻，而是拿到对应的Date对象。</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.Calendar</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo09CalendarMethod</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Calendar</span> <span class="n">cal</span> <span class="o">=</span> <span class="nc">Calendar</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>
        <span class="nc">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="n">cal</span><span class="o">.</span><span class="na">getTime</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">date</span><span class="o">);</span> <span class="c1">// Tue Jan 16 16:03:09 CST 2018</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <blockquote> <p>小贴士：</p> <p>​ 西方星期的开始为周日，中国为周一。</p> <p>​ 在Calendar类中，月份的表示是以0-11代表1-12月。</p> <p>​ 日期是有大小关系的，时间靠后，时间越大。</p> <hr /> <hr /> <hr /> <p>```java import java.util.Calendar;</p> </blockquote> <p>/* java.util.Calendar类:日历类 Calendar类是一个抽象类,里边提供了很多操作日历字段的方法(YEAR、MONTH、DAY_OF_MONTH、HOUR ) Calendar类无法直接创建对象使用,里边有一个静态方法叫getInstance(),该方法返回了Calendar类的子类对象 static Calendar getInstance() 使用默认时区和语言环境获得一个日历。 */ public class Demo01Calendar { public static void main(String[] args) { Calendar c = Calendar.getInstance();//多态 System.out.println(c); }</p> <p>}</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
```java
import java.util.Calendar;
import java.util.Date;

/*
    Calendar类的常用成员方法:
        public int get(int field)：返回给定日历字段的值。
        public void set(int field, int value)：将给定的日历字段设置为给定值。
        public abstract void add(int field, int amount)：根据日历的规则，为给定的日历字段添加或减去指定的时间量。
        public Date getTime()：返回一个表示此Calendar时间值（从历元到现在的毫秒偏移量）的Date对象。
    成员方法的参数:
        int field:日历类的字段,可以使用Calendar类的静态成员变量获取
            public static final int YEAR = 1;	年
            public static final int MONTH = 2;	月
            public static final int DATE = 5;	月中的某一天
            public static final int DAY_OF_MONTH = 5;月中的某一天
            public static final int HOUR = 10; 		时
            public static final int MINUTE = 12; 	分
            public static final int SECOND = 13;	秒
 */
public class Demo02Calendar {
    public static void main(String[] args) {
        demo04();
    }

    /*
        public Date getTime()：返回一个表示此Calendar时间值（从历元到现在的毫秒偏移量）的Date对象。
        把日历对象,转换为日期对象
     */
    private static void demo04() {
        //使用getInstance方法获取Calendar对象
        Calendar c = Calendar.getInstance();

        Date date = c.getTime();
        System.out.println(date);
    }

    /*
        public abstract void add(int field, int amount)：根据日历的规则，为给定的日历字段添加或减去指定的时间量。
        把指定的字段增加/减少指定的值
        参数:
            int field:传递指定的日历字段(YEAR,MONTH...)
            int amount:增加/减少指定的值
                正数:增加
                负数:减少
     */
    private static void demo03() {
        //使用getInstance方法获取Calendar对象
        Calendar c = Calendar.getInstance();

        //把年增加2年
        c.add(Calendar.YEAR,2);
        //把月份减少3个月
        c.add(Calendar.MONTH,-3);


        int year = c.get(Calendar.YEAR);
        System.out.println(year);

        int month = c.get(Calendar.MONTH);
        System.out.println(month);//西方的月份0-11 东方:1-12

        //int date = c.get(Calendar.DAY_OF_MONTH);
        int date = c.get(Calendar.DATE);
        System.out.println(date);
    }

    /*
        public void set(int field, int value)：将给定的日历字段设置为给定值。
        参数:
            int field:传递指定的日历字段(YEAR,MONTH...)
            int value:给指定字段设置的值
     */
    private static void demo02() {
        //使用getInstance方法获取Calendar对象
        Calendar c = Calendar.getInstance();

        //设置年为9999
        c.set(Calendar.YEAR,9999);
        //设置月为9月
        c.set(Calendar.MONTH,9);
        //设置日9日
        c.set(Calendar.DATE,9);

        //同时设置年月日,可以使用set的重载方法
        c.set(8888,8,8);

        int year = c.get(Calendar.YEAR);
        System.out.println(year);

        int month = c.get(Calendar.MONTH);
        System.out.println(month);//西方的月份0-11 东方:1-12

        int date = c.get(Calendar.DATE);
        System.out.println(date);
    }

    /*
        public int get(int field)：返回给定日历字段的值。
        参数:传递指定的日历字段(YEAR,MONTH...)
        返回值:日历字段代表的具体的值
     */
    private static void demo01() {
        //使用getInstance方法获取Calendar对象
        Calendar c = Calendar.getInstance();
        int year = c.get(Calendar.YEAR);
        System.out.println(year);

        int month = c.get(Calendar.MONTH);
        System.out.println(month);//西方的月份0-11 东方:1-12

        //int date = c.get(Calendar.DAY_OF_MONTH);
        int date = c.get(Calendar.DATE);
        System.out.println(date);
    }
}
</code></pre></div></div> <h2 id="3-system类">3. System类</h2> <p><code class="language-plaintext highlighter-rouge">java.lang.System</code>类中提供了大量的静态方法，可以获取与系统相关的信息或系统级操作，在System类的API文档中，常用的方法有：</p> <ul> <li><code class="language-plaintext highlighter-rouge">public static long currentTimeMillis()</code>：返回以毫秒为单位的当前时间。</li> <li><code class="language-plaintext highlighter-rouge">public static void arraycopy(Object src, int srcPos, Object dest, int destPos, int length)</code>：将数组中指定的数据拷贝到另一个数组中。</li> </ul> <h3 id="31-currenttimemillis方法">3.1 currentTimeMillis方法</h3> <p>实际上，currentTimeMillis方法就是 获取当前系统时间与1970年01月01日00:00点之间的毫秒差值</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SystemDemo</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
       	<span class="c1">//获取当前时间毫秒值</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">());</span> <span class="c1">// 1516090531144</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h4 id="练习">练习</h4> <p>验证for循环打印数字1-9999所需要使用的时间（毫秒）</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SystemTest1</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">long</span> <span class="n">start</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="kt">long</span> <span class="n">end</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"共耗时毫秒："</span> <span class="o">+</span> <span class="o">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h3 id="32-arraycopy方法">3.2 arraycopy方法</h3> <ul> <li><code class="language-plaintext highlighter-rouge">public static void arraycopy(Object src, int srcPos, Object dest, int destPos, int length)</code>：将数组中指定的数据拷贝到另一个数组中。</li> </ul> <p>数组的拷贝动作是系统级的，性能很高。System.arraycopy方法具有5个参数，含义分别为：</p> <table> <thead> <tr> <th>参数序号</th> <th>参数名称</th> <th>参数类型</th> <th>参数含义</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>src</td> <td>Object</td> <td>源数组</td> </tr> <tr> <td>2</td> <td>srcPos</td> <td>int</td> <td>源数组索引起始位置</td> </tr> <tr> <td>3</td> <td>dest</td> <td>Object</td> <td>目标数组</td> </tr> <tr> <td>4</td> <td>destPos</td> <td>int</td> <td>目标数组索引起始位置</td> </tr> <tr> <td>5</td> <td>length</td> <td>int</td> <td>复制元素个数</td> </tr> </tbody> </table> <h4 id="练习-1">练习</h4> <p>将src数组中前3个元素，复制到dest数组的前3个位置上复制元素前：src数组元素[1,2,3,4,5]，dest数组元素[6,7,8,9,10]复制元素后：src数组元素[1,2,3,4,5]，dest数组元素[1,2,3,9,10]</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.Arrays</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo11SystemArrayCopy</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">src</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">};</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">dest</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="mi">6</span><span class="o">,</span><span class="mi">7</span><span class="o">,</span><span class="mi">8</span><span class="o">,</span><span class="mi">9</span><span class="o">,</span><span class="mi">10</span><span class="o">};</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span> <span class="n">src</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">dest</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span>
        <span class="cm">/*代码运行后：两个数组中的元素发生了变化
         src数组元素[1,2,3,4,5]
         dest数组元素[1,2,3,9,10]
        */</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <hr /> <hr /> <hr /> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.Arrays</span><span class="o">;</span>

<span class="cm">/*
    java.lang.System类中提供了大量的静态方法，可以获取与系统相关的信息或系统级操作，在System类的API文档中，常用的方法有：
        public static long currentTimeMillis()：返回以毫秒为单位的当前时间。
        public static void arraycopy(Object src, int srcPos, Object dest, int destPos, int length)：将数组中指定的数据拷贝到另一个数组中。
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo01System</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">demo02</span><span class="o">();</span>
        <span class="nc">StringBuilder</span> <span class="n">sb</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="cm">/*
        public static void arraycopy(Object src, int srcPos, Object dest, int destPos, int length)：将数组中指定的数据拷贝到另一个数组中。
        参数:
            src - 源数组。
            srcPos - 源数组中的起始位置(起始索引)。
            dest - 目标数组。
            destPos - 目标数据中的起始位置。
            length - 要复制的数组元素的数量。
        练习:
            将src数组中前3个元素，复制到dest数组的前3个位置上
                复制元素前：
                src数组元素[1,2,3,4,5]，dest数组元素[6,7,8,9,10]
                复制元素后：
                src数组元素[1,2,3,4,5]，dest数组元素[1,2,3,9,10]
     */</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">demo02</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">//定义源数组</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">src</span> <span class="o">=</span> <span class="o">{</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">};</span>
        <span class="c1">//定义目标数组</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">dest</span> <span class="o">=</span> <span class="o">{</span><span class="mi">6</span><span class="o">,</span><span class="mi">7</span><span class="o">,</span><span class="mi">8</span><span class="o">,</span><span class="mi">9</span><span class="o">,</span><span class="mi">10</span><span class="o">};</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"复制前:"</span><span class="o">+</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">dest</span><span class="o">));</span>
        <span class="c1">//使用System类中的arraycopy把源数组的前3个元素复制到目标数组的前3个位置上</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">src</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="n">dest</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">3</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"复制后:"</span><span class="o">+</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">dest</span><span class="o">));</span>
    <span class="o">}</span>

    <span class="cm">/*
        public static long currentTimeMillis()：返回以毫秒为单位的当前时间。
        用来程序的效率
        验证for循环打印数字1-9999所需要使用的时间（毫秒）
     */</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">demo01</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">//程序执行前,获取一次毫秒值</span>
        <span class="kt">long</span> <span class="n">s</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">();</span>
        <span class="c1">//执行for循环</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span><span class="mi">9999</span> <span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="c1">//程序执行后,获取一次毫秒值</span>
        <span class="kt">long</span> <span class="n">e</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"程序共耗时:"</span><span class="o">+(</span><span class="n">e</span><span class="o">-</span><span class="n">s</span><span class="o">)+</span><span class="s">"毫秒"</span><span class="o">);</span><span class="c1">//程序共耗时:106毫秒</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h2 id="4-stringbuilder类">4. StringBuilder类</h2> <p><img src="https://blog.slienceme.cn/images/posts/20210124172239974.bmp.jpg" alt="Alt Text" /></p> <h3 id="41-字符串拼接问题">4.1 字符串拼接问题</h3> <p>由于String类的对象内容不可改变，所以每当进行字符串拼接时，总是会在内存中创建一个新的对象。例如：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">StringDemo</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">s</span> <span class="o">=</span> <span class="s">"Hello"</span><span class="o">;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s">"World"</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>在API中对String类有这样的描述：字符串是常量，它们的值在创建后不能被更改。</p> <p>根据这句话分析我们的代码，其实总共产生了三个字符串，即<code class="language-plaintext highlighter-rouge">"Hello"</code>、<code class="language-plaintext highlighter-rouge">"World"</code>和<code class="language-plaintext highlighter-rouge">"HelloWorld"</code>。引用变量s首先指向<code class="language-plaintext highlighter-rouge">Hello</code>对象，最终指向拼接出来的新字符串对象，即<code class="language-plaintext highlighter-rouge">HelloWord</code> 。</p> <p>由此可知，如果对字符串进行拼接操作，每次拼接，都会构建一个新的String对象，既耗时，又浪费空间。为了解决这一问题，可以使用<code class="language-plaintext highlighter-rouge">java.lang.StringBuilder</code>类。</p> <h3 id="42-stringbuilder概述">4.2 StringBuilder概述</h3> <p>查阅<code class="language-plaintext highlighter-rouge">java.lang.StringBuilder</code>的API，StringBuilder又称为可变字符序列，它是一个类似于 String 的字符串缓冲区，通过某些方法调用可以改变该序列的长度和内容。</p> <p>原来StringBuilder是个字符串的缓冲区，即它是一个容器，容器中可以装很多字符串。并且能够对其中的字符串进行各种操作。</p> <p>它的内部拥有一个数组用来存放字符串内容，进行字符串拼接时，直接在数组中加入新内容。StringBuilder会自动维护数组的扩容。原理如下图所示：(默认16字符空间，超过自动扩充)</p> <h3 id="43-构造方法">4.3 构造方法</h3> <p>根据StringBuilder的API文档，常用构造方法有2个：</p> <ul> <li><code class="language-plaintext highlighter-rouge">public StringBuilder()</code>：构造一个空的StringBuilder容器。</li> <li><code class="language-plaintext highlighter-rouge">public StringBuilder(String str)</code>：构造一个StringBuilder容器，并将字符串添加进去。</li> </ul> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">StringBuilderDemo</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">StringBuilder</span> <span class="n">sb1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">sb1</span><span class="o">);</span> <span class="c1">// (空白)</span>
        <span class="c1">// 使用带参构造</span>
        <span class="nc">StringBuilder</span> <span class="n">sb2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">(</span><span class="s">"abc"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">sb2</span><span class="o">);</span> <span class="c1">// abc</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h3 id="44-常用方法">4.4 常用方法</h3> <p>StringBuilder常用的方法有2个：</p> <ul> <li><code class="language-plaintext highlighter-rouge">public StringBuilder append(...)</code>：添加任意类型数据的字符串形式，并返回当前对象自身。</li> <li><code class="language-plaintext highlighter-rouge">public String toString()</code>：将当前StringBuilder对象转换为String对象。</li> </ul> <h4 id="append方法">append方法</h4> <p>append方法具有多种重载形式，可以接收任意类型的参数。任何数据作为参数都会将对应的字符串内容添加到StringBuilder中。例如：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo02StringBuilder</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">//创建对象</span>
		<span class="nc">StringBuilder</span> <span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
		<span class="c1">//public StringBuilder append(任意类型)</span>
		<span class="nc">StringBuilder</span> <span class="n">builder2</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"hello"</span><span class="o">);</span>
		<span class="c1">//对比一下</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"builder:"</span><span class="o">+</span><span class="n">builder</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"builder2:"</span><span class="o">+</span><span class="n">builder2</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">builder</span> <span class="o">==</span> <span class="n">builder2</span><span class="o">);</span> <span class="c1">//true</span>
	    <span class="c1">// 可以添加 任何类型</span>
		<span class="n">builder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"hello"</span><span class="o">);</span>
		<span class="n">builder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"world"</span><span class="o">);</span>
		<span class="n">builder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
		<span class="n">builder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
		<span class="c1">// 在我们开发中，会遇到调用一个方法后，返回一个对象的情况。然后使用返回的对象继续调用方法。</span>
        <span class="c1">// 这种时候，我们就可以把代码现在一起，如append方法一样，代码如下</span>
		<span class="c1">//链式编程</span>
		<span class="n">builder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"hello"</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="s">"world"</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="kc">true</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"builder:"</span><span class="o">+</span><span class="n">builder</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <blockquote> <p>备注：StringBuilder已经覆盖重写了Object当中的toString方法。</p> </blockquote> <h4 id="tostring方法">toString方法</h4> <p>通过toString方法，StringBuilder对象将会转换为不可变的String对象。如：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo16StringBuilder</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 链式创建</span>
        <span class="nc">StringBuilder</span> <span class="n">sb</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">(</span><span class="s">"Hello"</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="s">"World"</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="s">"Java"</span><span class="o">);</span>
        <span class="c1">// 调用方法</span>
        <span class="nc">String</span> <span class="n">str</span> <span class="o">=</span> <span class="n">sb</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">str</span><span class="o">);</span> <span class="c1">// HelloWorldJava</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <hr /> <hr /> <hr /> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
    java.lang.StringBuilder类:字符串缓冲区,可以提高字符串的效率
    构造方法:
        StringBuilder() 构造一个不带任何字符的字符串生成器，其初始容量为 16 个字符。
        StringBuilder(String str) 构造一个字符串生成器，并初始化为指定的字符串内容。
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo01StringBuilder</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//空参数构造方法</span>
        <span class="nc">StringBuilder</span> <span class="n">bu1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"bu1:"</span><span class="o">+</span><span class="n">bu1</span><span class="o">);</span><span class="c1">//bu1:""</span>

        <span class="c1">//带字符串的构造方法</span>
        <span class="nc">StringBuilder</span> <span class="n">bu2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">(</span><span class="s">"abc"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"bu2:"</span><span class="o">+</span><span class="n">bu2</span><span class="o">);</span><span class="c1">//bu2:abc</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
    StringBuilder的常用方法:
        public StringBuilder append(...)：添加任意类型数据的字符串形式，并返回当前对象自身。
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo02StringBuilder</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//创建StringBuilder对象</span>
        <span class="nc">StringBuilder</span> <span class="n">bu</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
        <span class="c1">//使用append方法往StringBuilder中添加数据</span>
        <span class="c1">//append方法返回的是this,调用方法的对象bu,this==bu</span>
        <span class="c1">//StringBuilder bu2 = bu.append("abc");//把bu的地址赋值给了bu2</span>
        <span class="c1">//System.out.println(bu);//"abc"</span>
        <span class="c1">//System.out.println(bu2);//"abc"</span>
        <span class="c1">//System.out.println(bu==bu2);//比较的是地址 true</span>

        <span class="c1">//使用append方法无需接收返回值</span>
<span class="c1">//        bu.append("abc");</span>
<span class="c1">//        bu.append(1);</span>
<span class="c1">//        bu.append(true);</span>
<span class="c1">//        bu.append(8.8);</span>
<span class="c1">//        bu.append('中');</span>
<span class="c1">//        System.out.println(bu);//abc1true8.8中</span>

        <span class="cm">/*
            链式编程:方法返回值是一个对象,可以继续调用方法
         */</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"abc"</span><span class="o">.</span><span class="na">toUpperCase</span><span class="o">().</span><span class="na">toLowerCase</span><span class="o">().</span><span class="na">toUpperCase</span><span class="o">().</span><span class="na">toLowerCase</span><span class="o">());</span>
        <span class="n">bu</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"abc"</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="mi">1</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="kc">true</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="mf">8.8</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="sc">'中'</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">bu</span><span class="o">);</span><span class="c1">//abc1true8.8中</span>

    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
    StringBuilder和String可以相互转换:
        String-&gt;StringBuilder:可以使用StringBuilder的构造方法
            StringBuilder(String str) 构造一个字符串生成器，并初始化为指定的字符串内容。
        StringBuilder-&gt;String:可以使用StringBuilder中的toString方法
            public String toString()：将当前StringBuilder对象转换为String对象。
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo03StringBuilder</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//String-&gt;StringBuilder</span>
        <span class="nc">String</span> <span class="n">str</span> <span class="o">=</span> <span class="s">"hello"</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"str:"</span><span class="o">+</span><span class="n">str</span><span class="o">);</span>
        <span class="nc">StringBuilder</span> <span class="n">bu</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">(</span><span class="n">str</span><span class="o">);</span>
        <span class="c1">//往StringBuilder中添加数据</span>
        <span class="n">bu</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"world"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"bu:"</span><span class="o">+</span><span class="n">bu</span><span class="o">);</span>

        <span class="c1">//StringBuilder-&gt;String</span>
        <span class="nc">String</span> <span class="n">s</span> <span class="o">=</span> <span class="n">bu</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"s:"</span><span class="o">+</span><span class="n">s</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h2 id="5-包装类">5. 包装类</h2> <p><img src="https://blog.slienceme.cn/images/posts/20210124173630471.bmp.jpg" alt="Alt Text" /></p> <h3 id="51-概述">5.1 概述</h3> <p>Java提供了两个类型系统，基本类型与引用类型，使用基本类型在于效率，然而很多情况，会创建对象使用，因为对象可以做更多的功能，如果想要我们的基本类型像对象一样操作，就可以使用基本类型对应的包装类，如下：</p> <table> <thead> <tr> <th>基本类型</th> <th>对应的包装类（位于java.lang包中）</th> </tr> </thead> <tbody> <tr> <td>byte</td> <td>Byte</td> </tr> <tr> <td>short</td> <td>Short</td> </tr> <tr> <td>int</td> <td><strong>Integer</strong></td> </tr> <tr> <td>long</td> <td>Long</td> </tr> <tr> <td>float</td> <td>Float</td> </tr> <tr> <td>double</td> <td>Double</td> </tr> <tr> <td>char</td> <td><strong>Character</strong></td> </tr> <tr> <td>boolean</td> <td>Boolean</td> </tr> </tbody> </table> <h3 id="52-装箱与拆箱">5.2 装箱与拆箱</h3> <p>基本类型与对应的包装类对象之间，来回转换的过程称为”装箱“与”拆箱“：</p> <ul> <li> <p><strong>装箱</strong>：从基本类型转换为对应的包装类对象。</p> </li> <li> <p><strong>拆箱</strong>：从包装类对象转换为对应的基本类型。</p> </li> </ul> <p>用Integer与 int为例：</p> <p>基本数值—-&gt;包装对象</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Integer</span> <span class="n">i</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Integer</span><span class="o">(</span><span class="mi">4</span><span class="o">);</span><span class="c1">//使用构造函数函数</span>
<span class="nc">Integer</span> <span class="n">iii</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="mi">4</span><span class="o">);</span><span class="c1">//使用包装类中的valueOf方法</span>
</code></pre></div></div> <p>包装对象—-&gt;基本数值</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="na">intValue</span><span class="o">();</span>
</code></pre></div></div> <h3 id="53自动装箱与自动拆箱">5.3自动装箱与自动拆箱</h3> <p>由于我们经常要做基本类型与包装类之间的转换，从Java 5（JDK 1.5）开始，基本类型与包装类的装箱、拆箱动作可以自动完成。例如：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Integer</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span><span class="c1">//自动装箱。相当于Integer i = Integer.valueOf(4);</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">5</span><span class="o">;</span><span class="c1">//等号右边：将i对象转成基本数值(自动拆箱) i.intValue() + 5;</span>
<span class="c1">//加法运算完成后，再次装箱，把基本数值转成对象。</span>
</code></pre></div></div> <h3 id="53-基本类型与字符串之间的转换">5.3 基本类型与字符串之间的转换</h3> <h4 id="基本类型转换为string">基本类型转换为String</h4> <p>基本类型转换String总共有三种方式，查看课后资料可以得知，这里只讲最简单的一种方式：</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>基本类型直接与””相连接即可；如：34+""
</code></pre></div></div> <p>String转换成对应的基本类型</p> <p>除了Character类之外，其他所有包装类都具有parseXxx静态方法可以将字符串参数转换为对应的基本类型：</p> <ul> <li><code class="language-plaintext highlighter-rouge">public static byte parseByte(String s)</code>：将字符串参数转换为对应的byte基本类型。</li> <li><code class="language-plaintext highlighter-rouge">public static short parseShort(String s)</code>：将字符串参数转换为对应的short基本类型。</li> <li><code class="language-plaintext highlighter-rouge">public static int parseInt(String s)</code>：将字符串参数转换为对应的int基本类型。</li> <li><code class="language-plaintext highlighter-rouge">public static long parseLong(String s)</code>：将字符串参数转换为对应的long基本类型。</li> <li><code class="language-plaintext highlighter-rouge">public static float parseFloat(String s)</code>：将字符串参数转换为对应的float基本类型。</li> <li><code class="language-plaintext highlighter-rouge">public static double parseDouble(String s)</code>：将字符串参数转换为对应的double基本类型。</li> <li><code class="language-plaintext highlighter-rouge">public static boolean parseBoolean(String s)</code>：将字符串参数转换为对应的boolean基本类型。</li> </ul> <p>代码使用（仅以Integer类的静态方法parseXxx为例）如：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo18WrapperParse</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="s">"100"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <blockquote> <p>注意:如果字符串参数的内容无法正确转换为对应的基本类型，则会抛出<code class="language-plaintext highlighter-rouge">java.lang.NumberFormatException</code>异常。</p> </blockquote> <hr /> <hr /> <hr /> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
    装箱:把基本类型的数据,包装到包装类中(基本类型的数据-&gt;包装类)
        构造方法:
            Integer(int value) 构造一个新分配的 Integer 对象，它表示指定的 int 值。
            Integer(String s) 构造一个新分配的 Integer 对象，它表示 String 参数所指示的 int 值。
                传递的字符串,必须是基本类型的字符串,否则会抛出异常 "100" 正确  "a" 抛异常
        静态方法:
            static Integer valueOf(int i) 返回一个表示指定的 int 值的 Integer 实例。
            static Integer valueOf(String s) 返回保存指定的 String 的值的 Integer 对象。
    拆箱:在包装类中取出基本类型的数据(包装类-&gt;基本类型的数据)
        成员方法:
            int intValue() 以 int 类型返回该 Integer 的值。
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo01Integer</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//装箱:把基本类型的数据,包装到包装类中(基本类型的数据-&gt;包装类)</span>
        <span class="c1">//构造方法</span>
        <span class="nc">Integer</span> <span class="n">in1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Integer</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span><span class="c1">//方法上有横线,说明方法过时了</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">in1</span><span class="o">);</span><span class="c1">//1 重写了toString方法</span>

        <span class="nc">Integer</span> <span class="n">in2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Integer</span><span class="o">(</span><span class="s">"1"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">in2</span><span class="o">);</span><span class="c1">//1</span>

        <span class="c1">//静态方法</span>
        <span class="nc">Integer</span> <span class="n">in3</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">in3</span><span class="o">);</span>

        <span class="c1">//Integer in4 = Integer.valueOf("a");//NumberFormatException数字格式化异常</span>
        <span class="nc">Integer</span> <span class="n">in4</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="s">"1"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">in4</span><span class="o">);</span>

        <span class="c1">//拆箱:在包装类中取出基本类型的数据(包装类-&gt;基本类型的数据)</span>
        <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">in1</span><span class="o">.</span><span class="na">intValue</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>

<span class="cm">/*
    自动装箱与自动拆箱:基本类型的数据和包装类之间可以自动的相互转换
    JDK1.5之后出现的新特性
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo02Ineger</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="cm">/*
            自动装箱:直接把int类型的整数赋值包装类
            Integer in = 1; 就相当于 Integer in = new Integer(1);
         */</span>
        <span class="nc">Integer</span> <span class="n">in</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>

        <span class="cm">/*
            自动拆箱:in是包装类,无法直接参与运算,可以自动转换为基本数据类型,在进行计算
            in+2;就相当于 in.intVale() + 2 = 3
            in = in.intVale() + 2 = 3 又是一个自动装箱
         */</span>
        <span class="n">in</span> <span class="o">=</span> <span class="n">in</span><span class="o">+</span><span class="mi">2</span><span class="o">;</span>

        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="cm">/*
            ArrayList集合无法直接存储整数,可以存储Integer包装类
         */</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span> <span class="c1">//--&gt;自动装箱 list.add(new Integer(1));</span>

        <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span> <span class="c1">//--&gt;自动拆箱  list.get(0).intValue();</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
    基本类型与字符串类型之间的相互转换
    基本类型-&gt;字符串(String)
        1.基本类型的值+""  最简单的方法(工作中常用)
        2.包装类的静态方法toString(参数),不是Object类的toString() 重载
            static String toString(int i) 返回一个表示指定整数的 String 对象。
        3.String类的静态方法valueOf(参数)
            static String valueOf(int i) 返回 int 参数的字符串表示形式。
    字符串(String)-&gt;基本类型
        使用包装类的静态方法parseXXX("字符串");
            Integer类: static int parseInt(String s)
            Double类: static double parseDouble(String s)
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo03Integer</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//基本类型-&gt;字符串(String)</span>
        <span class="kt">int</span> <span class="n">i1</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">i1</span> <span class="o">+</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s1</span> <span class="o">+</span> <span class="mi">200</span><span class="o">);</span><span class="c1">//100200</span>

        <span class="nc">String</span> <span class="n">s2</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s2</span> <span class="o">+</span> <span class="mi">200</span><span class="o">);</span><span class="c1">//100200</span>

        <span class="nc">String</span> <span class="n">s3</span> <span class="o">=</span> <span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s3</span> <span class="o">+</span> <span class="mi">200</span><span class="o">);</span><span class="c1">//100200</span>

        <span class="c1">//字符串(String)-&gt;基本类型</span>
        <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">s1</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">10</span><span class="o">);</span>

        <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="s">"a"</span><span class="o">);</span><span class="c1">//NumberFormatException</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">a</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h1 id="第四章-集合">第四章 集合</h1> <h2 id="1-collection集合">1. Collection集合</h2> <h3 id="11-集合概述">1.1 集合概述</h3> <ul> <li><strong>集合</strong>：集合是java中提供的一种容器，可以用来存储多个数据。</li> </ul> <p>集合和数组既然都是容器，它们有什么区别</p> <ul> <li>数组的长度是固定的。集合的长度是可变的。</li> <li>数组中存储的是同一类型的元素，可以存储基本数据类型值。集合存储的都是对象。而且对象的类型可以不一致。在开发中一般当对象多的时候，使用集合进行存储。</li> </ul> <h3 id="12--集合框架">1.2 集合框架</h3> <p>JAVASE提供了满足各种需求的API，在使用这些API前，先了解其继承与接口操作架构，才能了解何时采用哪个类，以及类之间如何彼此合作，从而达到灵活应用。</p> <p>集合按照其存储结构可以分为两大类，分别是单列集合<code class="language-plaintext highlighter-rouge">java.util.Collection</code>和双列集合<code class="language-plaintext highlighter-rouge">java.util.Map</code>。</p> <ul> <li><strong>Collection</strong>：单列集合类的根接口，用于存储一系列符合某种规则的元素，它有两个重要的子接口，分别是<code class="language-plaintext highlighter-rouge">java.util.List</code>和<code class="language-plaintext highlighter-rouge">java.util.Set</code>。其中，<code class="language-plaintext highlighter-rouge">List</code>的特点是元素有序、元素可重复。<code class="language-plaintext highlighter-rouge">Set</code>的特点是元素无序，而且不可重复。<code class="language-plaintext highlighter-rouge">List</code>接口的主要实现类有<code class="language-plaintext highlighter-rouge">java.util.ArrayList</code>和<code class="language-plaintext highlighter-rouge">java.util.LinkedList</code>，<code class="language-plaintext highlighter-rouge">Set</code>接口的主要实现类有<code class="language-plaintext highlighter-rouge">java.util.HashSet</code>和<code class="language-plaintext highlighter-rouge">java.util.TreeSet</code>。</li> </ul> <p>从上面的描述可以看出JDK中提供了丰富的集合类库，为了便于初学者进行系统地学习，接下来通过一张图来描述整个集合类的继承体系。</p> <p><img src="https://blog.slienceme.cn/images/posts/20210124104115353.bmp.jpg" alt="Alt Text" /></p> <p>其中，橙色框里填写的都是接口类型，而蓝色框里填写的都是具体的实现类。这几天将针对图中所列举的集合类进行逐一地讲解。</p> <p>集合本身是一个工具，它存放在java.util包中。在<code class="language-plaintext highlighter-rouge">Collection</code>接口定义着单列集合框架中最最共性的内容。</p> <h3 id="13-collection-常用功能">1.3 Collection 常用功能</h3> <p>Collection是所有单列集合的父接口，因此在Collection中定义了单列集合(List和Set)通用的一些方法，这些方法可用于操作所有的单列集合。方法如下：</p> <ul> <li><code class="language-plaintext highlighter-rouge">public boolean add(E e)</code>： 把给定的对象添加到当前集合中 。</li> <li><code class="language-plaintext highlighter-rouge">public void clear()</code> :清空集合中所有的元素。</li> <li><code class="language-plaintext highlighter-rouge">public boolean remove(E e)</code>: 把给定的对象在当前集合中删除。</li> <li><code class="language-plaintext highlighter-rouge">public boolean contains(E e)</code>: 判断当前集合中是否包含给定的对象。</li> <li><code class="language-plaintext highlighter-rouge">public boolean isEmpty()</code>: 判断当前集合是否为空。</li> <li><code class="language-plaintext highlighter-rouge">public int size()</code>: 返回集合中元素的个数。</li> <li><code class="language-plaintext highlighter-rouge">public Object[] toArray()</code>: 把集合中的元素，存储到数组中。</li> </ul> <p>方法演示：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Collection</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo1Collection</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// 创建集合对象 </span>
    	<span class="c1">// 使用多态形式</span>
    	<span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">coll</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
    	<span class="c1">// 使用方法</span>
    	<span class="c1">// 添加功能  boolean  add(String s)</span>
    	<span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"小李广"</span><span class="o">);</span>
    	<span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"扫地僧"</span><span class="o">);</span>
    	<span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"石破天"</span><span class="o">);</span>
    	<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">coll</span><span class="o">);</span>

    	<span class="c1">// boolean contains(E e) 判断o是否在集合中存在</span>
    	<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"判断  扫地僧 是否在集合中"</span><span class="o">+</span><span class="n">coll</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"扫地僧"</span><span class="o">));</span>

    	<span class="c1">//boolean remove(E e) 删除在集合中的o元素</span>
    	<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"删除石破天："</span><span class="o">+</span><span class="n">coll</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="s">"石破天"</span><span class="o">));</span>
    	<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"操作之后集合中元素:"</span><span class="o">+</span><span class="n">coll</span><span class="o">);</span>
    	
    	<span class="c1">// size() 集合中有几个元素</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"集合中有"</span><span class="o">+</span><span class="n">coll</span><span class="o">.</span><span class="na">size</span><span class="o">()+</span><span class="s">"个元素"</span><span class="o">);</span>

		<span class="c1">// Object[] toArray()转换成一个Object数组</span>
    	<span class="nc">Object</span><span class="o">[]</span> <span class="n">objects</span> <span class="o">=</span> <span class="n">coll</span><span class="o">.</span><span class="na">toArray</span><span class="o">();</span>
    	<span class="c1">// 遍历数组</span>
    	<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">objects</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">objects</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
		<span class="o">}</span>

		<span class="c1">// void  clear() 清空集合</span>
		<span class="n">coll</span><span class="o">.</span><span class="na">clear</span><span class="o">();</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"集合中内容为："</span><span class="o">+</span><span class="n">coll</span><span class="o">);</span>
		<span class="c1">// boolean  isEmpty()  判断是否为空</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">coll</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">());</span>  	
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <blockquote> <h2 id="tips-有关collection中的方法可不止上面这些其他方法可以自行查看api学习">tips: 有关Collection中的方法可不止上面这些，其他方法可以自行查看API学习。</h2> <hr /> <hr /> </blockquote> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Collection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.HashSet</span><span class="o">;</span>

<span class="cm">/*
    java.util.Collection接口
        所有单列集合的最顶层的接口,里边定义了所有单列集合共性的方法
        任意的单列集合都可以使用Collection接口中的方法


    共性的方法:
      public boolean add(E e)：  把给定的对象添加到当前集合中 。
      public void clear() :清空集合中所有的元素。
      public boolean remove(E e): 把给定的对象在当前集合中删除。
      public boolean contains(E e): 判断当前集合中是否包含给定的对象。
      public boolean isEmpty(): 判断当前集合是否为空。
      public int size(): 返回集合中元素的个数。
      public Object[] toArray(): 把集合中的元素，存储到数组中。
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo01Collection</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//创建集合对象,可以使用多态</span>
        <span class="c1">//Collection&lt;String&gt; coll = new ArrayList&lt;&gt;();</span>
        <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">coll</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">coll</span><span class="o">);</span><span class="c1">//重写了toString方法  []</span>

        <span class="cm">/*
            public boolean add(E e)：  把给定的对象添加到当前集合中 。
            返回值是一个boolean值,一般都返回true,所以可以不用接收
         */</span>
        <span class="kt">boolean</span> <span class="n">b1</span> <span class="o">=</span> <span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"张三"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"b1:"</span><span class="o">+</span><span class="n">b1</span><span class="o">);</span><span class="c1">//b1:true</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">coll</span><span class="o">);</span><span class="c1">//[张三]</span>
        <span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"李四"</span><span class="o">);</span>
        <span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"李四"</span><span class="o">);</span>
        <span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"赵六"</span><span class="o">);</span>
        <span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"田七"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">coll</span><span class="o">);</span><span class="c1">//[张三, 李四, 赵六, 田七]</span>

        <span class="cm">/*
            public boolean remove(E e): 把给定的对象在当前集合中删除。
            返回值是一个boolean值,集合中存在元素,删除元素,返回true
                                集合中不存在元素,删除失败,返回false
         */</span>
        <span class="kt">boolean</span> <span class="n">b2</span> <span class="o">=</span> <span class="n">coll</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="s">"赵六"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"b2:"</span><span class="o">+</span><span class="n">b2</span><span class="o">);</span><span class="c1">//b2:true</span>

        <span class="kt">boolean</span> <span class="n">b3</span> <span class="o">=</span> <span class="n">coll</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="s">"赵四"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"b3:"</span><span class="o">+</span><span class="n">b3</span><span class="o">);</span><span class="c1">//b3:false</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">coll</span><span class="o">);</span><span class="c1">//[张三, 李四, 田七]</span>

        <span class="cm">/*
            public boolean contains(E e): 判断当前集合中是否包含给定的对象。
            包含返回true
            不包含返回false
         */</span>
        <span class="kt">boolean</span> <span class="n">b4</span> <span class="o">=</span> <span class="n">coll</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"李四"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"b4:"</span><span class="o">+</span><span class="n">b4</span><span class="o">);</span><span class="c1">//b4:true</span>

        <span class="kt">boolean</span> <span class="n">b5</span> <span class="o">=</span> <span class="n">coll</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"赵四"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"b5:"</span><span class="o">+</span><span class="n">b5</span><span class="o">);</span><span class="c1">//b5:false</span>

        <span class="c1">//public boolean isEmpty(): 判断当前集合是否为空。 集合为空返回true,集合不为空返回false</span>
        <span class="kt">boolean</span> <span class="n">b6</span> <span class="o">=</span> <span class="n">coll</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"b6:"</span><span class="o">+</span><span class="n">b6</span><span class="o">);</span><span class="c1">//b6:false</span>

        <span class="c1">//public int size(): 返回集合中元素的个数。</span>
        <span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="n">coll</span><span class="o">.</span><span class="na">size</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"size:"</span><span class="o">+</span><span class="n">size</span><span class="o">);</span><span class="c1">//size:3</span>

        <span class="c1">//public Object[] toArray(): 把集合中的元素，存储到数组中。</span>
        <span class="nc">Object</span><span class="o">[]</span> <span class="n">arr</span> <span class="o">=</span> <span class="n">coll</span><span class="o">.</span><span class="na">toArray</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
        <span class="o">}</span>

        <span class="c1">//public void clear() :清空集合中所有的元素。但是不删除集合,集合还存在</span>
        <span class="n">coll</span><span class="o">.</span><span class="na">clear</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">coll</span><span class="o">);</span><span class="c1">//[]</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">coll</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">());</span><span class="c1">//true</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h2 id="2-iterator迭代器">2. Iterator迭代器</h2> <h3 id="21-iterator接口">2.1 Iterator接口</h3> <p>在程序开发中，经常需要遍历集合中的所有元素。针对这种需求，JDK专门提供了一个接口<code class="language-plaintext highlighter-rouge">java.util.Iterator</code>。<code class="language-plaintext highlighter-rouge">Iterator</code>接口也是Java集合中的一员，但它与<code class="language-plaintext highlighter-rouge">Collection</code>、<code class="language-plaintext highlighter-rouge">Map</code>接口有所不同，<code class="language-plaintext highlighter-rouge">Collection</code>接口与<code class="language-plaintext highlighter-rouge">Map</code>接口主要用于存储元素，而<code class="language-plaintext highlighter-rouge">Iterator</code>主要用于迭代访问（即遍历）<code class="language-plaintext highlighter-rouge">Collection</code>中的元素，因此<code class="language-plaintext highlighter-rouge">Iterator</code>对象也被称为迭代器。</p> <p>想要遍历Collection集合，那么就要获取该集合迭代器完成迭代操作，下面介绍一下获取迭代器的方法：</p> <ul> <li><code class="language-plaintext highlighter-rouge">public Iterator iterator()</code>: 获取集合对应的迭代器，用来遍历集合中的元素的。</li> </ul> <p>下面介绍一下迭代的概念：</p> <ul> <li><strong>迭代</strong>：即Collection集合元素的通用获取方式。在取元素之前先要判断集合中有没有元素，如果有，就把这个元素取出来，继续在判断，如果还有就再取出出来。一直把集合中的所有元素全部取出。这种取出方式专业术语称为迭代。</li> </ul> <p>Iterator接口的常用方法如下：</p> <ul> <li><code class="language-plaintext highlighter-rouge">public E next()</code>:返回迭代的下一个元素。</li> <li><code class="language-plaintext highlighter-rouge">public boolean hasNext()</code>:如果仍有元素可以迭代，则返回 true。</li> </ul> <p>接下来我们通过案例学习如何使用Iterator迭代集合中元素：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">IteratorDemo</span> <span class="o">{</span>
  	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 使用多态方式 创建对象</span>
        <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">coll</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>

        <span class="c1">// 添加元素到集合</span>
        <span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"串串星人"</span><span class="o">);</span>
        <span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"吐槽星人"</span><span class="o">);</span>
        <span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"汪星人"</span><span class="o">);</span>
        <span class="c1">//遍历</span>
        <span class="c1">//使用迭代器 遍历   每个集合对象都有自己的迭代器</span>
        <span class="nc">Iterator</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">it</span> <span class="o">=</span> <span class="n">coll</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>
        <span class="c1">//  泛型指的是 迭代出 元素的数据类型</span>
        <span class="k">while</span><span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()){</span> <span class="c1">//判断是否有迭代元素</span>
            <span class="nc">String</span> <span class="n">s</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span><span class="c1">//获取迭代出的元素</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
        <span class="o">}</span>
  	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <blockquote> <p>tips:：在进行集合元素取出时，如果集合中已经没有元素了，还继续使用迭代器的next方法，将会发生java.util.NoSuchElementException没有集合元素的错误。</p> </blockquote> <h3 id="22-迭代器的实现原理">2.2 迭代器的实现原理</h3> <p>我们在之前案例已经完成了Iterator遍历集合的整个过程。当遍历集合时，首先通过调用t集合的iterator()方法获得迭代器对象，然后使用hashNext()方法判断集合中是否存在下一个元素，如果存在，则调用next()方法将元素取出，否则说明已到达了集合末尾，停止遍历元素。</p> <p>Iterator迭代器对象在遍历集合时，内部采用指针的方式来跟踪集合中的元素，为了让初学者能更好地理解迭代器的工作原理，接下来通过一个图例来演示Iterator对象迭代元素的过程：</p> <p><img src="https://blog.slienceme.cn/images/posts/20210124104019903.bmp.jpg" alt="Alt Text" /></p> <p>在调用Iterator的next方法之前，迭代器的索引位于第一个元素之前，不指向任何元素，当第一次调用迭代器的next方法后，迭代器的索引会向后移动一位，指向第一个元素并将该元素返回，当再次调用next方法时，迭代器的索引会指向第二个元素并将该元素返回，依此类推，直到hasNext方法返回false，表示到达了集合的末尾，终止对元素的遍历。</p> <h3 id="23-增强for">2.3 增强for</h3> <p>增强for循环(也称for each循环)是<strong>JDK1.5</strong>以后出来的一个高级for循环，专门用来遍历数组和集合的。它的内部原理其实是个Iterator迭代器，所以在遍历的过程中，不能对集合中的元素进行增删操作。</p> <p>格式：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span><span class="o">(</span><span class="n">元素的数据类型</span>  <span class="n">变量</span> <span class="o">:</span> <span class="nc">Collection集合or数组</span><span class="o">){</span> 
  	<span class="c1">//写操作代码</span>
<span class="o">}</span>
</code></pre></div></div> <p>它用于遍历Collection和数组。通常只进行遍历元素，不要在遍历的过程中对集合元素进行增删操作。</p> <h4 id="练习1遍历数组">练习1：遍历数组</h4> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">NBForDemo1</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="kt">int</span><span class="o">[]</span> <span class="n">arr</span> <span class="o">=</span> <span class="o">{</span><span class="mi">3</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">6</span><span class="o">,</span><span class="mi">87</span><span class="o">};</span>
       	<span class="c1">//使用增强for遍历数组</span>
		<span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span> <span class="o">:</span> <span class="n">arr</span><span class="o">){</span><span class="c1">//a代表数组中的每个元素</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">a</span><span class="o">);</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h4 id="练习2遍历集合">练习2:遍历集合</h4> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">NBFor</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>        
    	<span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">coll</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
    	<span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"小河神"</span><span class="o">);</span>
    	<span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"老河神"</span><span class="o">);</span>
    	<span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"神婆"</span><span class="o">);</span>
    	<span class="c1">//使用增强for遍历</span>
    	<span class="k">for</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span> <span class="o">:</span><span class="n">coll</span><span class="o">){</span><span class="c1">//接收变量s代表 代表被遍历到的集合元素</span>
    		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
    	<span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <blockquote> <h2 id="tips-新for循环必须有被遍历的目标目标只能是collection或者是数组新式for仅仅作为遍历操作出现">tips: 新for循环必须有被遍历的目标。目标只能是Collection或者是数组。新式for仅仅作为遍历操作出现。</h2> <hr /> <hr /> </blockquote> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Collection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Iterator</span><span class="o">;</span>

<span class="cm">/*
    java.util.Iterator接口:迭代器(对集合进行遍历)
    有两个常用的方法
        boolean hasNext() 如果仍有元素可以迭代，则返回 true。
            判断集合中还有没有下一个元素,有就返回true,没有就返回false
        E next() 返回迭代的下一个元素。
            取出集合中的下一个元素
    Iterator迭代器,是一个接口,我们无法直接使用,需要使用Iterator接口的实现类对象,获取实现类的方式比较特殊
    Collection接口中有一个方法,叫iterator(),这个方法返回的就是迭代器的实现类对象
        Iterator&lt;E&gt; iterator() 返回在此 collection 的元素上进行迭代的迭代器。

    迭代器的使用步骤(重点):
        1.使用集合中的方法iterator()获取迭代器的实现类对象,使用Iterator接口接收(多态)
        2.使用Iterator接口中的方法hasNext判断还有没有下一个元素
        3.使用Iterator接口中的方法next取出集合中的下一个元素
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo01Iterator</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//创建一个集合对象</span>
        <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">coll</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="c1">//往集合中添加元素</span>
        <span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"姚明"</span><span class="o">);</span>
        <span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"科比"</span><span class="o">);</span>
        <span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"麦迪"</span><span class="o">);</span>
        <span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"詹姆斯"</span><span class="o">);</span>
        <span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"艾弗森"</span><span class="o">);</span>

        <span class="cm">/*
            1.使用集合中的方法iterator()获取迭代器的实现类对象,使用Iterator接口接收(多态)
            注意:
                Iterator&lt;E&gt;接口也是有泛型的,迭代器的泛型跟着集合走,集合是什么泛型,迭代器就是什么泛型
         */</span>
        <span class="c1">//多态  接口            实现类对象</span>
        <span class="nc">Iterator</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">it</span> <span class="o">=</span> <span class="n">coll</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>


        <span class="cm">/*
            发现使用迭代器取出集合中元素的代码,是一个重复的过程
            所以我们可以使用循环优化
            不知道集合中有多少元素,使用while循环
            循环结束的条件,hasNext方法返回false
         */</span>
        <span class="k">while</span><span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()){</span>
            <span class="nc">String</span> <span class="n">e</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"----------------------"</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="nc">Iterator</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">it2</span> <span class="o">=</span> <span class="n">coll</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span><span class="n">it2</span><span class="o">.</span><span class="na">hasNext</span><span class="o">();){</span>
            <span class="nc">String</span> <span class="n">e</span> <span class="o">=</span> <span class="n">it2</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
        <span class="o">}</span>


       <span class="cm">/* //2.使用Iterator接口中的方法hasNext判断还有没有下一个元素
        boolean b = it.hasNext();
        System.out.println(b);//true
        //3.使用Iterator接口中的方法next取出集合中的下一个元素
        String s = it.next();
        System.out.println(s);//姚明

        b = it.hasNext();
        System.out.println(b);
        s = it.next();
        System.out.println(s);

        b = it.hasNext();
        System.out.println(b);
        s = it.next();
        System.out.println(s);

        b = it.hasNext();
        System.out.println(b);
        s = it.next();
        System.out.println(s);

        b = it.hasNext();
        System.out.println(b);
        s = it.next();
        System.out.println(s);

        b = it.hasNext();
        System.out.println(b);//没有元素,返回false
        s = it.next();//没有元素,在取出元素会抛出NoSuchElementException没有元素异常
        System.out.println(s);*/</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>

<span class="cm">/*
    增强for循环:底层使用的也是迭代器,使用for循环的格式,简化了迭代器的书写
    是JDK1.5之后出现的新特性
    Collection&lt;E&gt;extends Iterable&lt;E&gt;:所有的单列集合都可以使用增强for
    public interface Iterable&lt;T&gt;实现这个接口允许对象成为 "foreach" 语句的目标。

    增强for循环:用来遍历集合和数组

    格式:
        for(集合/数组的数据类型 变量名: 集合名/数组名){
            sout(变量名);
        }
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo02Foreach</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">demo02</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="c1">//使用增强for循环遍历集合</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">demo02</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"aaa"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"bbb"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"ccc"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"ddd"</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span> <span class="o">:</span> <span class="n">list</span><span class="o">){</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">//使用增强for循环遍历数组</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">demo01</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">arr</span> <span class="o">=</span> <span class="o">{</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">};</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="nl">i:</span><span class="n">arr</span><span class="o">){</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h2 id="3-泛型">3. 泛型</h2> <h3 id="31--泛型概述">3.1 泛型概述</h3> <p><img src="https://blog.slienceme.cn/images/posts/20210124192105301.bmp.jpg" alt="Alt Text" /> ，只要把对象存储集合后，那么这时他们都会被提升成Object类型。当我们在取出每一个对象，并且进行相应的操作，这时必须采用类型转换。</p> <p>大家观察下面代码：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">GenericDemo</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">Collection</span> <span class="n">coll</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">();</span>
		<span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"abc"</span><span class="o">);</span>
		<span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"it666"</span><span class="o">);</span>
		<span class="n">coll</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span><span class="c1">//由于集合没有做任何限定，任何类型都可以给其中存放</span>
		<span class="nc">Iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">coll</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>
		<span class="k">while</span><span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()){</span>
			<span class="c1">//需要打印每个字符串的长度,就要把迭代出来的对象转成String类型</span>
			<span class="nc">String</span> <span class="n">str</span> <span class="o">=</span> <span class="o">(</span><span class="nc">String</span><span class="o">)</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">str</span><span class="o">.</span><span class="na">length</span><span class="o">());</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>程序在运行时发生了问题<strong>java.lang.ClassCastException</strong>。 为什么会发生类型转换异常呢？ 我们来分析下：由于集合中什么类型的元素都可以存储。导致取出时强转引发运行时 ClassCastException。 怎么来解决这个问题呢？ Collection虽然可以存储各种对象，但实际上通常Collection只存储同一类型对象。例如都是存储字符串对象。因此在JDK5之后，新增了<strong>泛型</strong>(<strong>Generic</strong>)语法，让你在设计API时可以指定类或方法支持泛型，这样我们使用API的时候也变得更为简洁，并得到了编译时期的语法检查。</p> <ul> <li><strong>泛型</strong>：可以在类或方法中预支地使用未知的类型。</li> </ul> <blockquote> <p>tips:一般在创建对象时，将未知的类型确定具体的类型。当没有指定泛型时，默认类型为Object类型。</p> </blockquote> <h3 id="32--使用泛型的好处">3.2 使用泛型的好处</h3> <p>上一节只是讲解了泛型的引入，那么泛型带来了哪些好处呢？</p> <ul> <li>将运行时期的ClassCastException，转移到了编译时期变成了编译失败。</li> <li>避免了类型强转的麻烦。</li> </ul> <p>通过我们如下代码体验一下：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">GenericDemo2</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"abc"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"it666"</span><span class="o">);</span>
        <span class="c1">// list.add(5);//当集合明确类型后，存放类型不一致就会编译报错</span>
        <span class="c1">// 集合已经明确具体存放的元素类型，那么在使用迭代器的时候，迭代器也同样会知道具体遍历元素类型</span>
        <span class="nc">Iterator</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">it</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>
        <span class="k">while</span><span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()){</span>
            <span class="nc">String</span> <span class="n">str</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="c1">//当使用Iterator&lt;String&gt;控制元素类型后，就不需要强转了。获取到的元素直接就是String类型</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">str</span><span class="o">.</span><span class="na">length</span><span class="o">());</span>
        <span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <blockquote> <p>tips:泛型是数据类型的一部分，我们将类名与泛型合并一起看做数据类型。</p> </blockquote> <hr /> <hr /> <hr /> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Iterator</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo01Generic</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">show02</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="cm">/*
        创建集合对象,使用泛型
        好处:
            1.避免了类型转换的麻烦,存储的是什么类型,取出的就是什么类型
            2.把运行期异常(代码运行之后会抛出的异常),提升到了编译期(写代码的时候会报错)
         弊端:
            泛型是什么类型,只能存储什么类型的数据
     */</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">show02</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"abc"</span><span class="o">);</span>
        <span class="c1">//list.add(1);//add(java.lang.String)in ArrayList cannot be applied to (int)</span>

        <span class="c1">//使用迭代器遍历list集合</span>
        <span class="nc">Iterator</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">it</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>
        <span class="k">while</span><span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()){</span>
            <span class="nc">String</span> <span class="n">s</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">+</span><span class="s">"-&gt;"</span><span class="o">+</span><span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="cm">/*
        创建集合对象,不使用泛型
        好处:
            集合不使用泛型,默认的类型就是Object类型,可以存储任意类型的数据
        弊端:
            不安全,会引发异常
     */</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">show01</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">ArrayList</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">();</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"abc"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

        <span class="c1">//使用迭代器遍历list集合</span>
        <span class="c1">//获取迭代器</span>
        <span class="nc">Iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>
        <span class="c1">//使用迭代器中的方法hasNext和next遍历集合</span>
        <span class="k">while</span><span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()){</span>
            <span class="c1">//取出元素也是Object类型</span>
            <span class="nc">Object</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">obj</span><span class="o">);</span>

            <span class="c1">//想要使用String类特有的方法,length获取字符串的长度;不能使用  多态 Object obj = "abc";</span>
            <span class="c1">//需要向下转型</span>
            <span class="c1">//会抛出ClassCastException类型转换异常,不能把Integer类型转换为String类型</span>
            <span class="nc">String</span> <span class="n">s</span> <span class="o">=</span> <span class="o">(</span><span class="nc">String</span><span class="o">)</span><span class="n">obj</span><span class="o">;</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h3 id="33--泛型的定义与使用">3.3 泛型的定义与使用</h3> <p>我们在集合中会大量使用到泛型，这里来完整地学习泛型知识。</p> <p>泛型，用来灵活地将数据类型应用到不同的类、方法、接口当中。将数据类型作为参数进行传递。</p> <h4 id="定义和使用含有泛型的类">定义和使用含有泛型的类</h4> <p>定义格式：</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>修饰符 class 类名&lt;代表泛型的变量&gt; {  }
</code></pre></div></div> <p>例如，API中的ArrayList集合：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;{</span> 
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">add</span><span class="o">(</span><span class="no">E</span> <span class="n">e</span><span class="o">){</span> <span class="o">}</span>

    <span class="kd">public</span> <span class="no">E</span> <span class="nf">get</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">){</span> <span class="o">}</span>
   	<span class="o">....</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
    定义一个含有泛型的类,模拟ArrayList集合
    泛型是一个未知的数据类型,当我们不确定什么什么数据类型的时候,可以使用泛型
    泛型可以接收任意的数据类型,可以使用Integer,String,Student...
    创建对象的时候确定泛型的数据类型
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GenericClass</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="no">E</span> <span class="n">name</span><span class="o">;</span>

    <span class="kd">public</span> <span class="no">E</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="no">E</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>使用泛型： 即什么时候确定泛型。</p> <p><strong>在创建对象的时候确定泛型</strong></p> <p>例如，<code class="language-plaintext highlighter-rouge">ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();</code></p> <p>此时，变量E的值就是String类型,那么我们的类型就可以理解为：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;{</span> 
     <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">add</span><span class="o">(</span><span class="nc">String</span> <span class="n">e</span><span class="o">){</span> <span class="o">}</span>

     <span class="kd">public</span> <span class="nc">String</span> <span class="nf">get</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">){</span>  <span class="o">}</span>
     <span class="o">...</span>
<span class="o">}</span>
</code></pre></div></div> <p>再例如，<code class="language-plaintext highlighter-rouge">ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();</code></p> <p>此时，变量E的值就是Integer类型,那么我们的类型就可以理解为：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="o">{</span> 
     <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">add</span><span class="o">(</span><span class="nc">Integer</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span> <span class="o">}</span>

     <span class="kd">public</span> <span class="nc">Integer</span> <span class="nf">get</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>  <span class="o">}</span>
     <span class="o">...</span>
<span class="o">}</span>
</code></pre></div></div> <p>举例自定义泛型类</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyGenericClass</span><span class="o">&lt;</span><span class="no">MVP</span><span class="o">&gt;</span> <span class="o">{</span>
	<span class="c1">//没有MVP类型，在这里代表 未知的一种数据类型 未来传递什么就是什么类型</span>
	<span class="kd">private</span> <span class="no">MVP</span> <span class="n">mvp</span><span class="o">;</span>
     
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setMVP</span><span class="o">(</span><span class="no">MVP</span> <span class="n">mvp</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">mvp</span> <span class="o">=</span> <span class="n">mvp</span><span class="o">;</span>
    <span class="o">}</span>
     
    <span class="kd">public</span> <span class="no">MVP</span> <span class="nf">getMVP</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">mvp</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>使用:</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">GenericClassDemo</span> <span class="o">{</span>
  	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>		 
         <span class="c1">// 创建一个泛型为String的类</span>
         <span class="nc">MyGenericClass</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">my</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyGenericClass</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>    	
         <span class="c1">// 调用setMVP</span>
         <span class="n">my</span><span class="o">.</span><span class="na">setMVP</span><span class="o">(</span><span class="s">"大胡子登登"</span><span class="o">);</span>
         <span class="c1">// 调用getMVP</span>
         <span class="nc">String</span> <span class="n">mvp</span> <span class="o">=</span> <span class="n">my</span><span class="o">.</span><span class="na">getMVP</span><span class="o">();</span>
         <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">mvp</span><span class="o">);</span>
         <span class="c1">//创建一个泛型为Integer的类</span>
         <span class="nc">MyGenericClass</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">my2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyGenericClass</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span> 
         <span class="n">my2</span><span class="o">.</span><span class="na">setMVP</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>   	  
         <span class="nc">Integer</span> <span class="n">mvp2</span> <span class="o">=</span> <span class="n">my2</span><span class="o">.</span><span class="na">getMVP</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo02GenericClass</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//不写泛型默认为Object类型</span>
        <span class="nc">GenericClass</span> <span class="n">gc</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">GenericClass</span><span class="o">();</span>
        <span class="n">gc</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"只能是字符串"</span><span class="o">);</span>
        <span class="nc">Object</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">gc</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>

        <span class="c1">//创建GenericClass对象,泛型使用Integer类型</span>
        <span class="nc">GenericClass</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">gc2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">GenericClass</span><span class="o">&lt;&gt;();</span>
        <span class="n">gc2</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

        <span class="nc">Integer</span> <span class="n">name</span> <span class="o">=</span> <span class="n">gc2</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>

        <span class="c1">//创建GenericClass对象,泛型使用String类型</span>
        <span class="nc">GenericClass</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">gc3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">GenericClass</span><span class="o">&lt;&gt;();</span>
        <span class="n">gc3</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"小明"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">name1</span> <span class="o">=</span> <span class="n">gc3</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">name1</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h4 id="含有泛型的方法">含有泛型的方法</h4> <p>定义格式：</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>修饰符 &lt;代表泛型的变量&gt; 返回值类型 方法名(参数){  }
</code></pre></div></div> <p>例如，</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyGenericMethod</span> <span class="o">{</span>	  
    <span class="kd">public</span> <span class="o">&lt;</span><span class="no">MVP</span><span class="o">&gt;</span> <span class="kt">void</span> <span class="nf">show</span><span class="o">(</span><span class="no">MVP</span> <span class="n">mvp</span><span class="o">)</span> <span class="o">{</span>
    	<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">mvp</span><span class="o">.</span><span class="na">getClass</span><span class="o">());</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="o">&lt;</span><span class="no">MVP</span><span class="o">&gt;</span> <span class="no">MVP</span> <span class="nf">show2</span><span class="o">(</span><span class="no">MVP</span> <span class="n">mvp</span><span class="o">)</span> <span class="o">{</span>	
    	<span class="k">return</span> <span class="n">mvp</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
    定义含有泛型的方法:泛型定义在方法的修饰符和返回值类型之间

    格式:
        修饰符 &lt;泛型&gt; 返回值类型 方法名(参数列表(使用泛型)){
            方法体;
        }

    含有泛型的方法,在调用方法的时候确定泛型的数据类型
    传递什么类型的参数,泛型就是什么类型
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GenericMethod</span> <span class="o">{</span>
    <span class="c1">//定义一个含有泛型的方法</span>
    <span class="kd">public</span> <span class="o">&lt;</span><span class="no">M</span><span class="o">&gt;</span> <span class="kt">void</span> <span class="nf">method01</span><span class="o">(</span><span class="no">M</span> <span class="n">m</span><span class="o">){</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">m</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="c1">//定义一个含有泛型的静态方法</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="no">S</span><span class="o">&gt;</span> <span class="kt">void</span> <span class="nf">method02</span><span class="o">(</span><span class="no">S</span> <span class="n">s</span><span class="o">){</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>使用格式：<strong>调用方法时，确定泛型的类型</strong></p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">GenericMethodDemo</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 创建对象</span>
        <span class="nc">MyGenericMethod</span> <span class="n">mm</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyGenericMethod</span><span class="o">();</span>
        <span class="c1">// 演示看方法提示</span>
        <span class="n">mm</span><span class="o">.</span><span class="na">show</span><span class="o">(</span><span class="s">"aaa"</span><span class="o">);</span>
        <span class="n">mm</span><span class="o">.</span><span class="na">show</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
        <span class="n">mm</span><span class="o">.</span><span class="na">show</span><span class="o">(</span><span class="mf">12.45</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
    测试含有泛型的方法
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo03GenericMethod</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//创建GenericMethod对象</span>
        <span class="nc">GenericMethod</span> <span class="n">gm</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">GenericMethod</span><span class="o">();</span>

        <span class="cm">/*
            调用含有泛型的方法method01
            传递什么类型,泛型就是什么类型
         */</span>
        <span class="n">gm</span><span class="o">.</span><span class="na">method01</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
        <span class="n">gm</span><span class="o">.</span><span class="na">method01</span><span class="o">(</span><span class="s">"abc"</span><span class="o">);</span>
        <span class="n">gm</span><span class="o">.</span><span class="na">method01</span><span class="o">(</span><span class="mf">8.8</span><span class="o">);</span>
        <span class="n">gm</span><span class="o">.</span><span class="na">method01</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

        <span class="n">gm</span><span class="o">.</span><span class="na">method02</span><span class="o">(</span><span class="s">"静态方法,不建议创建对象使用"</span><span class="o">);</span>

        <span class="c1">//静态方法,通过类名.方法名(参数)可以直接使用</span>
        <span class="nc">GenericMethod</span><span class="o">.</span><span class="na">method02</span><span class="o">(</span><span class="s">"静态方法"</span><span class="o">);</span>
        <span class="nc">GenericMethod</span><span class="o">.</span><span class="na">method02</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h4 id="含有泛型的接口">含有泛型的接口</h4> <p>定义格式：</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>修饰符 interface接口名&lt;代表泛型的变量&gt; {  }
</code></pre></div></div> <p>例如，</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">MyGenericInterface</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;{</span>
	<span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="no">E</span> <span class="n">e</span><span class="o">);</span>
	
	<span class="kd">public</span> <span class="kd">abstract</span> <span class="no">E</span> <span class="nf">getE</span><span class="o">();</span>  
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
    定义含有泛型的接口
 */</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">GenericInterface</span><span class="o">&lt;</span><span class="no">I</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">method</span><span class="o">(</span><span class="no">I</span> <span class="n">i</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div> <p>使用格式：</p> <p><strong>1、定义类时确定泛型的类型</strong></p> <p>例如</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyImp1</span> <span class="kd">implements</span> <span class="nc">MyGenericInterface</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="o">{</span>
	<span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="nc">String</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 省略...</span>
    <span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">getE</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>此时，泛型E的值就是String类型。</p> <p><strong>2、始终不确定泛型的类型，直到创建对象时，确定泛型的类型</strong></p> <p>例如</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyImp2</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="nc">MyGenericInterface</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="no">E</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
       	 <span class="c1">// 省略...</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="no">E</span> <span class="nf">getE</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>确定泛型：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
 * 使用
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GenericInterface</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">MyImp2</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span>  <span class="n">my</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyImp2</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>  
        <span class="n">my</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"aa"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
    含有泛型的接口,第一种使用方式:定义接口的实现类,实现接口,指定接口的泛型
    public interface Iterator&lt;E&gt; {
        E next();
    }
    Scanner类实现了Iterator接口,并指定接口的泛型为String,所以重写的next方法泛型默认就是String
    public final class Scanner implements Iterator&lt;String&gt;{
        public String next() {}
    }
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GenericInterfaceImpl1</span> <span class="kd">implements</span> <span class="nc">GenericInterface</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">method</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
    含有泛型的接口第二种使用方式:接口使用什么泛型,实现类就使用什么泛型,类跟着接口走
    就相当于定义了一个含有泛型的类,创建对象的时候确定泛型的类型
    public interface List&lt;E&gt;{
        boolean add(E e);
        E get(int index);
    }
    public class ArrayList&lt;E&gt; implements List&lt;E&gt;{
        public boolean add(E e) {}
        public E get(int index) {}
    }
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GenericInterfaceImpl2</span><span class="o">&lt;</span><span class="no">I</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="nc">GenericInterface</span><span class="o">&lt;</span><span class="no">I</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">method</span><span class="o">(</span><span class="no">I</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h3 id="34--泛型通配符">3.4 泛型通配符</h3> <p>当使用泛型类或者接口时，传递的数据中，泛型类型不确定，可以通过通配符&lt;?&gt;表示。但是一旦使用泛型的通配符后，只能使用Object类中的共性方法，集合中元素自身方法无法使用。</p> <h5 id="通配符基本使用">通配符基本使用</h5> <p>泛型的通配符:<strong>不知道使用什么类型来接收的时候,此时可以使用?,?表示未知通配符。</strong></p> <p>此时只能接受数据,不能往该集合中存储数据。</p> <p>举个例子大家理解使用即可：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">Intger</span><span class="o">&gt;</span> <span class="n">list1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>
    <span class="n">getElement</span><span class="o">(</span><span class="n">list1</span><span class="o">);</span>
    <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
    <span class="n">getElement</span><span class="o">(</span><span class="n">list2</span><span class="o">);</span>
<span class="o">}</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">getElement</span><span class="o">(</span><span class="nc">Collection</span><span class="o">&lt;?&gt;</span> <span class="n">coll</span><span class="o">){}</span>
<span class="c1">//？代表可以接收任意类型</span>
</code></pre></div></div> <blockquote> <p>tips:泛型不存在继承关系 Collection<object> list = new ArrayList<String>();这种是错误的。</String></object></p> </blockquote> <h5 id="通配符高级使用-受限泛型">通配符高级使用—-受限泛型</h5> <p>之前设置泛型的时候，实际上是可以任意设置的，只要是类就可以设置。但是在JAVA的泛型中可以指定一个泛型的<strong>上限</strong>和<strong>下限</strong>。</p> <p><strong>泛型的上限</strong>：</p> <ul> <li><strong>格式</strong>： <code class="language-plaintext highlighter-rouge">类型名称 &lt;? extends 类 &gt; 对象名称</code></li> <li><strong>意义</strong>： <code class="language-plaintext highlighter-rouge">只能接收该类型及其子类</code></li> </ul> <p><strong>泛型的下限</strong>：</p> <ul> <li><strong>格式</strong>： <code class="language-plaintext highlighter-rouge">类型名称 &lt;? super 类 &gt; 对象名称</code></li> <li><strong>意义</strong>： <code class="language-plaintext highlighter-rouge">只能接收该类型及其父类型</code></li> </ul> <p>比如：现已知Object类，String 类，Number类，Integer类，其中Number是Integer的父类</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>
    <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
    <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">Number</span><span class="o">&gt;</span> <span class="n">list3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Number</span><span class="o">&gt;();</span>
    <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">Object</span><span class="o">&gt;</span> <span class="n">list4</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Object</span><span class="o">&gt;();</span>
    
    <span class="n">getElement</span><span class="o">(</span><span class="n">list1</span><span class="o">);</span>
    <span class="n">getElement</span><span class="o">(</span><span class="n">list2</span><span class="o">);</span><span class="c1">//报错</span>
    <span class="n">getElement</span><span class="o">(</span><span class="n">list3</span><span class="o">);</span>
    <span class="n">getElement</span><span class="o">(</span><span class="n">list4</span><span class="o">);</span><span class="c1">//报错</span>
  
    <span class="n">getElement2</span><span class="o">(</span><span class="n">list1</span><span class="o">);</span><span class="c1">//报错</span>
    <span class="n">getElement2</span><span class="o">(</span><span class="n">list2</span><span class="o">);</span><span class="c1">//报错</span>
    <span class="n">getElement2</span><span class="o">(</span><span class="n">list3</span><span class="o">);</span>
    <span class="n">getElement2</span><span class="o">(</span><span class="n">list4</span><span class="o">);</span>
  
<span class="o">}</span>
<span class="c1">// 泛型的上限：此时的泛型?，必须是Number类型或者Number类型的子类</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">getElement1</span><span class="o">(</span><span class="nc">Collection</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="nc">Number</span><span class="o">&gt;</span> <span class="n">coll</span><span class="o">){}</span>
<span class="c1">// 泛型的下限：此时的泛型?，必须是Number类型或者Number类型的父类</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">getElement2</span><span class="o">(</span><span class="nc">Collection</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="nc">Number</span><span class="o">&gt;</span> <span class="n">coll</span><span class="o">){}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
    测试含有泛型的接口
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo04GenericInterface</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//创建GenericInterfaceImpl1对象</span>
        <span class="nc">GenericInterfaceImpl1</span> <span class="n">gi1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">GenericInterfaceImpl1</span><span class="o">();</span>
        <span class="n">gi1</span><span class="o">.</span><span class="na">method</span><span class="o">(</span><span class="s">"字符串"</span><span class="o">);</span>

        <span class="c1">//创建GenericInterfaceImpl2对象</span>
        <span class="nc">GenericInterfaceImpl2</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">gi2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">GenericInterfaceImpl2</span><span class="o">&lt;&gt;();</span>
        <span class="n">gi2</span><span class="o">.</span><span class="na">method</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>

        <span class="nc">GenericInterfaceImpl2</span><span class="o">&lt;</span><span class="nc">Double</span><span class="o">&gt;</span> <span class="n">gi3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">GenericInterfaceImpl2</span><span class="o">&lt;&gt;();</span>
        <span class="n">gi3</span><span class="o">.</span><span class="na">method</span><span class="o">(</span><span class="mf">8.8</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
    泛型的通配符:
        ?:代表任意的数据类型
    使用方式:
        不能创建对象使用
        只能作为方法的参数使用
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo05Generic</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list01</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">list01</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
        <span class="n">list01</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span>

        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list02</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">list02</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"a"</span><span class="o">);</span>
        <span class="n">list02</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"b"</span><span class="o">);</span>

        <span class="n">printArray</span><span class="o">(</span><span class="n">list01</span><span class="o">);</span>
        <span class="n">printArray</span><span class="o">(</span><span class="n">list02</span><span class="o">);</span>

        <span class="c1">//ArrayList&lt;?&gt; list03 = new ArrayList&lt;?&gt;();</span>
    <span class="o">}</span>

    <span class="cm">/*
        定义一个方法,能遍历所有类型的ArrayList集合
        这时候我们不知道ArrayList集合使用什么数据类型,可以泛型的通配符?来接收数据类型
        注意:
            泛型没有继承概念的
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">printArray</span><span class="o">(</span><span class="nc">ArrayList</span><span class="o">&lt;?&gt;</span> <span class="n">list</span><span class="o">){</span>
        <span class="c1">//使用迭代器遍历集合</span>
        <span class="nc">Iterator</span><span class="o">&lt;?&gt;</span> <span class="n">it</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>
        <span class="k">while</span><span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()){</span>
            <span class="c1">//it.next()方法,取出的元素是Object,可以接收任意的数据类型</span>
            <span class="nc">Object</span> <span class="n">o</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">o</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Collection</span><span class="o">;</span>

<span class="cm">/*
    泛型的上限限定: ? extends E  代表使用的泛型只能是E类型的子类/本身
    泛型的下限限定: ? super E    代表使用的泛型只能是E类型的父类/本身
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo06Generic</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>
        <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
        <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">Number</span><span class="o">&gt;</span> <span class="n">list3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Number</span><span class="o">&gt;();</span>
        <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">Object</span><span class="o">&gt;</span> <span class="n">list4</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Object</span><span class="o">&gt;();</span>

        <span class="n">getElement1</span><span class="o">(</span><span class="n">list1</span><span class="o">);</span>
        <span class="c1">//getElement1(list2);//报错</span>
        <span class="n">getElement1</span><span class="o">(</span><span class="n">list3</span><span class="o">);</span>
        <span class="c1">//getElement1(list4);//报错</span>

        <span class="c1">//getElement2(list1);//报错</span>
        <span class="c1">//getElement2(list2);//报错</span>
        <span class="n">getElement2</span><span class="o">(</span><span class="n">list3</span><span class="o">);</span>
        <span class="n">getElement2</span><span class="o">(</span><span class="n">list4</span><span class="o">);</span>

        <span class="cm">/*
            类与类之间的继承关系
            Integer extends Number extends Object
            String extends Object
         */</span>

    <span class="o">}</span>
    <span class="c1">// 泛型的上限：此时的泛型?，必须是Number类型或者Number类型的子类</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">getElement1</span><span class="o">(</span><span class="nc">Collection</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="nc">Number</span><span class="o">&gt;</span> <span class="n">coll</span><span class="o">){}</span>
    <span class="c1">// 泛型的下限：此时的泛型?，必须是Number类型或者Number类型的父类</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">getElement2</span><span class="o">(</span><span class="nc">Collection</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="nc">Number</span><span class="o">&gt;</span> <span class="n">coll</span><span class="o">){}</span>
<span class="o">}</span>
</code></pre></div></div> <h2 id="4-集合综合案例">4. 集合综合案例</h2> <h3 id="41-案例介绍">4.1 案例介绍</h3> <p>按照斗地主的规则，完成洗牌发牌的动作。 具体规则：</p> <p>使用54张牌打乱顺序,三个玩家参与游戏，三人交替摸牌，每人17张牌，最后三张留作底牌。</p> <h3 id="42-案例分析">4.2 案例分析</h3> <ul> <li> <p>准备牌：</p> <p>牌可以设计为一个ArrayList<String>,每个字符串为一张牌。 每张牌由花色数字两部分组成，我们可以使用花色集合与数字集合嵌套迭代完成每张牌的组装。 牌由Collections类的shuffle方法进行随机排序。</String></p> </li> <li> <p>发牌</p> <p>将每个人以及底牌设计为ArrayList<String>,将最后3张牌直接存放于底牌，剩余牌通过对3取模依次发牌。</String></p> </li> <li> <p>看牌</p> <p>直接打印每个集合。</p> </li> </ul> <h3 id="43-代码实现">4.3 代码实现</h3> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Collections</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Poker</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="cm">/*
        * 1: 准备牌操作
        */</span>
        <span class="c1">//1.1 创建牌盒 将来存储牌面的 </span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">pokerBox</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
        <span class="c1">//1.2 创建花色集合</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">colors</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>

        <span class="c1">//1.3 创建数字集合</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">numbers</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>

        <span class="c1">//1.4 分别给花色 以及 数字集合添加元素</span>
        <span class="n">colors</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"♥"</span><span class="o">);</span>
        <span class="n">colors</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"♦"</span><span class="o">);</span>
        <span class="n">colors</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"♠"</span><span class="o">);</span>
        <span class="n">colors</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"♣"</span><span class="o">);</span>

        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="mi">10</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">i</span><span class="o">+</span><span class="s">""</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"J"</span><span class="o">);</span>
        <span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Q"</span><span class="o">);</span>
        <span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"K"</span><span class="o">);</span>
        <span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"A"</span><span class="o">);</span>
        <span class="c1">//1.5 创造牌  拼接牌操作</span>
        <span class="c1">// 拿出每一个花色  然后跟每一个数字 进行结合  存储到牌盒中</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">color</span> <span class="o">:</span> <span class="n">colors</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">//color每一个花色 </span>
            <span class="c1">//遍历数字集合</span>
            <span class="k">for</span><span class="o">(</span><span class="nc">String</span> <span class="n">number</span> <span class="o">:</span> <span class="n">numbers</span><span class="o">){</span>
                <span class="c1">//结合</span>
                <span class="nc">String</span> <span class="n">card</span> <span class="o">=</span> <span class="n">color</span><span class="o">+</span><span class="n">number</span><span class="o">;</span>
                <span class="c1">//存储到牌盒中</span>
                <span class="n">pokerBox</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">card</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="c1">//1.6大王小王</span>
        <span class="n">pokerBox</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"小☺"</span><span class="o">);</span>
        <span class="n">pokerBox</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"大☠"</span><span class="o">);</span>	  
        <span class="c1">// System.out.println(pokerBox);</span>
        <span class="c1">//洗牌 是不是就是将  牌盒中 牌的索引打乱 </span>
        <span class="c1">// Collections类  工具类  都是 静态方法</span>
        <span class="c1">// shuffer方法   </span>
        <span class="cm">/*
         * static void shuffle(List&lt;?&gt; list) 
         *     使用默认随机源对指定列表进行置换。 
         */</span>
        <span class="c1">//2:洗牌</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">shuffle</span><span class="o">(</span><span class="n">pokerBox</span><span class="o">);</span>
        <span class="c1">//3 发牌</span>
        <span class="c1">//3.1 创建 三个 玩家集合  创建一个底牌集合</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">player1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">player2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">player3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">dipai</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>	  

        <span class="c1">//遍历 牌盒  必须知道索引   </span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">pokerBox</span><span class="o">.</span><span class="na">size</span><span class="o">();</span><span class="n">i</span><span class="o">++){</span>
            <span class="c1">//获取 牌面</span>
            <span class="nc">String</span> <span class="n">card</span> <span class="o">=</span> <span class="n">pokerBox</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="c1">//留出三张底牌 存到 底牌集合中</span>
            <span class="k">if</span><span class="o">(</span><span class="n">i</span><span class="o">&gt;=</span><span class="mi">51</span><span class="o">){</span><span class="c1">//存到底牌集合中</span>
                <span class="n">dipai</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">card</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="c1">//玩家1   %3  ==0</span>
                <span class="k">if</span><span class="o">(</span><span class="n">i</span><span class="o">%</span><span class="mi">3</span><span class="o">==</span><span class="mi">0</span><span class="o">){</span>
                  	<span class="n">player1</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">card</span><span class="o">);</span>
                <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">i</span><span class="o">%</span><span class="mi">3</span><span class="o">==</span><span class="mi">1</span><span class="o">){</span><span class="c1">//玩家2</span>
                  	<span class="n">player2</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">card</span><span class="o">);</span>
                <span class="o">}</span><span class="k">else</span><span class="o">{</span><span class="c1">//玩家3</span>
                  	<span class="n">player3</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">card</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="c1">//看看</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"令狐冲："</span><span class="o">+</span><span class="n">player1</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"田伯光："</span><span class="o">+</span><span class="n">player2</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"绿竹翁："</span><span class="o">+</span><span class="n">player3</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"底牌："</span><span class="o">+</span><span class="n">dipai</span><span class="o">);</span>  
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Collections</span><span class="o">;</span>

<span class="cm">/*
    斗地主综合案例:
        1.准备牌
        2.洗牌
        3.发牌
        4.看牌
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DouDiZhu</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//1.准备牌</span>
        <span class="c1">//定义一个存储54张牌的ArrayList集合,泛型使用String</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">poker</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="c1">//定义两个数组,一个数组存储牌的花色,一个数组存储牌的序号</span>
        <span class="nc">String</span><span class="o">[]</span> <span class="n">colors</span> <span class="o">=</span> <span class="o">{</span><span class="s">"♠"</span><span class="o">,</span><span class="s">"♥"</span><span class="o">,</span><span class="s">"♣"</span><span class="o">,</span><span class="s">"♦"</span><span class="o">};</span>
        <span class="nc">String</span><span class="o">[]</span> <span class="n">numbers</span> <span class="o">=</span> <span class="o">{</span><span class="s">"2"</span><span class="o">,</span><span class="s">"A"</span><span class="o">,</span><span class="s">"K"</span><span class="o">,</span><span class="s">"Q"</span><span class="o">,</span><span class="s">"J"</span><span class="o">,</span><span class="s">"10"</span><span class="o">,</span><span class="s">"9"</span><span class="o">,</span><span class="s">"8"</span><span class="o">,</span><span class="s">"7"</span><span class="o">,</span><span class="s">"6"</span><span class="o">,</span><span class="s">"5"</span><span class="o">,</span><span class="s">"4"</span><span class="o">,</span><span class="s">"3"</span><span class="o">};</span>
        <span class="c1">//先把大王和小王存储到poker集合中</span>
        <span class="n">poker</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"大王"</span><span class="o">);</span>
        <span class="n">poker</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"小王"</span><span class="o">);</span>
        <span class="c1">//循环嵌套遍历两个数组,组装52张牌</span>
        <span class="k">for</span><span class="o">(</span><span class="nc">String</span> <span class="n">number</span> <span class="o">:</span> <span class="n">numbers</span><span class="o">){</span>
            <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">color</span> <span class="o">:</span> <span class="n">colors</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">//System.out.println(color+number);</span>
                <span class="c1">//把组装好的牌存储到poker集合中</span>
                <span class="n">poker</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">color</span><span class="o">+</span><span class="n">number</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="c1">//System.out.println(poker);</span>

        <span class="cm">/*
            2.洗牌
            使用集合的工具类Collections中的方法
            static void shuffle(List&lt;?&gt; list) 使用默认随机源对指定列表进行置换。
         */</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">shuffle</span><span class="o">(</span><span class="n">poker</span><span class="o">);</span>
        <span class="c1">//System.out.println(poker);</span>

        <span class="cm">/*
            3.发牌
         */</span>
        <span class="c1">//定义4个集合,存储玩家的牌和底牌</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">player01</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">player02</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">player03</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">diPai</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>

        <span class="cm">/*
            遍历poker集合,获取每一张牌
            使用poker集合的索引%3给3个玩家轮流发牌
            剩余3张牌给底牌
            注意:
                先判断底牌(i&gt;=51),否则牌就发没了
         */</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">poker</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="c1">//获取每一张牌</span>
            <span class="nc">String</span> <span class="n">p</span> <span class="o">=</span> <span class="n">poker</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="c1">//轮流发牌</span>
            <span class="k">if</span><span class="o">(</span><span class="n">i</span><span class="o">&gt;=</span><span class="mi">51</span><span class="o">){</span>
                <span class="c1">//给底牌发牌</span>
                <span class="n">diPai</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>
            <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">i</span><span class="o">%</span><span class="mi">3</span><span class="o">==</span><span class="mi">0</span><span class="o">){</span>
                <span class="c1">//给玩家1发牌</span>
                <span class="n">player01</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>
            <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">i</span><span class="o">%</span><span class="mi">3</span><span class="o">==</span><span class="mi">1</span><span class="o">){</span>
                <span class="c1">//给玩家2发牌</span>
                <span class="n">player02</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>
            <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">i</span><span class="o">%</span><span class="mi">3</span><span class="o">==</span><span class="mi">2</span><span class="o">){</span>
                <span class="c1">//给玩家3发牌</span>
                <span class="n">player03</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="c1">//4.看牌</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"刘德华:"</span><span class="o">+</span><span class="n">player01</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"周润发:"</span><span class="o">+</span><span class="n">player02</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"周星驰:"</span><span class="o">+</span><span class="n">player03</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"底牌:"</span><span class="o">+</span><span class="n">diPai</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h2 id="5-数据结构">5. 数据结构</h2> <h3 id="51-数据结构有什么用">5.1 数据结构有什么用？</h3> <p><img src="https://blog.slienceme.cn/images/posts/20210124194618605.bmp.jpg" alt="Alt Text" /> 限扩充的数组，也好像链表之类的。好用吗？好用，这就是数据结构的用处，只不过你在不知不觉中使用了。</p> <p>现实世界的存储，我们使用的工具和建模。每种数据结构有自己的优点和缺点，想想如果Google的数据用的是数组的存储，我们还能方便地查询到所需要的数据吗？而算法，在这么多的数据中如何做到最快的插入，查找，删除，也是在追求更快。</p> <p>我们java是面向对象的语言，就好似自动档轿车，C语言好似手动档吉普。数据结构呢？是变速箱的工作原理。你完全可以不知道变速箱怎样工作，就把自动档的车子从 A点 开到 B点，而且未必就比懂得的人慢。写程序这件事，和开车一样，经验可以起到很大作用，但如果你不知道底层是怎么工作的，就永远只能开车，既不会修车，也不能造车。当然了，数据结构内容比较多，细细的学起来也是相对费功夫的，不可能达到一蹴而就。我们将常见的数据结构：堆栈、队列、数组、链表和红黑树 这几种给大家介绍一下，作为数据结构的入门，了解一下它们的特点即可。</p> <p><img src="https://blog.slienceme.cn/images/posts/20210124194652437.png" alt="Alt Text" /></p> <h3 id="52-常见的数据结构">5.2 常见的数据结构</h3> <p>数据存储的常用结构有：栈、队列、数组、链表和红黑树。我们分别来了解一下：</p> <h5 id="栈">栈</h5> <ul> <li><strong>栈</strong>：<strong>stack</strong>,又称堆栈，它是运算受限的线性表，其限制是仅允许在标的一端进行插入和删除操作，不允许在其他任何位置进行添加、查找、删除等操作。</li> </ul> <p>简单的说：采用该结构的集合，对元素的存取有如下的特点</p> <ul> <li> <p>先进后出（即，存进去的元素，要在后它后面的元素依次取出后，才能取出该元素）。例如，子弹压进弹夹，先压进去的子弹在下面，后压进去的子弹在上面，当开枪时，先弹出上面的子弹，然后才能弹出下面的子弹。</p> </li> <li> <p>栈的入口、出口的都是栈的顶端位置。</p> </li> </ul> <p><img src="https://blog.slienceme.cn/images/posts/20210124194712401.png" alt="Alt Text" /></p> <p>这里两个名词需要注意：</p> <ul> <li><strong>压栈</strong>：就是存元素。即，把元素存储到栈的顶端位置，栈中已有元素依次向栈底方向移动一个位置。</li> <li><strong>弹栈</strong>：就是取元素。即，把栈的顶端位置元素取出，栈中已有元素依次向栈顶方向移动一个位置。</li> </ul> <p><img src="https://blog.slienceme.cn/images/posts/20210124195950929.png" alt="Alt Text" /></p> <h5 id="队列">队列</h5> <ul> <li><strong>队列</strong>：<strong>queue</strong>,简称队，它同堆栈一样，也是一种运算受限的线性表，其限制是仅允许在表的一端进行插入，而在表的另一端进行删除。</li> </ul> <p>简单的说，采用该结构的集合，对元素的存取有如下的特点：</p> <ul> <li>先进先出（即，存进去的元素，要在后它前面的元素依次取出后，才能取出该元素）。例如，小火车过山洞，车头先进去，车尾后进去；车头先出来，车尾后出来。</li> <li>队列的入口、出口各占一侧。例如，下图中的左侧为入口，右侧为出口。</li> </ul> <p><img src="https://blog.slienceme.cn/images/posts/20210124194810533.bmp.jpg" alt="Alt Text" /></p> <p><img src="https://blog.slienceme.cn/images/posts/20210124195932741.png" alt="Alt Text" /></p> <h5 id="数组">数组</h5> <ul> <li><strong>数组</strong>:<strong>Array</strong>,是有序的元素序列，数组是在内存中开辟一段连续的空间，并在此空间存放元素。就像是一排出租屋，有100个房间，从001到100每个房间都有固定编号，通过编号就可以快速找到租房子的人。</li> </ul> <p>简单的说,采用该结构的集合，对元素的存取有如下的特点：</p> <ul> <li> <p>查找元素快：通过索引，可以快速访问指定位置的元素 <img src="https://blog.slienceme.cn/images/posts/20210124194847314.png" alt="Alt Text" /></p> </li> <li>增删元素慢</li> <li><strong>指定索引位置增加元素</strong>：需要创建一个新数组，将指定新元素存储在指定索引位置，再把原数组元素根据索引，复制到新数组对应索引的位置。</li> </ul> <p><img src="https://blog.slienceme.cn/images/posts/20210124194942583.png" alt="Alt Text" /></p> <ul> <li><strong>指定索引位置删除元素：</strong> 需要创建一个新数组，把原数组元素根据索引，复制到新数组对应索引的位置，原数组中指定索引位置元素不复制到新数组中。 <img src="https://blog.slienceme.cn/images/posts/20210124195006463.png" alt="Alt Text" /></li> </ul> <p><img src="https://blog.slienceme.cn/images/posts/20210124195624724.bmp.jpg" alt="Alt Text" /></p> <h5 id="链表">链表</h5> <ul> <li><strong>链表</strong>:<strong>linked list</strong>,由一系列结点node（链表中每一个元素称为结点）组成，结点可以在运行时i动态生成。每个结点包括两个部分：一个是存储数据元素的数据域，另一个是存储下一个结点地址的指针域。我们常说的链表结构有单向链表与双向链表，那么这里给大家介绍的是<strong>单向链表</strong>。</li> </ul> <p><img src="https://blog.slienceme.cn/images/posts/20210124195233506.png" alt="Alt Text" /></p> <p>简单的说，采用该结构的集合，对元素的存取有如下的特点：</p> <ul> <li>多个结点之间，通过地址进行连接。例如，多个人手拉手，每个人使用自己的右手拉住下个人的左手，依次类推，这样多个人就连在一起了。</li> </ul> <p><img src="https://blog.slienceme.cn/images/posts/20210124195313239.png" alt="Alt Text" /></p> <ul> <li> <p>查找元素慢：想查找某个元素，需要通过连接的节点，依次向后查找指定元素</p> </li> <li> <p>增删元素快：</p> <ul> <li>增加元素：只需要修改连接下个元素的地址即可。</li> </ul> </li> </ul> <p><img src="https://blog.slienceme.cn/images/posts/20210124195419154.png" alt="Alt Text" /></p> <ul> <li>删除元素：只需要修改连接下个元素的地址即可。</li> </ul> <p><img src="https://blog.slienceme.cn/images/posts/20210124195431440.png" alt="Alt Text" /></p> <p><img src="https://blog.slienceme.cn/images/posts/20210124195632812.bmp.jpg" alt="Alt Text" /></p> <h5 id="红黑树">红黑树</h5> <ul> <li><strong>二叉树</strong>：<strong>binary tree</strong> ,是每个结点不超过2的有序<strong>树（tree）</strong> 。</li> </ul> <p>简单的理解，就是一种类似于我们生活中树的结构，只不过每个结点上都最多只能有两个子结点。</p> <p>二叉树是每个节点最多有两个子树的树结构。顶上的叫根结点，两边被称作“左子树”和“右子树”。</p> <p>如图：</p> <p><img src="https://blog.slienceme.cn/images/posts/202101241954535.bmp.jpg" alt="Alt Text" /></p> <p>我们要说的是二叉树的一种比较有意思的叫做<strong>红黑树</strong>，红黑树本身就是一颗二叉查找树，将节点插入后，该树仍然是一颗二叉查找树。也就意味着，树的键值仍然是有序的。</p> <p>红黑树的约束:</p> <ol> <li> <p>节点可以是红色的或者黑色的</p> </li> <li> <p>根节点是黑色的</p> </li> <li>叶子节点(特指空节点)是黑色的</li> <li>每个红色节点的子节点都是黑色的</li> <li>任何一个节点到其每一个叶子节点的所有路径上黑色节点数相同</li> </ol> <p>红黑树的特点:</p> <p>​ 速度特别快,趋近平衡树,查找叶子元素最少和最多次数不多于二倍</p> <p><img src="https://blog.slienceme.cn/images/posts/20210124195644208.bmp.jpg" alt="Alt Text" /></p> <h2 id="6-list集合">6. List集合</h2> <p>我们掌握了Collection接口的使用后，再来看看Collection接口中的子类，他们都具备那些特性呢？</p> <p>接下来，我们一起学习Collection中的常用几个子类（<code class="language-plaintext highlighter-rouge">java.util.List</code>集合、<code class="language-plaintext highlighter-rouge">java.util.Set</code>集合）。</p> <h3 id="61-list接口介绍">6.1 List接口介绍</h3> <p><code class="language-plaintext highlighter-rouge">java.util.List</code>接口继承自<code class="language-plaintext highlighter-rouge">Collection</code>接口，是单列集合的一个重要分支，习惯性地会将实现了<code class="language-plaintext highlighter-rouge">List</code>接口的对象称为List集合。在List集合中允许出现重复的元素，所有的元素是以一种线性方式进行存储的，在程序中可以通过索引来访问集合中的指定元素。另外，List集合还有一个特点就是元素有序，即元素的存入顺序和取出顺序一致。</p> <p>看完API，我们总结一下：</p> <p>List接口特点：</p> <ol> <li>它是一个元素存取有序的集合。例如，存元素的顺序是11、22、33。那么集合中，元素的存储就是按照11、22、33的顺序完成的）。</li> <li>它是一个带有索引的集合，通过索引就可以精确的操作集合中的元素（与数组的索引是一个道理）。</li> <li>集合中可以有重复的元素，通过元素的equals方法，来比较是否为重复的元素。</li> </ol> <blockquote> <p>tips:我们在基础班的时候已经学习过List接口的子类java.util.ArrayList类，该类中的方法都是来自List中定义。</p> </blockquote> <h3 id="62-list接口中常用方法">6.2 List接口中常用方法</h3> <p>List作为Collection集合的子接口，不但继承了Collection接口中的全部方法，而且还增加了一些根据元素索引来操作集合的特有方法，如下：</p> <ul> <li><code class="language-plaintext highlighter-rouge">public void add(int index, E element)</code>: 将指定的元素，添加到该集合中的指定位置上。</li> <li><code class="language-plaintext highlighter-rouge">public E get(int index)</code>:返回集合中指定位置的元素。</li> <li><code class="language-plaintext highlighter-rouge">public E remove(int index)</code>: 移除列表中指定位置的元素, 返回的是被移除的元素。</li> <li><code class="language-plaintext highlighter-rouge">public E set(int index, E element)</code>:用指定元素替换集合中指定位置的元素,返回值的更新前的元素。</li> </ul> <p>List集合特有的方法都是跟索引相关，我们在基础班都学习过，那么我们再来复习一遍吧：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ListDemo</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// 创建List集合对象</span>
    	<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
    	
    	<span class="c1">// 往 尾部添加 指定元素</span>
    	<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"图图"</span><span class="o">);</span>
    	<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"小美"</span><span class="o">);</span>
    	<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"不高兴"</span><span class="o">);</span>
    	
    	<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
    	<span class="c1">// add(int index,String s) 往指定位置添加</span>
    	<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="s">"没头脑"</span><span class="o">);</span>
    	
    	<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
    	<span class="c1">// String remove(int index) 删除指定位置元素  返回被删除元素</span>
    	<span class="c1">// 删除索引位置为2的元素 </span>
    	<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"删除索引位置为2的元素"</span><span class="o">);</span>
    	<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="mi">2</span><span class="o">));</span>
    	
    	<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
    	
    	<span class="c1">// String set(int index,String s)</span>
    	<span class="c1">// 在指定位置 进行 元素替代（改） </span>
    	<span class="c1">// 修改指定位置元素</span>
    	<span class="n">list</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="s">"三毛"</span><span class="o">);</span>
    	<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
    	
    	<span class="c1">// String get(int index)  获取指定位置元素</span>
    	
    	<span class="c1">// 跟size() 方法一起用  来 遍历的 </span>
    	<span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">list</span><span class="o">.</span><span class="na">size</span><span class="o">();</span><span class="n">i</span><span class="o">++){</span>
    		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
    	<span class="o">}</span>
    	<span class="c1">//还可以使用增强for</span>
    	<span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">string</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">string</span><span class="o">);</span>
		<span class="o">}</span>  	
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Iterator</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="cm">/*
    java.util.List接口 extends Collection接口
    List接口的特点:
        1.有序的集合,存储元素和取出元素的顺序是一致的(存储123 取出123)
        2.有索引,包含了一些带索引的方法
        3.允许存储重复的元素

    List接口中带索引的方法(特有)
        - public void add(int index, E element): 将指定的元素，添加到该集合中的指定位置上。
        - public E get(int index):返回集合中指定位置的元素。
        - public E remove(int index): 移除列表中指定位置的元素, 返回的是被移除的元素。
        - public E set(int index, E element):用指定元素替换集合中指定位置的元素,返回值的更新前的元素。
    注意:
        操作索引的时候,一定要防止索引越界异常
        IndexOutOfBoundsException:索引越界异常,集合会报
        ArrayIndexOutOfBoundsException:数组索引越界异常
        StringIndexOutOfBoundsException:字符串索引越界异常
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo01List</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//创建一个List集合对象,多态</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="c1">//使用add方法往集合中添加元素</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"a"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"b"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"c"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"d"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"a"</span><span class="o">);</span>
        <span class="c1">//打印集合</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">);</span><span class="c1">//[a, b, c, d, a]  不是地址重写了toString</span>

        <span class="c1">//public void add(int index, E element): 将指定的元素，添加到该集合中的指定位置上。</span>
        <span class="c1">//在c和d之间添加一个it666</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span><span class="s">"it666"</span><span class="o">);</span><span class="c1">//[a, b, c, it666, d, a]</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>

        <span class="c1">//public E remove(int index): 移除列表中指定位置的元素, 返回的是被移除的元素。</span>
        <span class="c1">//移除元素</span>
        <span class="nc">String</span> <span class="n">removeE</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"被移除的元素:"</span><span class="o">+</span><span class="n">removeE</span><span class="o">);</span><span class="c1">//被移除的元素:c</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">);</span><span class="c1">//[a, b, it666, d, a]</span>

        <span class="c1">//public E set(int index, E element):用指定元素替换集合中指定位置的元素,返回值的更新前的元素。</span>
        <span class="c1">//把最后一个a,替换为A</span>
        <span class="nc">String</span> <span class="n">setE</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="s">"A"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"被替换的元素:"</span><span class="o">+</span><span class="n">setE</span><span class="o">);</span><span class="c1">//被替换的元素:a</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">);</span><span class="c1">//[a, b, it666, d, A]</span>

        <span class="c1">//List集合遍历有3种方式</span>
        <span class="c1">//使用普通的for循环</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">list</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++){</span>
            <span class="c1">//public E get(int index):返回集合中指定位置的元素。</span>
            <span class="nc">String</span> <span class="n">s</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"-----------------"</span><span class="o">);</span>
        <span class="c1">//使用迭代器</span>
        <span class="nc">Iterator</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">it</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>
        <span class="k">while</span><span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()){</span>
            <span class="nc">String</span> <span class="n">s</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"-----------------"</span><span class="o">);</span>
        <span class="c1">//使用增强for</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">s</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="nc">String</span> <span class="n">r</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span><span class="c1">//IndexOutOfBoundsException: Index 5 out-of-bounds for length 5</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">r</span><span class="o">);</span>

    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h2 id="7-list的子类">7. List的子类</h2> <h3 id="71-arraylist集合">7.1 ArrayList集合</h3> <p><code class="language-plaintext highlighter-rouge">java.util.ArrayList</code>集合数据存储的结构是数组结构。元素增删慢，查找快，由于日常开发中使用最多的功能为查询数据、遍历数据，所以<code class="language-plaintext highlighter-rouge">ArrayList</code>是最常用的集合。</p> <p>许多程序员开发时非常随意地使用ArrayList完成任何需求，并不严谨，这种用法是不提倡的。</p> <h3 id="72-linkedlist集合">7.2 LinkedList集合</h3> <p><code class="language-plaintext highlighter-rouge">java.util.LinkedList</code>集合数据存储的结构是链表结构。方便元素添加、删除的集合。</p> <blockquote> <p>LinkedList是一个双向链表，那么双向链表是什么样子的呢，我们用个图了解下</p> </blockquote> <p><img src="https://blog.slienceme.cn/images/posts/20210124201747739.png" alt="Alt Text" /></p> <p>实际开发中对一个集合元素的添加与删除经常涉及到首尾操作，而LinkedList提供了大量首尾操作的方法。这些方法我们作为了解即可：</p> <ul> <li><code class="language-plaintext highlighter-rouge">public void addFirst(E e)</code>:将指定元素插入此列表的开头。</li> <li><code class="language-plaintext highlighter-rouge">public void addLast(E e)</code>:将指定元素添加到此列表的结尾。</li> <li><code class="language-plaintext highlighter-rouge">public E getFirst()</code>:返回此列表的第一个元素。</li> <li><code class="language-plaintext highlighter-rouge">public E getLast()</code>:返回此列表的最后一个元素。</li> <li><code class="language-plaintext highlighter-rouge">public E removeFirst()</code>:移除并返回此列表的第一个元素。</li> <li><code class="language-plaintext highlighter-rouge">public E removeLast()</code>:移除并返回此列表的最后一个元素。</li> <li><code class="language-plaintext highlighter-rouge">public E pop()</code>:从此列表所表示的堆栈处弹出一个元素。</li> <li><code class="language-plaintext highlighter-rouge">public void push(E e)</code>:将元素推入此列表所表示的堆栈。</li> <li><code class="language-plaintext highlighter-rouge">public boolean isEmpty()</code>：如果列表不包含元素，则返回true。</li> </ul> <p>LinkedList是List的子类，List中的方法LinkedList都是可以使用，这里就不做详细介绍，我们只需要了解LinkedList的特有方法即可。在开发时，LinkedList集合也可以作为堆栈，队列的结构使用。（了解即可）</p> <p>方法演示：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">LinkedListDemo</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">link</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
        <span class="c1">//添加元素</span>
        <span class="n">link</span><span class="o">.</span><span class="na">addFirst</span><span class="o">(</span><span class="s">"abc1"</span><span class="o">);</span>
        <span class="n">link</span><span class="o">.</span><span class="na">addFirst</span><span class="o">(</span><span class="s">"abc2"</span><span class="o">);</span>
        <span class="n">link</span><span class="o">.</span><span class="na">addFirst</span><span class="o">(</span><span class="s">"abc3"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">link</span><span class="o">);</span>
        <span class="c1">// 获取元素</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">link</span><span class="o">.</span><span class="na">getFirst</span><span class="o">());</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">link</span><span class="o">.</span><span class="na">getLast</span><span class="o">());</span>
        <span class="c1">// 删除元素</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">link</span><span class="o">.</span><span class="na">removeFirst</span><span class="o">());</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">link</span><span class="o">.</span><span class="na">removeLast</span><span class="o">());</span>

        <span class="k">while</span> <span class="o">(!</span><span class="n">link</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span> <span class="c1">//判断集合是否为空</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">link</span><span class="o">.</span><span class="na">pop</span><span class="o">());</span> <span class="c1">//弹出集合中的栈顶元素</span>
        <span class="o">}</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">link</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.LinkedList</span><span class="o">;</span>

<span class="cm">/*
    java.util.LinkedList集合 implements List接口
    LinkedList集合的特点:
        1.底层是一个链表结构:查询慢,增删快
        2.里边包含了大量操作首尾元素的方法
        注意:使用LinkedList集合特有的方法,不能使用多态

        - public void addFirst(E e):将指定元素插入此列表的开头。
        - public void addLast(E e):将指定元素添加到此列表的结尾。
        - public void push(E e):将元素推入此列表所表示的堆栈。

        - public E getFirst():返回此列表的第一个元素。
        - public E getLast():返回此列表的最后一个元素。

        - public E removeFirst():移除并返回此列表的第一个元素。
        - public E removeLast():移除并返回此列表的最后一个元素。
        - public E pop():从此列表所表示的堆栈处弹出一个元素。

        - public boolean isEmpty()：如果列表不包含元素，则返回true。

 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo02LinkedList</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">show03</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="cm">/*
        - public E removeFirst():移除并返回此列表的第一个元素。
        - public E removeLast():移除并返回此列表的最后一个元素。
        - public E pop():从此列表所表示的堆栈处弹出一个元素。此方法相当于 removeFirst
     */</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">show03</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">//创建LinkedList集合对象</span>
        <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">linked</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
        <span class="c1">//使用add方法往集合中添加元素</span>
        <span class="n">linked</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"a"</span><span class="o">);</span>
        <span class="n">linked</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"b"</span><span class="o">);</span>
        <span class="n">linked</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"c"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">linked</span><span class="o">);</span><span class="c1">//[a, b, c]</span>

        <span class="c1">//String first = linked.removeFirst();</span>
        <span class="nc">String</span> <span class="n">first</span> <span class="o">=</span> <span class="n">linked</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"被移除的第一个元素:"</span><span class="o">+</span><span class="n">first</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">last</span> <span class="o">=</span> <span class="n">linked</span><span class="o">.</span><span class="na">removeLast</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"被移除的最后一个元素:"</span><span class="o">+</span><span class="n">last</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">linked</span><span class="o">);</span><span class="c1">//[b]</span>
    <span class="o">}</span>

    <span class="cm">/*
        - public E getFirst():返回此列表的第一个元素。
        - public E getLast():返回此列表的最后一个元素。
     */</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">show02</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">//创建LinkedList集合对象</span>
        <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">linked</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
        <span class="c1">//使用add方法往集合中添加元素</span>
        <span class="n">linked</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"a"</span><span class="o">);</span>
        <span class="n">linked</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"b"</span><span class="o">);</span>
        <span class="n">linked</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"c"</span><span class="o">);</span>

        <span class="c1">//linked.clear();//清空集合中的元素 在获取集合中的元素会抛出NoSuchElementException</span>

        <span class="c1">//public boolean isEmpty()：如果列表不包含元素，则返回true。</span>
        <span class="k">if</span><span class="o">(!</span><span class="n">linked</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()){</span>
            <span class="nc">String</span> <span class="n">first</span> <span class="o">=</span> <span class="n">linked</span><span class="o">.</span><span class="na">getFirst</span><span class="o">();</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">first</span><span class="o">);</span><span class="c1">//a</span>
            <span class="nc">String</span> <span class="n">last</span> <span class="o">=</span> <span class="n">linked</span><span class="o">.</span><span class="na">getLast</span><span class="o">();</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">last</span><span class="o">);</span><span class="c1">//c</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="cm">/*
        - public void addFirst(E e):将指定元素插入此列表的开头。
        - public void addLast(E e):将指定元素添加到此列表的结尾。
        - public void push(E e):将元素推入此列表所表示的堆栈。此方法等效于 addFirst(E)。
     */</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">show01</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">//创建LinkedList集合对象</span>
        <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">linked</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
        <span class="c1">//使用add方法往集合中添加元素</span>
        <span class="n">linked</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"a"</span><span class="o">);</span>
        <span class="n">linked</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"b"</span><span class="o">);</span>
        <span class="n">linked</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"c"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">linked</span><span class="o">);</span><span class="c1">//[a, b, c]</span>

        <span class="c1">//public void addFirst(E e):将指定元素插入此列表的开头。</span>
        <span class="c1">//linked.addFirst("www");</span>
        <span class="n">linked</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="s">"www"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">linked</span><span class="o">);</span><span class="c1">//[www, a, b, c]</span>

        <span class="c1">//public void addLast(E e):将指定元素添加到此列表的结尾。此方法等效于 add()</span>
        <span class="n">linked</span><span class="o">.</span><span class="na">addLast</span><span class="o">(</span><span class="s">"com"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">linked</span><span class="o">);</span><span class="c1">//[www, a, b, c, com]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h2 id="8-set接口">8. Set接口</h2> <p><code class="language-plaintext highlighter-rouge">java.util.Set</code>接口和<code class="language-plaintext highlighter-rouge">java.util.List</code>接口一样，同样继承自<code class="language-plaintext highlighter-rouge">Collection</code>接口，它与<code class="language-plaintext highlighter-rouge">Collection</code>接口中的方法基本一致，并没有对<code class="language-plaintext highlighter-rouge">Collection</code>接口进行功能上的扩充，只是比<code class="language-plaintext highlighter-rouge">Collection</code>接口更加严格了。与<code class="language-plaintext highlighter-rouge">List</code>接口不同的是，<code class="language-plaintext highlighter-rouge">Set</code>接口中元素无序，并且都会以某种规则保证存入的元素不出现重复。</p> <p><code class="language-plaintext highlighter-rouge">Set</code>集合有多个子类，这里我们介绍其中的<code class="language-plaintext highlighter-rouge">java.util.HashSet</code>、<code class="language-plaintext highlighter-rouge">java.util.LinkedHashSet</code>这两个集合。</p> <blockquote> <p>tips:Set集合取出元素的方式可以采用：迭代器、增强for。</p> </blockquote> <h3 id="81-hashset集合介绍">8.1 HashSet集合介绍</h3> <p><code class="language-plaintext highlighter-rouge">java.util.HashSet</code>是<code class="language-plaintext highlighter-rouge">Set</code>接口的一个实现类，它所存储的元素是不可重复的，并且元素都是无序的(即存取顺序不一致)。<code class="language-plaintext highlighter-rouge">java.util.HashSet</code>底层的实现其实是一个<code class="language-plaintext highlighter-rouge">java.util.HashMap</code>支持，由于我们暂时还未学习，先做了解。</p> <p><code class="language-plaintext highlighter-rouge">HashSet</code>是根据对象的哈希值来确定元素在集合中的存储位置，因此具有良好的存取和查找性能。保证元素唯一性的方式依赖于：<code class="language-plaintext highlighter-rouge">hashCode</code>与<code class="language-plaintext highlighter-rouge">equals</code>方法。</p> <p>我们先来使用一下Set集合存储，看下现象，再进行原理的讲解:</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">HashSetDemo</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//创建 Set集合</span>
        <span class="nc">HashSet</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span>  <span class="n">set</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>

        <span class="c1">//添加元素</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">String</span><span class="o">(</span><span class="s">"cba"</span><span class="o">));</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"abc"</span><span class="o">);</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"bac"</span><span class="o">);</span> 
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"cba"</span><span class="o">);</span>  
        <span class="c1">//遍历</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">name</span> <span class="o">:</span> <span class="n">set</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>输出结果如下，说明集合中不能存储重复元素：</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cba
abc
bac
</code></pre></div></div> <blockquote> <p>tips:根据结果我们发现字符串”cba”只存储了一个，也就是说重复的元素set集合不存储。 ```java import java.util.HashSet; import java.util.Iterator; import java.util.Set;</p> </blockquote> <p>/* java.util.Set接口 extends Collection接口 Set接口的特点: 1.不允许存储重复的元素 2.没有索引,没有带索引的方法,也不能使用普通的for循环遍历 java.util.HashSet集合 implements Set接口 HashSet特点: 1.不允许存储重复的元素 2.没有索引,没有带索引的方法,也不能使用普通的for循环遍历 3.是一个无序的集合,存储元素和取出元素的顺序有可能不一致 4.底层是一个哈希表结构(查询的速度非常的快) */ public class Demo01Set { public static void main(String[] args) { Set<Integer> set = new HashSet&lt;&gt;(); //使用add方法往集合中添加元素 set.add(1); set.add(3); set.add(2); set.add(1); //使用迭代器遍历set集合 Iterator<Integer> it = set.iterator(); while (it.hasNext()){ Integer n = it.next(); System.out.println(n);//1,2,3 } //使用增强for遍历set集合 System.out.println("-----------------"); for (Integer i : set) { System.out.println(i); } } }</Integer></Integer></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>```java
/*
    哈希值:是一个十进制的整数,由系统随机给出(就是对象的地址值,是一个逻辑地址,是模拟出来得到地址,不是数据实际存储的物理地址)
    在Object类有一个方法,可以获取对象的哈希值
    int hashCode() 返回该对象的哈希码值。
    hashCode方法的源码:
        public native int hashCode();
        native:代表该方法调用的是本地操作系统的方法
 */
public class Demo01HashCode {
    public static void main(String[] args) {
        //Person类继承了Object类,所以可以使用Object类的hashCode方法
        Person p1 = new Person();
        int h1 = p1.hashCode();
        System.out.println(h1);//1967205423  | 1

        Person p2 = new Person();
        int h2 = p2.hashCode();
        System.out.println(h2);//42121758   |  1

        /*
            toString方法的源码:
                return getClass().getName() + "@" + Integer.toHexString(hashCode());
         */
        System.out.println(p1);//com.itheima.demo03.hashCode.Person@75412c2f
        System.out.println(p2);//com.itheima.demo03.hashCode.Person@282ba1e
        System.out.println(p1==p2);//false

        /*
            String类的哈希值
                String类重写Obejct类的hashCode方法
         */
        String s1 = new String("abc");
        String s2 = new String("abc");
        System.out.println(s1.hashCode());//96354
        System.out.println(s2.hashCode());//96354

        System.out.println("重地".hashCode());//1179395
        System.out.println("通话".hashCode());//1179395
    }
}
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.Objects</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Person</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Person</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Person</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="nc">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="k">this</span> <span class="o">==</span> <span class="n">o</span><span class="o">)</span> <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">o</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">getClass</span><span class="o">()</span> <span class="o">!=</span> <span class="n">o</span><span class="o">.</span><span class="na">getClass</span><span class="o">())</span> <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="nc">Person</span> <span class="n">person</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Person</span><span class="o">)</span> <span class="n">o</span><span class="o">;</span>
        <span class="k">return</span> <span class="n">age</span> <span class="o">==</span> <span class="n">person</span><span class="o">.</span><span class="na">age</span> <span class="o">&amp;&amp;</span>
                <span class="nc">Objects</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">person</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">()</span> <span class="o">{</span>

        <span class="k">return</span> <span class="nc">Objects</span><span class="o">.</span><span class="na">hash</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">age</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"Person{"</span> <span class="o">+</span>
                <span class="s">"name='"</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="sc">'\''</span> <span class="o">+</span>
                <span class="s">", age="</span> <span class="o">+</span> <span class="n">age</span> <span class="o">+</span>
                <span class="sc">'}'</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h3 id="82--hashset集合存储数据的结构哈希表">8.2 HashSet集合存储数据的结构（哈希表）</h3> <p>什么是哈希表呢？</p> <p><img src="https://blog.slienceme.cn/images/posts/20210124204634696.bmp.jpg" alt="Alt Text" /></p> <p>在<strong>JDK1.8</strong>之前，哈希表底层采用数组+链表实现，即使用链表处理冲突，同一hash值的链表都存储在一个链表里。但是当位于一个桶中的元素较多，即hash值相等的元素较多时，通过key值依次查找的效率较低。而JDK1.8中，哈希表存储采用数组+链表+红黑树实现，当链表长度超过阈值（8）时，将链表转换为红黑树，这样大大减少了查找时间。</p> <p>简单的来说，哈希表是由数组+链表+红黑树（JDK1.8增加了红黑树部分）实现的，如下图所示。 <img src="https://blog.slienceme.cn/images/posts/20210124201826184.png" alt="Alt Text" /></p> <p>看到这张图就有人要问了，这个是怎么存储的呢？</p> <p>为了方便大家的理解我们结合一个存储流程图来说明一下：</p> <p><img src="https://blog.slienceme.cn/images/posts/20210124201843539.png" alt="Alt Text" /></p> <p>总而言之，<strong>JDK1.8</strong>引入红黑树大程度优化了HashMap的性能，那么对于我们来讲保证HashSet集合元素的唯一，其实就是根据对象的hashCode和equals方法来决定的。如果我们往集合中存放自定义的对象，那么保证其唯一，就必须复写hashCode和equals方法建立属于当前对象的比较方式。</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.HashSet</span><span class="o">;</span>

<span class="cm">/*
    Set集合不允许存储重复元素的原理
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo02HashSetSaveString</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//创建HashSet集合对象</span>
        <span class="nc">HashSet</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span>
        <span class="nc">String</span> <span class="n">s1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">String</span><span class="o">(</span><span class="s">"abc"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">s2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">String</span><span class="o">(</span><span class="s">"abc"</span><span class="o">);</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">s1</span><span class="o">);</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">s2</span><span class="o">);</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"重地"</span><span class="o">);</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"通话"</span><span class="o">);</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"abc"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">set</span><span class="o">);</span><span class="c1">//[重地, 通话, abc]</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div> <h3 id="83--hashset存储自定义类型元素">8.3 HashSet存储自定义类型元素</h3> <p>给HashSet中存放自定义类型元素时，需要重写对象中的hashCode和equals方法，建立自己的比较方式，才能保证HashSet集合中的对象唯一</p> <p><img src="https://blog.slienceme.cn/images/posts/20210124205436396.bmp.jpg" alt="Alt Text" /></p> <p>创建自定义Student类</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Student</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Student</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Student</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="nc">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="k">this</span> <span class="o">==</span> <span class="n">o</span><span class="o">)</span>
            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">o</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">getClass</span><span class="o">()</span> <span class="o">!=</span> <span class="n">o</span><span class="o">.</span><span class="na">getClass</span><span class="o">())</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="nc">Student</span> <span class="n">student</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Student</span><span class="o">)</span> <span class="n">o</span><span class="o">;</span>
        <span class="k">return</span> <span class="n">age</span> <span class="o">==</span> <span class="n">student</span><span class="o">.</span><span class="na">age</span> <span class="o">&amp;&amp;</span>
               <span class="nc">Objects</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">student</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nc">Objects</span><span class="o">.</span><span class="na">hash</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">age</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">HashSetDemo2</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//创建集合对象   该集合中存储 Student类型对象</span>
        <span class="nc">HashSet</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;</span> <span class="n">stuSet</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;();</span>
        <span class="c1">//存储 </span>
        <span class="nc">Student</span> <span class="n">stu</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"于谦"</span><span class="o">,</span> <span class="mi">43</span><span class="o">);</span>
        <span class="n">stuSet</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">stu</span><span class="o">);</span>
        <span class="n">stuSet</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"郭德纲"</span><span class="o">,</span> <span class="mi">44</span><span class="o">));</span>
        <span class="n">stuSet</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"于谦"</span><span class="o">,</span> <span class="mi">43</span><span class="o">));</span>
        <span class="n">stuSet</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"郭麒麟"</span><span class="o">,</span> <span class="mi">23</span><span class="o">));</span>
        <span class="n">stuSet</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">stu</span><span class="o">);</span>

        <span class="k">for</span> <span class="o">(</span><span class="nc">Student</span> <span class="n">stu2</span> <span class="o">:</span> <span class="n">stuSet</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">stu2</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="n">执行结果</span><span class="err">：</span>
<span class="nc">Student</span> <span class="o">[</span><span class="n">name</span><span class="o">=</span><span class="n">郭德纲</span><span class="o">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">44</span><span class="o">]</span>
<span class="nc">Student</span> <span class="o">[</span><span class="n">name</span><span class="o">=</span><span class="n">于谦</span><span class="o">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">43</span><span class="o">]</span>
<span class="nc">Student</span> <span class="o">[</span><span class="n">name</span><span class="o">=</span><span class="n">郭麒麟</span><span class="o">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">23</span><span class="o">]</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.HashSet</span><span class="o">;</span>

<span class="cm">/*
    HashSet存储自定义类型元素

    set集合报错元素唯一:
        存储的元素(String,Integer,...Student,Person...),必须重写hashCode方法和equals方法

    要求:
        同名同年龄的人,视为同一个人,只能存储一次
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo03HashSetSavePerson</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//创建HashSet集合存储Person</span>
        <span class="nc">HashSet</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span>
        <span class="nc">Person</span> <span class="n">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"小美女"</span><span class="o">,</span><span class="mi">18</span><span class="o">);</span>
        <span class="nc">Person</span> <span class="n">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"小美女"</span><span class="o">,</span><span class="mi">18</span><span class="o">);</span>
        <span class="nc">Person</span> <span class="n">p3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"小美女"</span><span class="o">,</span><span class="mi">19</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">p1</span><span class="o">.</span><span class="na">hashCode</span><span class="o">());</span><span class="c1">//1967205423</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">p2</span><span class="o">.</span><span class="na">hashCode</span><span class="o">());</span><span class="c1">//42121758</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">p1</span><span class="o">==</span><span class="n">p2</span><span class="o">);</span><span class="c1">//false</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">p1</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">p2</span><span class="o">));</span><span class="c1">//false</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">p1</span><span class="o">);</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">p2</span><span class="o">);</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">p3</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">set</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.Objects</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Person</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Person</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Person</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="nc">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="k">this</span> <span class="o">==</span> <span class="n">o</span><span class="o">)</span> <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">o</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">getClass</span><span class="o">()</span> <span class="o">!=</span> <span class="n">o</span><span class="o">.</span><span class="na">getClass</span><span class="o">())</span> <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="nc">Person</span> <span class="n">person</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Person</span><span class="o">)</span> <span class="n">o</span><span class="o">;</span>
        <span class="k">return</span> <span class="n">age</span> <span class="o">==</span> <span class="n">person</span><span class="o">.</span><span class="na">age</span> <span class="o">&amp;&amp;</span>
                <span class="nc">Objects</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">person</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">()</span> <span class="o">{</span>

        <span class="k">return</span> <span class="nc">Objects</span><span class="o">.</span><span class="na">hash</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">age</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"Person{"</span> <span class="o">+</span>
                <span class="s">"name='"</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="sc">'\''</span> <span class="o">+</span>
                <span class="s">", age="</span> <span class="o">+</span> <span class="n">age</span> <span class="o">+</span>
                <span class="sc">'}'</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h3 id="84-linkedhashset">8.4 LinkedHashSet</h3> <p>我们知道HashSet保证元素唯一，可是元素存放进去是没有顺序的，那么我们要保证有序，怎么办呢？</p> <p>在HashSet下面有一个子类<code class="language-plaintext highlighter-rouge">java.util.LinkedHashSet</code>，它是链表和哈希表组合的一个数据存储结构。</p> <p>演示代码如下:</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">LinkedHashSetDemo</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedHashSet</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
		<span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"bbb"</span><span class="o">);</span>
		<span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"aaa"</span><span class="o">);</span>
		<span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"abc"</span><span class="o">);</span>
		<span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"bbc"</span><span class="o">);</span>
        <span class="nc">Iterator</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">it</span> <span class="o">=</span> <span class="n">set</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>
		<span class="k">while</span> <span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">());</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span>
<span class="n">结果</span><span class="err">：</span>
  <span class="n">bbb</span>
  <span class="n">aaa</span>
  <span class="n">abc</span>
  <span class="n">bbc</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.HashSet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.LinkedHashSet</span><span class="o">;</span>

<span class="cm">/*
    java.util.LinkedHashSet集合 extends HashSet集合
    LinkedHashSet集合特点:
        底层是一个哈希表(数组+链表/红黑树)+链表:多了一条链表(记录元素的存储顺序),保证元素有序
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo04LinkedHashSet</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HashSet</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"www"</span><span class="o">);</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"abc"</span><span class="o">);</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"abc"</span><span class="o">);</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"it666"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">set</span><span class="o">);</span><span class="c1">//[abc, www, it666] 无序,不允许重复</span>

        <span class="nc">LinkedHashSet</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">linked</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedHashSet</span><span class="o">&lt;&gt;();</span>
        <span class="n">linked</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"www"</span><span class="o">);</span>
        <span class="n">linked</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"abc"</span><span class="o">);</span>
        <span class="n">linked</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"abc"</span><span class="o">);</span>
        <span class="n">linked</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"it666"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">linked</span><span class="o">);</span><span class="c1">//[www, abc, it666] 有序,不允许重复</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
    可变参数:是JDK1.5之后出现的新特性
    使用前提:
        当方法的参数列表数据类型已经确定,但是参数的个数不确定,就可以使用可变参数.
    使用格式:定义方法时使用
        修饰符 返回值类型 方法名(数据类型...变量名){}
    可变参数的原理:
        可变参数底层就是一个数组,根据传递参数个数不同,会创建不同长度的数组,来存储这些参数
        传递的参数个数,可以是0个(不传递),1,2...多个

 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo01VarArgs</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//int i = add();</span>
        <span class="c1">//int i = add(10);</span>
        <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">add</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span><span class="mi">20</span><span class="o">);</span>
        <span class="c1">//int i = add(10,20,30,40,50,60,70,80,90,100);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>

        <span class="n">method</span><span class="o">(</span><span class="s">"abc"</span><span class="o">,</span><span class="mf">5.5</span><span class="o">,</span><span class="mi">10</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/*
        可变参数的注意事项
            1.一个方法的参数列表,只能有一个可变参数
            2.如果方法的参数有多个,那么可变参数必须写在参数列表的末尾
     */</span>
    <span class="cm">/*public static void method(int...a,String...b){

    }*/</span>

    <span class="cm">/*public static void method(String b,double c,int d,int...a){
    }*/</span>

    <span class="c1">//可变参数的特殊(终极)写法</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">method</span><span class="o">(</span><span class="nc">Object</span><span class="o">...</span><span class="na">obj</span><span class="o">){</span>

    <span class="o">}</span>

    <span class="cm">/*
        定义计算(0-n)整数和的方法
        已知:计算整数的和,数据类型已经确定int
        但是参数的个数不确定,不知道要计算几个整数的和,就可以使用可变参数
        add(); 就会创建一个长度为0的数组, new int[0]
        add(10); 就会创建一个长度为1的数组,存储传递来过的参数 new int[]{10};
        add(10,20); 就会创建一个长度为2的数组,存储传递来过的参数 new int[]{10,20};
        add(10,20,30,40,50,60,70,80,90,100); 就会创建一个长度为2的数组,存储传递来过的参数 new int[]{10,20,30,40,50,60,70,80,90,100};
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">add</span><span class="o">(</span><span class="kt">int</span><span class="o">...</span><span class="na">arr</span><span class="o">){</span>
        <span class="c1">//System.out.println(arr);//[I@2ac1fdc4 底层是一个数组</span>
        <span class="c1">//System.out.println(arr.length);//0,1,2,10</span>
        <span class="c1">//定义一个初始化的变量,记录累加求和</span>
        <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="c1">//遍历数组,获取数组中的每一个元素</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">:</span> <span class="n">arr</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">//累加求和</span>
            <span class="n">sum</span> <span class="o">+=</span> <span class="n">i</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="c1">//把求和结果返回</span>
        <span class="k">return</span> <span class="n">sum</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">//定义一个方法,计算三个int类型整数的和</span>
    <span class="cm">/*public static int add(int a,int b,int c){
        return a+b+c;
    }*/</span>

    <span class="c1">//定义一个方法,计算两个int类型整数的和</span>
    <span class="cm">/*public static int add(int a,int b){
        return a+b;
    }*/</span>
<span class="o">}</span>
</code></pre></div></div> <h3 id="85--可变参数">8.5 可变参数</h3> <p>在<strong>JDK1.5</strong>之后，如果我们定义一个方法需要接受多个参数，并且多个参数类型一致，我们可以对其简化成如下格式：</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>修饰符 返回值类型 方法名(参数类型... 形参名){  }
</code></pre></div></div> <p>其实这个书写完全等价与</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>修饰符 返回值类型 方法名(参数类型[] 形参名){  }
</code></pre></div></div> <p>只是后面这种定义，在调用时必须传递数组，而前者可以直接传递数据即可。</p> <p><strong>JDK1.5</strong>以后。出现了简化操作。<strong>…</strong> 用在参数上，称之为可变参数。</p> <p>同样是代表数组，但是在调用这个带有可变参数的方法时，不用创建数组(这就是简单之处)，直接将数组中的元素作为实际参数进行传递，其实编译成的class文件，将这些元素先封装到一个数组中，在进行传递。这些动作都在编译.class文件时，自动完成了。</p> <p>代码演示：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ChangeArgs</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">arr</span> <span class="o">=</span> <span class="o">{</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">62</span><span class="o">,</span> <span class="mi">431</span><span class="o">,</span> <span class="mi">2</span> <span class="o">};</span>
        <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">getSum</span><span class="o">(</span><span class="n">arr</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">sum</span><span class="o">);</span>
        <span class="c1">//  6  7  2 12 2121</span>
        <span class="c1">// 求 这几个元素和 6  7  2 12 2121</span>
        <span class="kt">int</span> <span class="n">sum2</span> <span class="o">=</span> <span class="n">getSum</span><span class="o">(</span><span class="mi">6</span><span class="o">,</span> <span class="mi">7</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">12</span><span class="o">,</span> <span class="mi">2121</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">sum2</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/*
     * 完成数组  所有元素的求和 原始写法
     
      public static int getSum(int[] arr){
        int sum = 0;
        for(int a : arr){
            sum += a;
        }
        
        return sum;
      }
    */</span>
    <span class="c1">//可变参数写法</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">getSum</span><span class="o">(</span><span class="kt">int</span><span class="o">...</span> <span class="n">arr</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">a</span> <span class="o">:</span> <span class="n">arr</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">sum</span> <span class="o">+=</span> <span class="n">a</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">sum</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <blockquote> <p>tips: 上述add方法在同一个类中，只能存在一个。因为会发生调用的不确定性</p> <p>注意：如果在方法书写时，这个方法拥有多参数，参数中包含可变参数，可变参数一定要写在参数列表的末尾位置。</p> </blockquote> <h2 id="9-collections">9. Collections</h2> <h3 id="91-常用功能">9.1 常用功能</h3> <ul> <li> <p><code class="language-plaintext highlighter-rouge">java.utils.Collections</code>是集合工具类，用来对集合进行操作。部分方法如下：</p> </li> <li><code class="language-plaintext highlighter-rouge">public static &lt;T&gt; boolean addAll(Collection&lt;T&gt; c, T... elements) </code>:往集合中添加一些元素。</li> <li><code class="language-plaintext highlighter-rouge">public static void shuffle(List&lt;?&gt; list) 打乱顺序</code>:打乱集合顺序。</li> <li><code class="language-plaintext highlighter-rouge">public static &lt;T&gt; void sort(List&lt;T&gt; list)</code>:将集合中元素按照默认规则排序。</li> <li><code class="language-plaintext highlighter-rouge">public static &lt;T&gt; void sort(List&lt;T&gt; list，Comparator&lt;? super T&gt; )</code>:将集合中元素按照指定规则排序。</li> </ul> <p>代码演示：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CollectionsDemo</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>
        <span class="c1">//原来写法</span>
        <span class="c1">//list.add(12);</span>
        <span class="c1">//list.add(14);</span>
        <span class="c1">//list.add(15);</span>
        <span class="c1">//list.add(1000);</span>
        <span class="c1">//采用工具类 完成 往集合中添加元素  </span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">222</span><span class="o">,</span> <span class="mi">1</span><span class="err">，</span><span class="mi">2</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
        <span class="c1">//排序方法 </span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="n">结果</span><span class="err">：</span>
<span class="o">[</span><span class="mi">5</span><span class="o">,</span> <span class="mi">222</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">]</span>
<span class="o">[</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">222</span><span class="o">]</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Collections</span><span class="o">;</span>

<span class="cm">/*
    - java.utils.Collections是集合工具类，用来对集合进行操作。部分方法如下：
        - public static &lt;T&gt; boolean addAll(Collection&lt;T&gt; c, T... elements):往集合中添加一些元素。
        - public static void shuffle(List&lt;?&gt; list) 打乱顺序:打乱集合顺序。
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo01Collections</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="c1">//往集合中添加多个元素</span>
        <span class="cm">/*list.add("a");
        list.add("b");
        list.add("c");
        list.add("d");
        list.add("e");*/</span>

        <span class="c1">//public static &lt;T&gt; boolean addAll(Collection&lt;T&gt; c, T... elements):往集合中添加一些元素。</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">list</span><span class="o">,</span><span class="s">"a"</span><span class="o">,</span><span class="s">"b"</span><span class="o">,</span><span class="s">"c"</span><span class="o">,</span><span class="s">"d"</span><span class="o">,</span><span class="s">"e"</span><span class="o">);</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">);</span><span class="c1">//[a, b, c, d, e]</span>

        <span class="c1">//public static void shuffle(List&lt;?&gt; list) 打乱顺序:打乱集合顺序。</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">shuffle</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">);</span><span class="c1">//[b, d, c, a, e], [b, d, c, a, e]</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div> <p>代码演示之后 ，发现我们的集合按照顺序进行了排列，可是这样的顺序是采用默认的顺序，如果想要指定顺序那该怎么办呢？</p> <p>我们发现还有个方法没有讲，<code class="language-plaintext highlighter-rouge">public static &lt;T&gt; void sort(List&lt;T&gt; list，Comparator&lt;? super T&gt; )</code>:将集合中元素按照指定规则排序。接下来讲解一下指定规则的排列。</p> <h3 id="92-comparator比较器">9.2 Comparator比较器</h3> <p>我们还是先研究这个方法</p> <p><code class="language-plaintext highlighter-rouge">public static &lt;T&gt; void sort(List&lt;T&gt; list)</code>:将集合中元素按照默认规则排序。</p> <p>不过这次存储的是字符串类型。</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CollectionsDemo2</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span>  <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"cba"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"aba"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"sba"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"nba"</span><span class="o">);</span>
        <span class="c1">//排序方法</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>结果：</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[aba, cba, nba, sba]
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Person</span> <span class="kd">implements</span> <span class="nc">Comparable</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Person</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Person</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"Person{"</span> <span class="o">+</span>
                <span class="s">"name='"</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="sc">'\''</span> <span class="o">+</span>
                <span class="s">", age="</span> <span class="o">+</span> <span class="n">age</span> <span class="o">+</span>
                <span class="sc">'}'</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">//重写排序的规则</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compareTo</span><span class="o">(</span><span class="nc">Person</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//return 0;//认为元素都是相同的</span>
        <span class="c1">//自定义比较的规则,比较两个人的年龄(this,参数Person)</span>
        <span class="c1">//return this.getAge() - o.getAge();//年龄升序排序</span>
        <span class="k">return</span> <span class="n">o</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">-</span> <span class="k">this</span><span class="o">.</span><span class="na">getAge</span><span class="o">();</span><span class="c1">//年龄降序排序</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Collections</span><span class="o">;</span>

<span class="cm">/*
    - java.utils.Collections是集合工具类，用来对集合进行操作。部分方法如下：
        public static &lt;T&gt; void sort(List&lt;T&gt; list):将集合中元素按照默认规则排序。

    注意:
         sort(List&lt;T&gt; list)使用前提
         被排序的集合里边存储的元素,必须实现Comparable,重写接口中的方法compareTo定义排序的规则

    Comparable接口的排序规则:
        自己(this)-参数:升序
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo02Sort</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list01</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">list01</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
        <span class="n">list01</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>
        <span class="n">list01</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list01</span><span class="o">);</span><span class="c1">//[1, 3, 2]</span>

        <span class="c1">//public static &lt;T&gt; void sort(List&lt;T&gt; list):将集合中元素按照默认规则排序。</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">list01</span><span class="o">);</span><span class="c1">//默认是升序</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list01</span><span class="o">);</span><span class="c1">//[1, 2, 3]</span>

        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list02</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">list02</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"a"</span><span class="o">);</span>
        <span class="n">list02</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"c"</span><span class="o">);</span>
        <span class="n">list02</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"b"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list02</span><span class="o">);</span><span class="c1">//[a, c, b]</span>

        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">list02</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list02</span><span class="o">);</span><span class="c1">//[a, b, c]</span>

        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">list03</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">list03</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"张三"</span><span class="o">,</span><span class="mi">18</span><span class="o">));</span>
        <span class="n">list03</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"李四"</span><span class="o">,</span><span class="mi">20</span><span class="o">));</span>
        <span class="n">list03</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"王五"</span><span class="o">,</span><span class="mi">15</span><span class="o">));</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list03</span><span class="o">);</span><span class="c1">//[Person{name='张三', age=18}, Person{name='李四', age=20}, Person{name='王五', age=15}]</span>

        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">list03</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list03</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>我们使用的是默认的规则完成字符串的排序，那么默认规则是怎么定义出来的呢？</p> <p>说到排序了，简单的说就是两个对象之间比较大小，那么在JAVA中提供了两种比较实现的方式，一种是比较死板的采用<code class="language-plaintext highlighter-rouge">java.lang.Comparable</code>接口去实现，一种是灵活的当我需要做排序的时候在去选择的<code class="language-plaintext highlighter-rouge">java.util.Comparator</code>接口完成。</p> <p>那么我们采用的<code class="language-plaintext highlighter-rouge">public static &lt;T&gt; void sort(List&lt;T&gt; list)</code>这个方法完成的排序，实际上要求了被排序的类型需要实现Comparable接口完成比较的功能，在String类型上如下：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">String</span> <span class="kd">implements</span> <span class="n">java</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">Serializable</span><span class="o">,</span> <span class="nc">Comparable</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;,</span> <span class="nc">CharSequence</span> <span class="o">{</span>
</code></pre></div></div> <p>String类实现了这个接口，并完成了比较规则的定义，但是这样就把这种规则写死了，那比如我想要字符串按照第一个字符降序排列，那么这样就要修改String的源代码，这是不可能的了，那么这个时候我们可以使用</p> <p><code class="language-plaintext highlighter-rouge">public static &lt;T&gt; void sort(List&lt;T&gt; list，Comparator&lt;? super T&gt; )</code>方法灵活的完成，这个里面就涉及到了Comparator这个接口，位于位于java.util包下，排序是comparator能实现的功能之一,该接口代表一个比较器，比较器具有可比性！顾名思义就是做排序的，通俗地讲需要比较两个对象谁排在前谁排在后，那么比较的方法就是：</p> <ul> <li> <p>` public int compare(String o1, String o2)`：比较其两个参数的顺序。</p> <blockquote> <p>两个对象比较的结果有三种：大于，等于，小于。</p> <p>如果要按照升序排序， 则o1 小于o2，返回（负数），相等返回0，01大于02返回（正数） 如果要按照降序排序 则o1 小于o2，返回（正数），相等返回0，01大于02返回（负数）</p> </blockquote> </li> </ul> <p>操作如下:</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CollectionsDemo3</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"cba"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"aba"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"sba"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"nba"</span><span class="o">);</span>
        <span class="c1">//排序方法  按照第一个单词的降序</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="k">new</span> <span class="nc">Comparator</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="nc">String</span> <span class="n">o1</span><span class="o">,</span> <span class="nc">String</span> <span class="n">o2</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="n">o2</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">-</span> <span class="n">o1</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>结果如下：</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[sba, nba, cba, aba]
</code></pre></div></div> <h3 id="93-简述comparable和comparator两个接口的区别">9.3 简述Comparable和Comparator两个接口的区别。</h3> <p><strong>Comparable</strong>：强行对实现它的每个类的对象进行整体排序。这种排序被称为类的自然排序，类的compareTo方法被称为它的自然比较方法。只能在类中实现compareTo()一次，不能经常修改类的代码实现自己想要的排序。实现此接口的对象列表（和数组）可以通过Collections.sort（和Arrays.sort）进行自动排序，对象可以用作有序映射中的键或有序集合中的元素，无需指定比较器。</p> <p><strong>Comparator</strong>强行对某个对象进行整体排序。可以将Comparator 传递给sort方法（如Collections.sort或 Arrays.sort），从而允许在排序顺序上实现精确控制。还可以使用Comparator来控制某些数据结构（如有序set或有序映射）的顺序，或者为那些没有自然顺序的对象collection提供排序。</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Student</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Student</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Student</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"Student{"</span> <span class="o">+</span>
                <span class="s">"name='"</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="sc">'\''</span> <span class="o">+</span>
                <span class="s">", age="</span> <span class="o">+</span> <span class="n">age</span> <span class="o">+</span>
                <span class="sc">'}'</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Collections</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Comparator</span><span class="o">;</span>

<span class="cm">/*
    - java.utils.Collections是集合工具类，用来对集合进行操作。部分方法如下：
        public static &lt;T&gt; void sort(List&lt;T&gt; list，Comparator&lt;? super T&gt; ):将集合中元素按照指定规则排序。

     Comparator和Comparable的区别
        Comparable:自己(this)和别人(参数)比较,自己需要实现Comparable接口,重写比较的规则compareTo方法
        Comparator:相当于找一个第三方的裁判,比较两个

    Comparator的排序规则:
        o1-o2:升序
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo03Sort</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list01</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">list01</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
        <span class="n">list01</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>
        <span class="n">list01</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list01</span><span class="o">);</span><span class="c1">//[1, 3, 2]</span>

        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">list01</span><span class="o">,</span> <span class="k">new</span> <span class="nc">Comparator</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;()</span> <span class="o">{</span>
            <span class="c1">//重写比较的规则</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="nc">Integer</span> <span class="n">o1</span><span class="o">,</span> <span class="nc">Integer</span> <span class="n">o2</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">//return o1-o2;//升序</span>
                <span class="k">return</span> <span class="n">o2</span><span class="o">-</span><span class="n">o1</span><span class="o">;</span><span class="c1">//降序</span>
            <span class="o">}</span>
        <span class="o">});</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list01</span><span class="o">);</span>

        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;</span> <span class="n">list02</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">list02</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"a迪丽热巴"</span><span class="o">,</span><span class="mi">18</span><span class="o">));</span>
        <span class="n">list02</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"古力娜扎"</span><span class="o">,</span><span class="mi">20</span><span class="o">));</span>
        <span class="n">list02</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"杨幂"</span><span class="o">,</span><span class="mi">17</span><span class="o">));</span>
        <span class="n">list02</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"b杨幂"</span><span class="o">,</span><span class="mi">18</span><span class="o">));</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list02</span><span class="o">);</span>

        <span class="cm">/*Collections.sort(list02, new Comparator&lt;Student&gt;() {
            @Override
            public int compare(Student o1, Student o2) {
                //按照年龄升序排序
                return o1.getAge()-o2.getAge();
            }
        });*/</span>

        <span class="c1">//扩展:了解</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">list02</span><span class="o">,</span> <span class="k">new</span> <span class="nc">Comparator</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="nc">Student</span> <span class="n">o1</span><span class="o">,</span> <span class="nc">Student</span> <span class="n">o2</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">//按照年龄升序排序</span>
                <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span>  <span class="n">o1</span><span class="o">.</span><span class="na">getAge</span><span class="o">()-</span><span class="n">o2</span><span class="o">.</span><span class="na">getAge</span><span class="o">();</span>
                <span class="c1">//如果两个人年龄相同,再使用姓名的第一个字比较</span>
                <span class="k">if</span><span class="o">(</span><span class="n">result</span><span class="o">==</span><span class="mi">0</span><span class="o">){</span>
                    <span class="n">result</span> <span class="o">=</span>  <span class="n">o1</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">charAt</span><span class="o">(</span><span class="mi">0</span><span class="o">)-</span><span class="n">o2</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">charAt</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
                <span class="o">}</span>
                <span class="k">return</span>  <span class="n">result</span><span class="o">;</span>
            <span class="o">}</span>

        <span class="o">});</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list02</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div> <h3 id="94--练习">9.4 练习</h3> <p>创建一个学生类，存储到ArrayList集合中完成指定排序操作。</p> <p>Student 初始类</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Student</span><span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Student</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Student</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"Student{"</span> <span class="o">+</span>
               <span class="s">"name='"</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="sc">'\''</span> <span class="o">+</span>
               <span class="s">", age="</span> <span class="o">+</span> <span class="n">age</span> <span class="o">+</span>
               <span class="sc">'}'</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>测试类：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 创建四个学生对象 存储到集合中</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;();</span>

        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"rose"</span><span class="o">,</span><span class="mi">18</span><span class="o">));</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"jack"</span><span class="o">,</span><span class="mi">16</span><span class="o">));</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"abc"</span><span class="o">,</span><span class="mi">16</span><span class="o">));</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"ace"</span><span class="o">,</span><span class="mi">17</span><span class="o">));</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"mark"</span><span class="o">,</span><span class="mi">16</span><span class="o">));</span>


        <span class="cm">/*
          让学生 按照年龄排序 升序
         */</span>
<span class="c1">//        Collections.sort(list);//要求 该list中元素类型  必须实现比较器Comparable接口</span>


        <span class="k">for</span> <span class="o">(</span><span class="nc">Student</span> <span class="n">student</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">student</span><span class="o">);</span>
        <span class="o">}</span>


    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>发现，当我们调用Collections.sort()方法的时候 程序报错了。</p> <p>原因：如果想要集合中的元素完成排序，那么必须要实现比较器Comparable接口。</p> <p>于是我们就完成了Student类的一个实现，如下：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Student</span> <span class="kd">implements</span> <span class="nc">Comparable</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;{</span>
    <span class="o">....</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compareTo</span><span class="o">(</span><span class="nc">Student</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">age</span><span class="o">-</span><span class="n">o</span><span class="o">.</span><span class="na">age</span><span class="o">;</span><span class="c1">//升序</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>再次测试，代码就OK 了效果如下：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Student</span><span class="o">{</span><span class="n">name</span><span class="o">=</span><span class="err">'</span><span class="n">jack</span><span class="err">'</span><span class="o">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">16</span><span class="o">}</span>
<span class="nc">Student</span><span class="o">{</span><span class="n">name</span><span class="o">=</span><span class="err">'</span><span class="n">abc</span><span class="err">'</span><span class="o">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">16</span><span class="o">}</span>
<span class="nc">Student</span><span class="o">{</span><span class="n">name</span><span class="o">=</span><span class="err">'</span><span class="n">mark</span><span class="err">'</span><span class="o">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">16</span><span class="o">}</span>
<span class="nc">Student</span><span class="o">{</span><span class="n">name</span><span class="o">=</span><span class="err">'</span><span class="n">ace</span><span class="err">'</span><span class="o">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">17</span><span class="o">}</span>
<span class="nc">Student</span><span class="o">{</span><span class="n">name</span><span class="o">=</span><span class="err">'</span><span class="n">rose</span><span class="err">'</span><span class="o">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">18</span><span class="o">}</span>
</code></pre></div></div> <h3 id="95-扩展">9.5 扩展</h3> <p>如果在使用的时候，想要独立的定义规则去使用 可以采用Collections.sort(List list,Comparetor<T> c)方式，自己定义规则：</T></p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="k">new</span> <span class="nc">Comparator</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="nc">Student</span> <span class="n">o1</span><span class="o">,</span> <span class="nc">Student</span> <span class="n">o2</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">o2</span><span class="o">.</span><span class="na">getAge</span><span class="o">()-</span><span class="n">o1</span><span class="o">.</span><span class="na">getAge</span><span class="o">();</span><span class="c1">//以学生的年龄降序</span>
    <span class="o">}</span>
<span class="o">});</span>
</code></pre></div></div> <p>效果：</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Student{name='rose', age=18}
Student{name='ace', age=17}
Student{name='jack', age=16}
Student{name='abc', age=16}
Student{name='mark', age=16}
</code></pre></div></div> <p>如果想要规则更多一些，可以参考下面代码：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="k">new</span> <span class="nc">Comparator</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="nc">Student</span> <span class="n">o1</span><span class="o">,</span> <span class="nc">Student</span> <span class="n">o2</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">// 年龄降序</span>
                <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">o2</span><span class="o">.</span><span class="na">getAge</span><span class="o">()-</span><span class="n">o1</span><span class="o">.</span><span class="na">getAge</span><span class="o">();</span><span class="c1">//年龄降序</span>

                <span class="k">if</span><span class="o">(</span><span class="n">result</span><span class="o">==</span><span class="mi">0</span><span class="o">){</span><span class="c1">//第一个规则判断完了 下一个规则 姓名的首字母 升序</span>
                    <span class="n">result</span> <span class="o">=</span> <span class="n">o1</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">charAt</span><span class="o">(</span><span class="mi">0</span><span class="o">)-</span><span class="n">o2</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">charAt</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
                <span class="o">}</span>

                <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">});</span>
</code></pre></div></div> <p>效果如下：</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Student{name='rose', age=18}
Student{name='ace', age=17}
Student{name='abc', age=16}
Student{name='jack', age=16}
Student{name='mark', age=16}
</code></pre></div></div> <h2 id="10-map集合">10. Map集合</h2> <h3 id="101-概述">10.1 概述</h3> <p>现实生活中，我们常会看到这样的一种集合：IP地址与主机名，身份证号与个人，系统用户名与系统用户对象等，这种一一对应的关系，就叫做映射。Java提供了专门的集合类用来存放这种对象关系的对象，即<code class="language-plaintext highlighter-rouge">java.util.Map</code>接口。</p> <p>我们通过查看<code class="language-plaintext highlighter-rouge">Map</code>接口描述，发现<code class="language-plaintext highlighter-rouge">Map</code>接口下的集合与<code class="language-plaintext highlighter-rouge">Collection</code>接口下的集合，它们存储数据的形式不同，如下图。</p> <p><img src="https://blog.slienceme.cn/images/posts/20210125104624681.bmp.jpg" alt="Alt Text" /></p> <ul> <li><code class="language-plaintext highlighter-rouge">Collection</code>中的集合，元素是孤立存在的（理解为单身），向集合中存储元素采用一个个元素的方式存储。</li> <li><code class="language-plaintext highlighter-rouge">Map</code>中的集合，元素是成对存在的(理解为夫妻)。每个元素由键与值两部分组成，通过键可以找对所对应的值。</li> <li><code class="language-plaintext highlighter-rouge">Collection</code>中的集合称为单列集合，<code class="language-plaintext highlighter-rouge">Map</code>中的集合称为双列集合。</li> <li>需要注意的是，<code class="language-plaintext highlighter-rouge">Map</code>中的集合不能包含重复的键，值可以重复；每个键只能对应一个值。</li> </ul> <h3 id="102--map常用子类">10.2 Map常用子类</h3> <p>通过查看Map接口描述，看到Map有多个子类，这里我们主要讲解常用的HashMap集合、LinkedHashMap集合。</p> <ul> <li><strong>HashMap&lt;K,V&gt;</strong>：存储数据采用的哈希表结构，元素的存取顺序不能保证一致。由于要保证键的唯一、不重复，需要重写键的hashCode()方法、equals()方法。</li> <li><strong>LinkedHashMap&lt;K,V&gt;</strong>：HashMap下有个子类LinkedHashMap，存储数据采用的哈希表结构+链表结构。通过链表结构可以保证元素的存取顺序一致；通过哈希表结构可以保证的键的唯一、不重复，需要重写键的hashCode()方法、equals()方法。</li> </ul> <blockquote> <p>tips：Map接口中的集合都有两个泛型变量&lt;K,V&gt;,在使用时，要为两个泛型变量赋予数据类型。两个泛型变量&lt;K,V&gt;的数据类型可以相同，也可以不同。</p> </blockquote> <h3 id="103--map接口中的常用方法">10.3 Map接口中的常用方法</h3> <p>Map接口中定义了很多方法，常用的如下：</p> <ul> <li><code class="language-plaintext highlighter-rouge">public V put(K key, V value)</code>: 把指定的键与指定的值添加到Map集合中。</li> <li><code class="language-plaintext highlighter-rouge">public V remove(Object key)</code>: 把指定的键 所对应的键值对元素 在Map集合中删除，返回被删除元素的值。</li> <li><code class="language-plaintext highlighter-rouge">public V get(Object key)</code> 根据指定的键，在Map集合中获取对应的值。</li> <li><code class="language-plaintext highlighter-rouge">boolean containsKey(Object key) </code> 判断集合中是否包含指定的键。</li> <li><code class="language-plaintext highlighter-rouge">public Set&lt;K&gt; keySet()</code>: 获取Map集合中所有的键，存储到Set集合中。</li> <li><code class="language-plaintext highlighter-rouge">public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()</code>: 获取到Map集合中所有的键值对对象的集合(Set集合)。</li> </ul> <p>Map接口的方法演示</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MapDemo</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//创建 map对象</span>
        <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span>  <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>

        <span class="c1">//添加元素到集合</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"黄晓明"</span><span class="o">,</span> <span class="s">"杨颖"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"文章"</span><span class="o">,</span> <span class="s">"马伊琍"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"邓超"</span><span class="o">,</span> <span class="s">"孙俪"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">map</span><span class="o">);</span>

        <span class="c1">//String remove(String key)</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">map</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="s">"邓超"</span><span class="o">));</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">map</span><span class="o">);</span>

        <span class="c1">// 想要查看 黄晓明的媳妇 是谁</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"黄晓明"</span><span class="o">));</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"邓超"</span><span class="o">));</span>    
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <blockquote> <p>tips:</p> <p>使用put方法时，若指定的键(key)在集合中没有，则没有这个键对应的值，返回null，并把指定的键值添加到集合中；</p> <p>若指定的键(key)在集合中存在，则返回值为集合中键对应的值（该值为替换前的值），并把指定键所对应的值，替换成指定的新值。</p> </blockquote> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>

<span class="cm">/*
    java.util.Map&lt;k,v&gt;集合
    Map集合的特点:
        1.Map集合是一个双列集合,一个元素包含两个值(一个key,一个value)
        2.Map集合中的元素,key和value的数据类型可以相同,也可以不同
        3.Map集合中的元素,key是不允许重复的,value是可以重复的
        4.Map集合中的元素,key和value是一一对应
    java.util.HashMap&lt;k,v&gt;集合 implements Map&lt;k,v&gt;接口
    HashMap集合的特点:
        1.HashMap集合底层是哈希表:查询的速度特别的快
            JDK1.8之前:数组+单向链表
            JDK1.8之后:数组+单向链表|红黑树(链表的长度超过8):提高查询的速度
        2.hashMap集合是一个无序的集合,存储元素和取出元素的顺序有可能不一致
   java.util.LinkedHashMap&lt;k,v&gt;集合 extends HashMap&lt;k,v&gt;集合
   LinkedHashMap的特点:
        1.LinkedHashMap集合底层是哈希表+链表(保证迭代的顺序)
        2.LinkedHashMap集合是一个有序的集合,存储元素和取出元素的顺序是一致的
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo01Map</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">show04</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="cm">/*
        boolean containsKey(Object key) 判断集合中是否包含指定的键。
        包含返回true,不包含返回false
     */</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">show04</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">//创建Map集合对象</span>
        <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"赵丽颖"</span><span class="o">,</span><span class="mi">168</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"杨颖"</span><span class="o">,</span><span class="mi">165</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"林志玲"</span><span class="o">,</span><span class="mi">178</span><span class="o">);</span>

        <span class="kt">boolean</span> <span class="n">b1</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="s">"赵丽颖"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"b1:"</span><span class="o">+</span><span class="n">b1</span><span class="o">);</span><span class="c1">//b1:true</span>

        <span class="kt">boolean</span> <span class="n">b2</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="s">"赵颖"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"b2:"</span><span class="o">+</span><span class="n">b2</span><span class="o">);</span><span class="c1">//b2:false</span>
    <span class="o">}</span>

    <span class="cm">/*
        public V get(Object key) 根据指定的键，在Map集合中获取对应的值。
            返回值:
                key存在,返回对应的value值
                key不存在,返回null
     */</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">show03</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">//创建Map集合对象</span>
        <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"赵丽颖"</span><span class="o">,</span><span class="mi">168</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"杨颖"</span><span class="o">,</span><span class="mi">165</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"林志玲"</span><span class="o">,</span><span class="mi">178</span><span class="o">);</span>

        <span class="nc">Integer</span> <span class="n">v1</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"杨颖"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"v1:"</span><span class="o">+</span><span class="n">v1</span><span class="o">);</span><span class="c1">//v1:165</span>

        <span class="nc">Integer</span> <span class="n">v2</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"迪丽热巴"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"v2:"</span><span class="o">+</span><span class="n">v2</span><span class="o">);</span><span class="c1">//v2:null</span>
    <span class="o">}</span>

    <span class="cm">/*
        public V remove(Object key): 把指定的键 所对应的键值对元素 在Map集合中删除，返回被删除元素的值。
            返回值:V
                key存在,v返回被删除的值
                key不存在,v返回null
     */</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">show02</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">//创建Map集合对象</span>
        <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"赵丽颖"</span><span class="o">,</span><span class="mi">168</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"杨颖"</span><span class="o">,</span><span class="mi">165</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"林志玲"</span><span class="o">,</span><span class="mi">178</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">map</span><span class="o">);</span><span class="c1">//{林志玲=178, 赵丽颖=168, 杨颖=165}</span>

        <span class="nc">Integer</span> <span class="n">v1</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="s">"林志玲"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"v1:"</span><span class="o">+</span><span class="n">v1</span><span class="o">);</span><span class="c1">//v1:178</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">map</span><span class="o">);</span><span class="c1">//{赵丽颖=168, 杨颖=165}</span>

        <span class="c1">//int v2 = map.remove("林志颖");//自动拆箱  NullPointerException</span>
        <span class="nc">Integer</span> <span class="n">v2</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="s">"林志颖"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"v2:"</span><span class="o">+</span><span class="n">v2</span><span class="o">);</span><span class="c1">//v2:null</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">map</span><span class="o">);</span><span class="c1">//{赵丽颖=168, 杨颖=165}</span>
    <span class="o">}</span>

    <span class="cm">/*
        public V put(K key, V value):  把指定的键与指定的值添加到Map集合中。
            返回值:v
                存储键值对的时候,key不重复,返回值V是null
                存储键值对的时候,key重复,会使用新的value替换map中重复的value,返回被替换的value值
     */</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">show01</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">//创建Map集合对象,多态</span>
        <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>

        <span class="nc">String</span> <span class="n">v1</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"李晨"</span><span class="o">,</span> <span class="s">"范冰冰1"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"v1:"</span><span class="o">+</span><span class="n">v1</span><span class="o">);</span><span class="c1">//v1:null</span>

        <span class="nc">String</span> <span class="n">v2</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"李晨"</span><span class="o">,</span> <span class="s">"范冰冰2"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"v2:"</span><span class="o">+</span><span class="n">v2</span><span class="o">);</span><span class="c1">//v2:范冰冰1</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">map</span><span class="o">);</span><span class="c1">//{李晨=范冰冰2}</span>

        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"冷锋"</span><span class="o">,</span><span class="s">"龙小云"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"杨过"</span><span class="o">,</span><span class="s">"小龙女"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"尹志平"</span><span class="o">,</span><span class="s">"小龙女"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">map</span><span class="o">);</span><span class="c1">//{杨过=小龙女, 尹志平=小龙女, 李晨=范冰冰2, 冷锋=龙小云}</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div> <h3 id="104---map集合遍历键找值方式">10.4 Map集合遍历键找值方式</h3> <p><img src="https://blog.slienceme.cn/images/posts/20210125111558990.bmp.jpg" alt="Alt Text" /></p> <p>键找值方式：即通过元素中的键，获取键所对应的值</p> <p>分析步骤：</p> <ol> <li>获取Map中所有的键，由于键是唯一的，所以返回一个Set集合存储所有的键。方法提示:<code class="language-plaintext highlighter-rouge">keyset()</code></li> <li>遍历键的Set集合，得到每一个键。</li> <li>根据键，获取键所对应的值。方法提示:<code class="language-plaintext highlighter-rouge">get(K key)</code></li> </ol> <p>代码演示：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MapDemo01</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//创建Map集合对象 </span>
        <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">String</span><span class="o">&gt;();</span>
        <span class="c1">//添加元素到集合 </span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"胡歌"</span><span class="o">,</span> <span class="s">"霍建华"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"郭德纲"</span><span class="o">,</span> <span class="s">"于谦"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"薛之谦"</span><span class="o">,</span> <span class="s">"大张伟"</span><span class="o">);</span>

        <span class="c1">//获取所有的键  获取键集</span>
        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">keys</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">keySet</span><span class="o">();</span>
        <span class="c1">// 遍历键集 得到 每一个键</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">key</span> <span class="o">:</span> <span class="n">keys</span><span class="o">)</span> <span class="o">{</span>
          	<span class="c1">//key  就是键</span>
            <span class="c1">//获取对应值</span>
            <span class="nc">String</span> <span class="n">value</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">key</span><span class="o">+</span><span class="s">"的CP是："</span><span class="o">+</span><span class="n">value</span><span class="o">);</span>
        <span class="o">}</span>  
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>遍历图解：</p> <p><img src="https://blog.slienceme.cn/images/posts/20210125104815186.bmp.jpg" alt="Alt Text" /></p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Iterator</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Set</span><span class="o">;</span>

<span class="cm">/*
    Map集合的第一种遍历方式:通过键找值的方式
    Map集合中的方法:
         Set&lt;K&gt; keySet() 返回此映射中包含的键的 Set 视图。
    实现步骤:
        1.使用Map集合中的方法keySet(),把Map集合所有的key取出来,存储到一个Set集合中
        2.遍历set集合,获取Map集合中的每一个key
        3.通过Map集合中的方法get(key),通过key找到value
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo02KeySet</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//创建Map集合对象</span>
        <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"赵丽颖"</span><span class="o">,</span><span class="mi">168</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"杨颖"</span><span class="o">,</span><span class="mi">165</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"林志玲"</span><span class="o">,</span><span class="mi">178</span><span class="o">);</span>

        <span class="c1">//1.使用Map集合中的方法keySet(),把Map集合所有的key取出来,存储到一个Set集合中</span>
        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">keySet</span><span class="o">();</span>

        <span class="c1">//2.遍历set集合,获取Map集合中的每一个key</span>
        <span class="c1">//使用迭代器遍历Set集合</span>
        <span class="nc">Iterator</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">it</span> <span class="o">=</span> <span class="n">set</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()){</span>
            <span class="nc">String</span> <span class="n">key</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="c1">//3.通过Map集合中的方法get(key),通过key找到value</span>
            <span class="nc">Integer</span> <span class="n">value</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">key</span><span class="o">+</span><span class="s">"="</span><span class="o">+</span><span class="n">value</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"-------------------"</span><span class="o">);</span>
        <span class="c1">//使用增强for遍历Set集合</span>
        <span class="k">for</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span> <span class="o">:</span> <span class="n">set</span><span class="o">){</span>
            <span class="c1">//3.通过Map集合中的方法get(key),通过key找到value</span>
            <span class="nc">Integer</span> <span class="n">value</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">key</span><span class="o">+</span><span class="s">"="</span><span class="o">+</span><span class="n">value</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"-------------------"</span><span class="o">);</span>
        <span class="c1">//使用增强for遍历Set集合</span>
        <span class="k">for</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span> <span class="o">:</span> <span class="n">map</span><span class="o">.</span><span class="na">keySet</span><span class="o">()){</span>
            <span class="c1">//3.通过Map集合中的方法get(key),通过key找到value</span>
            <span class="nc">Integer</span> <span class="n">value</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">key</span><span class="o">+</span><span class="s">"="</span><span class="o">+</span><span class="n">value</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h3 id="105--entry键值对对象">10.5 Entry键值对对象</h3> <p>我们已经知道，<code class="language-plaintext highlighter-rouge">Map</code>中存放的是两种对象，一种称为<strong>key</strong>(键)，一种称为<strong>value</strong>(值)，它们在在<code class="language-plaintext highlighter-rouge">Map</code>中是一一对应关系，这一对对象又称做<code class="language-plaintext highlighter-rouge">Map</code>中的一个<code class="language-plaintext highlighter-rouge">Entry(项)</code>。<code class="language-plaintext highlighter-rouge">Entry</code>将键值对的对应关系封装成了对象。即键值对对象，这样我们在遍历<code class="language-plaintext highlighter-rouge">Map</code>集合时，就可以从每一个键值对（<code class="language-plaintext highlighter-rouge">Entry</code>）对象中获取对应的键与对应的值。</p> <p>既然Entry表示了一对键和值，那么也同样提供了获取对应键和对应值得方法：</p> <ul> <li><code class="language-plaintext highlighter-rouge">public K getKey()</code>：获取Entry对象中的键。</li> <li><code class="language-plaintext highlighter-rouge">public V getValue()</code>：获取Entry对象中的值。</li> </ul> <p>在Map集合中也提供了获取所有Entry对象的方法：</p> <ul> <li><code class="language-plaintext highlighter-rouge">public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()</code>: 获取到Map集合中所有的键值对对象的集合(Set集合)。</li> </ul> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Iterator</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Set</span><span class="o">;</span>

<span class="cm">/*
    Map集合遍历的第二种方式:使用Entry对象遍历

    Map集合中的方法:
        Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() 返回此映射中包含的映射关系的 Set 视图。

    实现步骤:
        1.使用Map集合中的方法entrySet(),把Map集合中多个Entry对象取出来,存储到一个Set集合中
        2.遍历Set集合,获取每一个Entry对象
        3.使用Entry对象中的方法getKey()和getValue()获取键与值
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo03EntrySet</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//创建Map集合对象</span>
        <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"赵丽颖"</span><span class="o">,</span><span class="mi">168</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"杨颖"</span><span class="o">,</span><span class="mi">165</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"林志玲"</span><span class="o">,</span><span class="mi">178</span><span class="o">);</span>

        <span class="c1">//1.使用Map集合中的方法entrySet(),把Map集合中多个Entry对象取出来,存储到一个Set集合中</span>
        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">entrySet</span><span class="o">();</span>

        <span class="c1">//2.遍历Set集合,获取每一个Entry对象</span>
        <span class="c1">//使用迭代器遍历Set集合</span>
        <span class="nc">Iterator</span><span class="o">&lt;</span><span class="nc">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="n">it</span> <span class="o">=</span> <span class="n">set</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>
        <span class="k">while</span><span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()){</span>
            <span class="nc">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">entry</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="c1">//3.使用Entry对象中的方法getKey()和getValue()获取键与值</span>
            <span class="nc">String</span> <span class="n">key</span> <span class="o">=</span> <span class="n">entry</span><span class="o">.</span><span class="na">getKey</span><span class="o">();</span>
            <span class="nc">Integer</span> <span class="n">value</span> <span class="o">=</span> <span class="n">entry</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">key</span><span class="o">+</span><span class="s">"="</span><span class="o">+</span><span class="n">value</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"-----------------------"</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="nc">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="nl">entry:</span><span class="n">set</span><span class="o">){</span>
            <span class="c1">//3.使用Entry对象中的方法getKey()和getValue()获取键与值</span>
            <span class="nc">String</span> <span class="n">key</span> <span class="o">=</span> <span class="n">entry</span><span class="o">.</span><span class="na">getKey</span><span class="o">();</span>
            <span class="nc">Integer</span> <span class="n">value</span> <span class="o">=</span> <span class="n">entry</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">key</span><span class="o">+</span><span class="s">"="</span><span class="o">+</span><span class="n">value</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h3 id="106-map集合遍历键值对方式">10.6 Map集合遍历键值对方式</h3> <p><img src="https://blog.slienceme.cn/images/posts/20210125111631793.bmp.jpg" alt="Alt Text" /></p> <p>键值对方式：即通过集合中每个键值对(Entry)对象，获取键值对(Entry)对象中的键与值。</p> <p>操作步骤与图解：</p> <ol> <li> <p>获取Map集合中，所有的键值对(Entry)对象，以Set集合形式返回。方法提示:<code class="language-plaintext highlighter-rouge">entrySet()</code>。</p> </li> <li>遍历包含键值对(Entry)对象的Set集合，得到每一个键值对(Entry)对象。</li> <li>通过键值对(Entry)对象，获取Entry对象中的键与值。 方法提示:<code class="language-plaintext highlighter-rouge">getkey() getValue()</code></li> </ol> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MapDemo02</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 创建Map集合对象 </span>
        <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">String</span><span class="o">&gt;();</span>
        <span class="c1">// 添加元素到集合 </span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"胡歌"</span><span class="o">,</span> <span class="s">"霍建华"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"郭德纲"</span><span class="o">,</span> <span class="s">"于谦"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"薛之谦"</span><span class="o">,</span> <span class="s">"大张伟"</span><span class="o">);</span>

        <span class="c1">// 获取 所有的 entry对象  entrySet</span>
        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Entry</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="n">entrySet</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">entrySet</span><span class="o">();</span>

        <span class="c1">// 遍历得到每一个entry对象</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">Entry</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">entry</span> <span class="o">:</span> <span class="n">entrySet</span><span class="o">)</span> <span class="o">{</span>
           	<span class="c1">// 解析 </span>
            <span class="nc">String</span> <span class="n">key</span> <span class="o">=</span> <span class="n">entry</span><span class="o">.</span><span class="na">getKey</span><span class="o">();</span>
            <span class="nc">String</span> <span class="n">value</span> <span class="o">=</span> <span class="n">entry</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>  
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">key</span><span class="o">+</span><span class="s">"的CP是:"</span><span class="o">+</span><span class="n">value</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>遍历图解：</p> <p><img src="https://blog.slienceme.cn/images/posts/20210125104840901.bmp.jpg" alt="Alt Text" /></p> <blockquote> <p>tips：Map集合不能直接使用迭代器或者foreach进行遍历。但是转成Set之后就可以使用了。</p> </blockquote> <h3 id="107--hashmap存储自定义类型键值">10.7 HashMap存储自定义类型键值</h3> <p>练习：每位学生（姓名，年龄）都有自己的家庭住址。那么，既然有对应关系，则将学生对象和家庭住址存储到map集合中。学生作为键, 家庭住址作为值。</p> <blockquote> <p>注意，学生姓名相同并且年龄相同视为同一名学生。</p> </blockquote> <p>编写学生类：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Student</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Student</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Student</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="nc">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="k">this</span> <span class="o">==</span> <span class="n">o</span><span class="o">)</span>
            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">o</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">getClass</span><span class="o">()</span> <span class="o">!=</span> <span class="n">o</span><span class="o">.</span><span class="na">getClass</span><span class="o">())</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="nc">Student</span> <span class="n">student</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Student</span><span class="o">)</span> <span class="n">o</span><span class="o">;</span>
        <span class="k">return</span> <span class="n">age</span> <span class="o">==</span> <span class="n">student</span><span class="o">.</span><span class="na">age</span> <span class="o">&amp;&amp;</span> <span class="nc">Objects</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">student</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nc">Objects</span><span class="o">.</span><span class="na">hash</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">age</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>编写测试类：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">HashMapTest</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//1,创建Hashmap集合对象。</span>
        <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">,</span><span class="nc">String</span><span class="o">&gt;</span><span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">,</span><span class="nc">String</span><span class="o">&gt;();</span>
        <span class="c1">//2,添加元素。</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">newStudent</span><span class="o">(</span><span class="s">"lisi"</span><span class="o">,</span><span class="mi">28</span><span class="o">),</span> <span class="s">"上海"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">newStudent</span><span class="o">(</span><span class="s">"wangwu"</span><span class="o">,</span><span class="mi">22</span><span class="o">),</span> <span class="s">"北京"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">newStudent</span><span class="o">(</span><span class="s">"zhaoliu"</span><span class="o">,</span><span class="mi">24</span><span class="o">),</span> <span class="s">"成都"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">newStudent</span><span class="o">(</span><span class="s">"zhouqi"</span><span class="o">,</span><span class="mi">25</span><span class="o">),</span> <span class="s">"广州"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">newStudent</span><span class="o">(</span><span class="s">"wangwu"</span><span class="o">,</span><span class="mi">22</span><span class="o">),</span> <span class="s">"南京"</span><span class="o">);</span>
        
        <span class="c1">//3,取出元素。键找值方式</span>
        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;</span><span class="n">keySet</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">keySet</span><span class="o">();</span>
        <span class="k">for</span><span class="o">(</span><span class="nc">Student</span> <span class="nl">key:</span> <span class="n">keySet</span><span class="o">){</span>
            <span class="nc">Stringvalue</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">key</span><span class="o">.</span><span class="na">toString</span><span class="o">()+</span><span class="s">"....."</span><span class="o">+</span><span class="n">value</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <ul> <li>当给HashMap中存放自定义对象时，如果自定义对象作为key存在，这时要保证对象唯一，必须复写对象的hashCode和equals方法(如果忘记，请回顾HashSet存放自定义对象)。</li> <li>如果要保证map中存放的key和取出的顺序一致，可以使用<code class="language-plaintext highlighter-rouge">java.util.LinkedHashMap</code>集合来存放。</li> </ul> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Set</span><span class="o">;</span>

<span class="cm">/*
    HashMap存储自定义类型键值
    Map集合保证key是唯一的:
        作为key的元素,必须重写hashCode方法和equals方法,以保证key唯一
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo01HashMapSavePerson</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">show02</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="cm">/*
        HashMap存储自定义类型键值
        key:Person类型
            Person类就必须重写hashCode方法和equals方法,以保证key唯一
        value:String类型
            可以重复
     */</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">show02</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">//创建HashMap集合</span>
        <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">,</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="c1">//往集合中添加元素</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"女王"</span><span class="o">,</span><span class="mi">18</span><span class="o">),</span><span class="s">"英国"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"秦始皇"</span><span class="o">,</span><span class="mi">18</span><span class="o">),</span><span class="s">"秦国"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"普京"</span><span class="o">,</span><span class="mi">30</span><span class="o">),</span><span class="s">"俄罗斯"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"女王"</span><span class="o">,</span><span class="mi">18</span><span class="o">),</span><span class="s">"毛里求斯"</span><span class="o">);</span>
        <span class="c1">//使用entrySet和增强for遍历Map集合</span>
        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">entrySet</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">entry</span> <span class="o">:</span> <span class="n">set</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">Person</span> <span class="n">key</span> <span class="o">=</span> <span class="n">entry</span><span class="o">.</span><span class="na">getKey</span><span class="o">();</span>
            <span class="nc">String</span> <span class="n">value</span> <span class="o">=</span> <span class="n">entry</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">key</span><span class="o">+</span><span class="s">"--&gt;"</span><span class="o">+</span><span class="n">value</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="cm">/*
        HashMap存储自定义类型键值
        key:String类型
            String类重写hashCode方法和equals方法,可以保证key唯一
        value:Person类型
            value可以重复(同名同年龄的人视为同一个)
     */</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">show01</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">//创建HashMap集合</span>
        <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="c1">//往集合中添加元素</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"北京"</span><span class="o">,</span><span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"张三"</span><span class="o">,</span><span class="mi">18</span><span class="o">));</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"上海"</span><span class="o">,</span><span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"李四"</span><span class="o">,</span><span class="mi">19</span><span class="o">));</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"广州"</span><span class="o">,</span><span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"王五"</span><span class="o">,</span><span class="mi">20</span><span class="o">));</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"北京"</span><span class="o">,</span><span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"赵六"</span><span class="o">,</span><span class="mi">18</span><span class="o">));</span>
        <span class="c1">//使用keySet加增强for遍历Map集合</span>
        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">keySet</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">key</span> <span class="o">:</span> <span class="n">set</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">Person</span> <span class="n">value</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">key</span><span class="o">+</span><span class="s">"--&gt;"</span><span class="o">+</span><span class="n">value</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.Objects</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Person</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span>  <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Person</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Person</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"Person{"</span> <span class="o">+</span>
                <span class="s">"name='"</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="sc">'\''</span> <span class="o">+</span>
                <span class="s">", age="</span> <span class="o">+</span> <span class="n">age</span> <span class="o">+</span>
                <span class="sc">'}'</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="nc">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="k">this</span> <span class="o">==</span> <span class="n">o</span><span class="o">)</span> <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">o</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">getClass</span><span class="o">()</span> <span class="o">!=</span> <span class="n">o</span><span class="o">.</span><span class="na">getClass</span><span class="o">())</span> <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="nc">Person</span> <span class="n">person</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Person</span><span class="o">)</span> <span class="n">o</span><span class="o">;</span>
        <span class="k">return</span> <span class="n">age</span> <span class="o">==</span> <span class="n">person</span><span class="o">.</span><span class="na">age</span> <span class="o">&amp;&amp;</span>
                <span class="nc">Objects</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">person</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">()</span> <span class="o">{</span>

        <span class="k">return</span> <span class="nc">Objects</span><span class="o">.</span><span class="na">hash</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">age</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h3 id="108---linkedhashmap">10.8 LinkedHashMap</h3> <p>我们知道HashMap保证成对元素唯一，并且查询速度很快，可是成对元素存放进去是没有顺序的，那么我们要保证有序，还要速度快怎么办呢？</p> <p>在HashMap下面有一个子类LinkedHashMap，它是链表和哈希表组合的一个数据存储结构。</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">LinkedHashMapDemo</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">LinkedHashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedHashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"邓超"</span><span class="o">,</span> <span class="s">"孙俪"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"李晨"</span><span class="o">,</span> <span class="s">"范冰冰"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"刘德华"</span><span class="o">,</span> <span class="s">"朱丽倩"</span><span class="o">);</span>
        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Entry</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="n">entrySet</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">entrySet</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">Entry</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">entry</span> <span class="o">:</span> <span class="n">entrySet</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">entry</span><span class="o">.</span><span class="na">getKey</span><span class="o">()</span> <span class="o">+</span> <span class="s">"  "</span> <span class="o">+</span> <span class="n">entry</span><span class="o">.</span><span class="na">getValue</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>结果:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>邓超  孙俪
李晨  范冰冰
刘德华  朱丽倩
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.LinkedHashMap</span><span class="o">;</span>

<span class="cm">/*
    java.util.LinkedHashMap&lt;K,V&gt; entends HashMap&lt;K,V&gt;
    Map 接口的哈希表和链接列表实现，具有可预知的迭代顺序。
    底层原理:
        哈希表+链表(记录元素的顺序)
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo01LinkedHashMap</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span><span class="s">"a"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"c"</span><span class="o">,</span><span class="s">"c"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"b"</span><span class="o">,</span><span class="s">"b"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span><span class="s">"d"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">map</span><span class="o">);</span><span class="c1">// key不允许重复,无序 {a=d, b=b, c=c}</span>

        <span class="nc">LinkedHashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">linked</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedHashMap</span><span class="o">&lt;&gt;();</span>
        <span class="n">linked</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span><span class="s">"a"</span><span class="o">);</span>
        <span class="n">linked</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"c"</span><span class="o">,</span><span class="s">"c"</span><span class="o">);</span>
        <span class="n">linked</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"b"</span><span class="o">,</span><span class="s">"b"</span><span class="o">);</span>
        <span class="n">linked</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span><span class="s">"d"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">linked</span><span class="o">);</span><span class="c1">// key不允许重复,有序 {a=d, c=c, b=b}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Hashtable</span><span class="o">;</span>

<span class="cm">/*
    java.util.Hashtable&lt;K,V&gt;集合 implements Map&lt;K,V&gt;接口

    Hashtable:底层也是一个哈希表,是一个线程安全的集合,是单线程集合,速度慢
    HashMap:底层是一个哈希表,是一个线程不安全的集合,是多线程的集合,速度快

    HashMap集合(之前学的所有的集合):可以存储null值,null键
    Hashtable集合,不能存储null值,null键

    Hashtable和Vector集合一样,在jdk1.2版本之后被更先进的集合(HashMap,ArrayList)取代了
    Hashtable的子类Properties依然活跃在历史舞台
    Properties集合是一个唯一和IO流相结合的集合
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo02Hashtable</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span><span class="s">"a"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"b"</span><span class="o">,</span><span class="kc">null</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">map</span><span class="o">);</span><span class="c1">//{null=null, b=null}</span>

        <span class="nc">Hashtable</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">table</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Hashtable</span><span class="o">&lt;&gt;();</span>
        <span class="c1">//table.put(null,"a");//NullPointerException</span>
        <span class="c1">//table.put("b",null);//NullPointerException</span>
        <span class="n">table</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">);</span><span class="c1">//NullPointerException</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h3 id="109-map集合练习">10.9 Map集合练习</h3> <p><img src="https://blog.slienceme.cn/images/posts/20210125111716873.bmp.jpg" alt="Alt Text" /></p> <p><strong>需求：</strong></p> <p>计算一个字符串中每个字符出现次数。</p> <p><strong>分析：</strong></p> <ol> <li>获取一个字符串对象</li> <li>创建一个Map集合，键代表字符，值代表次数。</li> <li>遍历字符串得到每个字符。</li> <li>判断Map中是否有该键。</li> <li>如果没有，第一次出现，存储次数为1；如果有，则说明已经出现过，获取到对应的值进行++，再次存储。</li> <li>打印最终结果</li> </ol> <p><strong>代码：</strong></p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MapTest</span> <span class="o">{</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//友情提示</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"请录入一个字符串:"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">line</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">).</span><span class="na">nextLine</span><span class="o">();</span>
        <span class="c1">// 定义 每个字符出现次数的方法</span>
        <span class="n">findChar</span><span class="o">(</span><span class="n">line</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">findChar</span><span class="o">(</span><span class="nc">String</span> <span class="n">line</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//1:创建一个集合 存储  字符 以及其出现的次数</span>
        <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">Character</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">Character</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;();</span>
        <span class="c1">//2:遍历字符串</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">line</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="c1">//判断 该字符 是否在键集中</span>
            <span class="k">if</span> <span class="o">(!</span><span class="n">map</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">c</span><span class="o">))</span> <span class="o">{</span><span class="c1">//说明这个字符没有出现过</span>
                <span class="c1">//那就是第一次</span>
                <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">c</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="c1">//先获取之前的次数</span>
                <span class="nc">Integer</span> <span class="n">count</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">c</span><span class="o">);</span>
                <span class="c1">//count++;</span>
                <span class="c1">//再次存入  更新</span>
                <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">c</span><span class="o">,</span> <span class="o">++</span><span class="n">count</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">map</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="cm">/*
    练习:
        计算一个字符串中每个字符出现次数

    分析:
        1.使用Scanner获取用户输入的字符串
        2.创建Map集合,key是字符串中的字符,value是字符的个数
        3.遍历字符串,获取每一个字符
        4.使用获取到的字符,去Map集合判断key是否存在
            key存在:
                通过字符(key),获取value(字符个数)
                value++
                put(key,value)把新的value存储到Map集合中
            key不存在:
                put(key,1)
        5.遍历Map集合,输出结果
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo03MapTest</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//1.使用Scanner获取用户输入的字符串</span>
        <span class="nc">Scanner</span> <span class="n">sc</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"请输入一个字符串:"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">str</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
        <span class="c1">//2.创建Map集合,key是字符串中的字符,value是字符的个数</span>
        <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">Character</span><span class="o">,</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="c1">//3.遍历字符串,获取每一个字符</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">char</span> <span class="n">c</span> <span class="o">:</span><span class="n">str</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">()){</span>
            <span class="c1">//4.使用获取到的字符,去Map集合判断key是否存在</span>
            <span class="k">if</span><span class="o">(</span><span class="n">map</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">c</span><span class="o">)){</span>
                <span class="c1">//key存在</span>
                <span class="nc">Integer</span> <span class="n">value</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">c</span><span class="o">);</span>
                <span class="n">value</span><span class="o">++;</span>
                <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">c</span><span class="o">,</span><span class="n">value</span><span class="o">);</span>
            <span class="o">}</span><span class="k">else</span><span class="o">{</span>
                <span class="c1">//key不存在</span>
                <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">c</span><span class="o">,</span><span class="mi">1</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="c1">//5.遍历Map集合,输出结果</span>
        <span class="k">for</span><span class="o">(</span><span class="nc">Character</span> <span class="n">key</span> <span class="o">:</span><span class="n">map</span><span class="o">.</span><span class="na">keySet</span><span class="o">()){</span>
            <span class="nc">Integer</span> <span class="n">value</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">key</span><span class="o">+</span><span class="s">"="</span><span class="o">+</span><span class="n">value</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h2 id="11-补充知识点">11. 补充知识点</h2> <h3 id="111--jdk9对集合添加的优化">11.1 JDK9对集合添加的优化</h3> <p>通常，我们在代码中创建一个集合（例如，List 或 Set ），并直接用一些元素填充它。 实例化集合，几个 add方法 调用，使得代码重复。</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo01</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"abc"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"def"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"ghi"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>Java 9，添加了几种集合工厂方法,更方便创建少量元素的集合、map实例。新的List、Set、Map的静态工厂方法可以更方便地创建集合的不可变实例。</p> <p>例子：</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloJDK9</span> <span class="o">{</span>  
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>  
        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">str1</span><span class="o">=</span><span class="nc">Set</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span><span class="s">"b"</span><span class="o">,</span><span class="s">"c"</span><span class="o">);</span>  
        <span class="c1">//str1.add("c");这里编译的时候不会错，但是执行的时候会报错，因为是不可变的集合  </span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">str1</span><span class="o">);</span>  
        <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">str2</span><span class="o">=</span><span class="nc">Map</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="s">"b"</span><span class="o">,</span><span class="mi">2</span><span class="o">);</span>  
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">str2</span><span class="o">);</span>  
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">str3</span><span class="o">=</span><span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span><span class="s">"b"</span><span class="o">);</span>  
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">str3</span><span class="o">);</span>  
    <span class="o">}</span>  
<span class="o">}</span> 
</code></pre></div></div> <p>需要注意以下两点：</p> <blockquote> <p>1:of()方法只是Map，List，Set这三个接口的静态方法，其父类接口和子类实现并没有这类方法，比如 HashSet，ArrayList等待；</p> <p>2:返回的集合是不可变的；</p> </blockquote> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Set</span><span class="o">;</span>

<span class="cm">/*
    JDK9的新特性:
        List接口,Set接口,Map接口:里边增加了一个静态的方法of,可以给集合一次性添加多个元素
        static &lt;E&gt; List&lt;E&gt; of​(E... elements)
        使用前提:
            当集合中存储的元素的个数已经确定了,不在改变时使用
     注意:
        1.of方法只适用于List接口,Set接口,Map接口,不适用于接接口的实现类
        2.of方法的返回值是一个不能改变的集合,集合不能再使用add,put方法添加元素,会抛出异常
        3.Set接口和Map接口在调用of方法的时候,不能有重复的元素,否则会抛出异常
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo01JDK9</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span> <span class="s">"b"</span><span class="o">,</span> <span class="s">"a"</span><span class="o">,</span> <span class="s">"c"</span><span class="o">,</span> <span class="s">"d"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">);</span><span class="c1">//[a, b, a, c, d]</span>
        <span class="c1">//list.add("w");//UnsupportedOperationException:不支持操作异常</span>

        <span class="c1">//Set&lt;String&gt; set = Set.of("a", "b", "a", "c", "d");//IllegalArgumentException:非法参数异常,有重复的元素</span>
        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="nc">Set</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span> <span class="s">"b"</span><span class="o">,</span> <span class="s">"c"</span><span class="o">,</span> <span class="s">"d"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">set</span><span class="o">);</span>
        <span class="c1">//set.add("w");//UnsupportedOperationException:不支持操作异常</span>

        <span class="c1">//Map&lt;String, Integer&gt; map = Map.of("张三", 18, "李四", 19, "王五", 20,"张三",19);////IllegalArgumentException:非法参数异常,有重复的元素</span>
        <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="nc">Map</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"张三"</span><span class="o">,</span> <span class="mi">18</span><span class="o">,</span> <span class="s">"李四"</span><span class="o">,</span> <span class="mi">19</span><span class="o">,</span> <span class="s">"王五"</span><span class="o">,</span> <span class="mi">20</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">map</span><span class="o">);</span><span class="c1">//{王五=20, 李四=19, 张三=18}</span>
        <span class="c1">//map.put("赵四",30);//UnsupportedOperationException:不支持操作异常</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h3 id="112-debug追踪">11.2 Debug追踪</h3> <p><strong>使用IDEA的断点调试功能，查看程序的运行过程</strong></p> <ol> <li>在有效代码行，点击行号右边的空白区域，设置断点，程序执行到断点将停止，我们可以手动来运行程序</li> </ol> <p><img src="https://blog.slienceme.cn/images/posts/20210125104943119.png" alt="Alt Text" /></p> <ol> <li> <p>点击Debug运行模式 <br /> <img src="https://blog.slienceme.cn/images/posts/20210125105011804.png" alt="Alt Text" /></p> </li> <li> <p>程序停止在断点上不再执行，而IDEA最下方打开了Debug调试窗口</p> </li> </ol> <p><img src="https://blog.slienceme.cn/images/posts/20210125105140106.png" alt="Alt Text" /></p> <ol> <li>Debug调试窗口介绍</li> </ol> <p><img src="https://blog.slienceme.cn/images/posts/20210125105159901.png" alt="Alt Text" /> <img src="https://blog.slienceme.cn/images/posts/20210125105216482.png" alt="Alt Text" /></p> <ol> <li>快捷键F8，代码向下执行一行,第九行执行完毕，执行到第10行（第10行还未执行）</li> </ol> <p><img src="https://blog.slienceme.cn/images/posts/20210125105343786.png" alt="Alt Text" /></p> <ol> <li>切换到控制台面板，控制台显示 请录入一个字符串： 并且等待键盘录入</li> </ol> <p><img src="https://blog.slienceme.cn/images/posts/20210125105414274.png" alt="Alt Text" /></p> <ol> <li>快捷键F8，程序继续向后执行，执行键盘录入操作，在控制台录入数据 ababcea</li> </ol> <p><img src="https://blog.slienceme.cn/images/posts/20210125105442225.png" alt="Alt Text" /></p> <p>回车之后效果： <img src="https://blog.slienceme.cn/images/posts/20210125105503789.png" alt="Alt Text" /></p> <p>调试界面效果：</p> <p><img src="https://blog.slienceme.cn/images/posts/20210125105547953.png" alt="Alt Text" /></p> <ol> <li>此时到达findChar方法，快捷键F7，进入方法findChar</li> </ol> <p><img src="https://blog.slienceme.cn/images/posts/20210125105556727.png" alt="Alt Text" /></p> <ol> <li>快捷键F8 接续执行，创建了map对象，变量区域显示</li> </ol> <p><img src="https://blog.slienceme.cn/images/posts/20210125105606395.png" alt="Alt Text" /></p> <ol> <li>快捷键F8 接续执行，进入到循环中，循环变量i为 0,F8再继续执行，就获取到变量c赋值为字符‘a’ 字节值97</li> </ol> <p><img src="https://blog.slienceme.cn/images/posts/20210125105617835.png" alt="Alt Text" /></p> <ol> <li>快捷键F8 接续执行，进入到判断语句中，因为该字符 不在Map集合键集中，再按F8执行，进入该判断中</li> </ol> <p><img src="https://blog.slienceme.cn/images/posts/20210125105636222.png" alt="Alt Text" /></p> <ol> <li>快捷键F8 接续执行，循环结束，进入下次循环，此时map中已经添加一对儿元素</li> </ol> <p><img src="https://blog.slienceme.cn/images/posts/2021012510570426.png" alt="Alt Text" /></p> <ol> <li>快捷键F8 接续执行，进入下次循环，再继续上面的操作，我们就可以看到代码每次是如何执行的了</li> </ol> <p><img src="https://blog.slienceme.cn/images/posts/20210125105713917.png" alt="Alt Text" /></p> <ol> <li>如果不想继续debug,那么可以使用快捷键F9,程序正常执行到结束，程序结果在控制台显示</li> </ol> <p><img src="https://blog.slienceme.cn/images/posts/20210125105725120.png" alt="Alt Text" /></p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
    Debug调试程序:
        可以让代码逐行执行,查看代码执行的过程,调试程序中出现的bug
    使用方式:
        在行号的右边,鼠标左键单击,添加断点(每个方法的第一行,哪里有bug添加到哪里)
        右键,选择Debug执行程序
        程序就会停留在添加的第一个断点处
    执行程序:
        f8:逐行执行程序
        f7:进入到方法中
        shift+f8:跳出方法
        f9:跳到下一个断点,如果没有下一个断点,那么就结束程序
        ctrl+f2:退出debug模式,停止程序
        Console:切换到控制台
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Demo01Debug</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="cm">/*int a = 10;
        int b = 20;
        int sum = a + b;
        System.out.println(sum);*/</span>

        <span class="cm">/*for (int i = 0; i &lt;3 ; i++) {
            System.out.println(i);
        }*/</span>

        <span class="n">print</span><span class="o">();</span>

    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"HelloWorld"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"HelloWorld"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"HelloWorld"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"HelloWorld"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"HelloWorld"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h2 id="12--模拟斗地主洗牌发牌">12. 模拟斗地主洗牌发牌</h2> <h3 id="121-案例介绍">12.1 案例介绍</h3> <p><img src="https://blog.slienceme.cn/images/posts/20210125111809486.bmp.jpg" alt="Alt Text" /></p> <p>按照斗地主的规则，完成洗牌发牌的动作。</p> <p><img src="https://blog.slienceme.cn/images/posts/20210125110054574.png" alt="Alt Text" /></p> <p>具体规则：</p> <ol> <li>组装54张扑克牌将</li> <li>54张牌顺序打乱</li> <li>三个玩家参与游戏，三人交替摸牌，每人17张牌，最后三张留作底牌。</li> <li>查看三人各自手中的牌（按照牌的大小排序）、底牌</li> </ol> <blockquote> <p>规则：手中扑克牌从大到小的摆放顺序：大王,小王,2,A,K,Q,J,10,9,8,7,6,5,4,3</p> </blockquote> <h3 id="122-案例需求分析">12.2 案例需求分析</h3> <ol> <li>准备牌：</li> </ol> <p>完成数字与纸牌的映射关系：</p> <p>使用双列Map(HashMap)集合，完成一个数字与字符串纸牌的对应关系(相当于一个字典)。</p> <ol> <li>洗牌：</li> </ol> <p>通过数字完成洗牌发牌</p> <ol> <li>发牌：</li> </ol> <p>将每个人以及底牌设计为ArrayList<String>,将最后3张牌直接存放于底牌，剩余牌通过对3取模依次发牌。</String></p> <p>存放的过程中要求数字大小与斗地主规则的大小对应。</p> <p>将代表不同纸牌的数字分配给不同的玩家与底牌。</p> <ol> <li>看牌：</li> </ol> <p>通过Map集合找到对应字符展示。</p> <p>通过查询纸牌与数字的对应关系，由数字转成纸牌字符串再进行展示。</p> <p><img src="https://blog.slienceme.cn/images/posts/20210125110036930.png" alt="Alt Text" /></p> <h3 id="123--实现代码步骤">12.3 实现代码步骤</h3> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Poker</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="cm">/*
         * 1组装54张扑克牌
         */</span>
        <span class="c1">// 1.1 创建Map集合存储</span>
        <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">pokerMap</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
        <span class="c1">// 1.2 创建 花色集合 与 数字集合</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">colors</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">numbers</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>

        <span class="c1">// 1.3 存储 花色 与数字</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">colors</span><span class="o">,</span> <span class="s">"♦"</span><span class="o">,</span> <span class="s">"♣"</span><span class="o">,</span> <span class="s">"♥"</span><span class="o">,</span> <span class="s">"♠"</span><span class="o">);</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">numbers</span><span class="o">,</span> <span class="s">"2"</span><span class="o">,</span> <span class="s">"A"</span><span class="o">,</span> <span class="s">"K"</span><span class="o">,</span> <span class="s">"Q"</span><span class="o">,</span> <span class="s">"J"</span><span class="o">,</span> <span class="s">"10"</span><span class="o">,</span> <span class="s">"9"</span><span class="o">,</span> <span class="s">"8"</span><span class="o">,</span> <span class="s">"7"</span><span class="o">,</span> <span class="s">"6"</span><span class="o">,</span> <span class="s">"5"</span><span class="o">,</span> <span class="s">"4"</span><span class="o">,</span> <span class="s">"3"</span><span class="o">);</span>
        <span class="c1">// 设置 存储编号变量</span>
        <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
        <span class="n">pokerMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">count</span><span class="o">++,</span> <span class="s">"大王"</span><span class="o">);</span>
        <span class="n">pokerMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">count</span><span class="o">++,</span> <span class="s">"小王"</span><span class="o">);</span>
        <span class="c1">// 1.4 创建牌 存储到map集合中</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">number</span> <span class="o">:</span> <span class="n">numbers</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">color</span> <span class="o">:</span> <span class="n">colors</span><span class="o">)</span> <span class="o">{</span>
                <span class="nc">String</span> <span class="n">card</span> <span class="o">=</span> <span class="n">color</span> <span class="o">+</span> <span class="n">number</span><span class="o">;</span>
                <span class="n">pokerMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">count</span><span class="o">++,</span> <span class="n">card</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="cm">/*
         * 2 将54张牌顺序打乱
         */</span>
        <span class="c1">// 取出编号 集合</span>
        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">numberSet</span> <span class="o">=</span> <span class="n">pokerMap</span><span class="o">.</span><span class="na">keySet</span><span class="o">();</span>
        <span class="c1">// 因为要将编号打乱顺序 所以 应该先进行转换到 list集合中</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">numberList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>
        <span class="n">numberList</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">numberSet</span><span class="o">);</span>

        <span class="c1">// 打乱顺序</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">shuffle</span><span class="o">(</span><span class="n">numberList</span><span class="o">);</span>

        <span class="c1">// 3 完成三个玩家交替摸牌，每人17张牌，最后三张留作底牌</span>
        <span class="c1">// 3.1 发牌的编号</span>
        <span class="c1">// 创建三个玩家编号集合 和一个 底牌编号集合</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">noP1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">noP2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">noP3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">dipaiNo</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>

        <span class="c1">// 3.2发牌的编号</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">numberList</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="c1">// 获取该编号</span>
            <span class="nc">Integer</span> <span class="n">no</span> <span class="o">=</span> <span class="n">numberList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="c1">// 发牌</span>
            <span class="c1">// 留出底牌</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">51</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">dipaiNo</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">no</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">noP1</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">no</span><span class="o">);</span>
                <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">noP2</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">no</span><span class="o">);</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                    <span class="n">noP3</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">no</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="c1">// 4 查看三人各自手中的牌（按照牌的大小排序）、底牌</span>
        <span class="c1">// 4.1 对手中编号进行排序</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">noP1</span><span class="o">);</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">noP2</span><span class="o">);</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">noP3</span><span class="o">);</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">dipaiNo</span><span class="o">);</span>

        <span class="c1">// 4.2 进行牌面的转换</span>
        <span class="c1">// 创建三个玩家牌面集合 以及底牌牌面集合</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">player1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">player2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">player3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">dipai</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>

        <span class="c1">// 4.3转换</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">Integer</span> <span class="n">i</span> <span class="o">:</span> <span class="n">noP1</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// 4.4 根据编号找到 牌面 pokerMap</span>
            <span class="nc">String</span> <span class="n">card</span> <span class="o">=</span> <span class="n">pokerMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="c1">// 添加到对应的 牌面集合中</span>
            <span class="n">player1</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">card</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">for</span> <span class="o">(</span><span class="nc">Integer</span> <span class="n">i</span> <span class="o">:</span> <span class="n">noP2</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">String</span> <span class="n">card</span> <span class="o">=</span> <span class="n">pokerMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="n">player2</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">card</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">Integer</span> <span class="n">i</span> <span class="o">:</span> <span class="n">noP3</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">String</span> <span class="n">card</span> <span class="o">=</span> <span class="n">pokerMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="n">player3</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">card</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">Integer</span> <span class="n">i</span> <span class="o">:</span> <span class="n">dipaiNo</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">String</span> <span class="n">card</span> <span class="o">=</span> <span class="n">pokerMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="n">dipai</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">card</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="c1">//4.5 查看</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"令狐冲："</span><span class="o">+</span><span class="n">player1</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"石破天："</span><span class="o">+</span><span class="n">player2</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"鸠摩智："</span><span class="o">+</span><span class="n">player3</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"底牌："</span><span class="o">+</span><span class="n">dipai</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Collections</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="cm">/*
    斗地主综合案例:有序版本
    1.准备牌
    2.洗牌
    3.发牌
    4.排序
    5.看牌
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DouDiZhu</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//1.准备牌</span>
        <span class="c1">//创建一个Map集合,存储牌的索引和组装好的牌</span>
        <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">poker</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="c1">//创建一个List集合,存储牌的索引</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">pokerIndex</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="c1">//定义两个集合,存储花色和牌的序号</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">colors</span> <span class="o">=</span> <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"♠"</span><span class="o">,</span> <span class="s">"♥"</span><span class="o">,</span> <span class="s">"♣"</span><span class="o">,</span> <span class="s">"♦"</span><span class="o">);</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">numbers</span> <span class="o">=</span> <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"2"</span><span class="o">,</span> <span class="s">"A"</span><span class="o">,</span> <span class="s">"K"</span><span class="o">,</span> <span class="s">"Q"</span><span class="o">,</span> <span class="s">"J"</span><span class="o">,</span> <span class="s">"10"</span><span class="o">,</span> <span class="s">"9"</span><span class="o">,</span> <span class="s">"8"</span><span class="o">,</span> <span class="s">"7"</span><span class="o">,</span> <span class="s">"6"</span><span class="o">,</span> <span class="s">"5"</span><span class="o">,</span> <span class="s">"4"</span><span class="o">,</span> <span class="s">"3"</span><span class="o">);</span>
        <span class="c1">//把大王和小王存储到集合中</span>
        <span class="c1">//定义一个牌的索引</span>
        <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="n">poker</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">index</span><span class="o">,</span><span class="s">"大王"</span><span class="o">);</span>
        <span class="n">pokerIndex</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
        <span class="n">index</span><span class="o">++;</span>
        <span class="n">poker</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">index</span><span class="o">,</span><span class="s">"小王"</span><span class="o">);</span>
        <span class="n">pokerIndex</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
        <span class="n">index</span><span class="o">++;</span>
        <span class="c1">//循环嵌套遍历两个集合,组装52张牌,存储到集合中</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">number</span> <span class="o">:</span> <span class="n">numbers</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">color</span> <span class="o">:</span> <span class="n">colors</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">poker</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">index</span><span class="o">,</span><span class="n">color</span><span class="o">+</span><span class="n">number</span><span class="o">);</span>
                <span class="n">pokerIndex</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
                <span class="n">index</span><span class="o">++;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="c1">//System.out.println(poker);</span>
        <span class="c1">//System.out.println(pokerIndex);</span>

        <span class="cm">/*
            2.洗牌
            使用Collections中的方法shuffle(List)
         */</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">shuffle</span><span class="o">(</span><span class="n">pokerIndex</span><span class="o">);</span>
        <span class="c1">//System.out.println(pokerIndex);</span>

        <span class="cm">/*
            3.发牌
         */</span>
        <span class="c1">//定义4个集合,存储玩家牌的索引,和底牌的索引</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">player01</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">player02</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">player03</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">diPai</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="c1">//遍历存储牌索引的List集合,获取每一个牌的索引</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span><span class="n">pokerIndex</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="nc">Integer</span> <span class="n">in</span> <span class="o">=</span> <span class="n">pokerIndex</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="c1">//先判断底牌</span>
            <span class="k">if</span><span class="o">(</span><span class="n">i</span><span class="o">&gt;=</span><span class="mi">51</span><span class="o">){</span>
                <span class="c1">//给底牌发牌</span>
                <span class="n">diPai</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
            <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">i</span><span class="o">%</span><span class="mi">3</span><span class="o">==</span><span class="mi">0</span><span class="o">){</span>
                <span class="c1">//给玩家1发牌</span>
                <span class="n">player01</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
            <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">i</span><span class="o">%</span><span class="mi">3</span><span class="o">==</span><span class="mi">1</span><span class="o">){</span>
                <span class="c1">//给玩家2发牌</span>
                <span class="n">player02</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
            <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">i</span><span class="o">%</span><span class="mi">3</span><span class="o">==</span><span class="mi">2</span><span class="o">){</span>
                <span class="c1">//给玩家3发牌</span>
                <span class="n">player03</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="cm">/*
            4.排序
            使用Collections中的方法sort(List)
            默认是升序排序
         */</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">player01</span><span class="o">);</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">player02</span><span class="o">);</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">player03</span><span class="o">);</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">diPai</span><span class="o">);</span>

        <span class="cm">/*
            5.看牌
            调用看牌的方法
         */</span>
        <span class="n">lookPoker</span><span class="o">(</span><span class="s">"刘德华"</span><span class="o">,</span><span class="n">poker</span><span class="o">,</span><span class="n">player01</span><span class="o">);</span>
        <span class="n">lookPoker</span><span class="o">(</span><span class="s">"周润发"</span><span class="o">,</span><span class="n">poker</span><span class="o">,</span><span class="n">player02</span><span class="o">);</span>
        <span class="n">lookPoker</span><span class="o">(</span><span class="s">"周星驰"</span><span class="o">,</span><span class="n">poker</span><span class="o">,</span><span class="n">player03</span><span class="o">);</span>
        <span class="n">lookPoker</span><span class="o">(</span><span class="s">"底牌"</span><span class="o">,</span><span class="n">poker</span><span class="o">,</span><span class="n">diPai</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/*
        定义一个看牌的方法,提高代码的复用性
        参数:
            String name:玩家名称
            HashMap&lt;Integer,String&gt; poker:存储牌的poker集合
            ArrayList&lt;Integer&gt; list:存储玩家和底牌的List集合
        查表法:
             遍历玩家或者底牌集合,获取牌的索引
             使用牌的索引,去Map集合中,找到对应的牌
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">lookPoker</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">,</span><span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">poker</span><span class="o">,</span><span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">){</span>
        <span class="c1">//输出玩家名称,不换行</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">name</span><span class="o">+</span><span class="s">":"</span><span class="o">);</span>
        <span class="c1">//遍历玩家或者底牌集合,获取牌的索引</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">Integer</span> <span class="n">key</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">//使用牌的索引,去Map集合中,找到对应的牌</span>
            <span class="nc">String</span> <span class="n">value</span> <span class="o">=</span> <span class="n">poker</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">value</span><span class="o">+</span><span class="s">" "</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span><span class="c1">//打印完每一个玩家的牌,换行</span>
    <span class="o">}</span>

<span class="o">}</span>

</code></pre></div></div> <div style="margin-top:2em;padding:0 1.5em;border:1px solid #d3d3d3;background-color:#deebf7"> <h3>文档信息</h3> <ul> <li>本文作者：<a href="https://blog.slienceme.cn" target="_blank">slience_me</a></li> <li>本文链接：<a href="https://blog.slienceme.cn/2021/01/25/Java%E8%AF%AD%E8%A8%80%E9%AB%98%E7%BA%A7-%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86-%E5%B8%B8%E7%94%A8API%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86_%E9%9B%86%E5%90%88/" target="_blank">https://blog.slienceme.cn/2021/01/25/Java%E8%AF%AD%E8%A8%80%E9%AB%98%E7%BA%A7-%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86-%E5%B8%B8%E7%94%A8API%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86_%E9%9B%86%E5%90%88/</a></li> <li>版权声明：自由转载-非商用-非衍生-保持署名（<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank">创意共享3.0许可证</a>）</li> </ul> </div> </article> <div class="share"> <div class="share-component" data-disabled='qq,facebook'></div> </div> <div class="comment"> <script src="https://giscus.app/client.js" data-repo="slience-me/blog-comments" data-repo-id="R_kgDOKr27jA" data-category="Announcements" data-category-id="DIC_kwDOKr27jM4CnWMe" data-mapping="title" data-strict="1" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous" async> </script> </div> </div> <div class="column one-fourth"> <h3>Search</h3> <div id="site_search"> <input style="width:96%" type="text" id="search_box" placeholder="Search"> </div> <ul id="search_results" style="font-size:14px;list-style-type:none;padding-top:10px;padding-left:10px;"></ul> <script src="https://blog.slienceme.cn/assets/js/simple-jekyll-search.min.js"></script> <script type="text/javascript"> SimpleJekyllSearch({ searchInput: document.getElementById('search_box'), resultsContainer: document.getElementById('search_results'), json: 'https://blog.slienceme.cn/assets/search_data.json?v=1740641696', searchResultTemplate: '<li><a href="{url}" title="{title}">{title}</a></li>', noResultsText: 'No results found', limit: 10, fuzzy: false, exclude: ['Welcome'] }) </script> <h3 class="post-directory-title mobile-hidden">Table of Contents</h3> <div id="post-directory-module" class="mobile-hidden"> <section class="post-directory"> <dl></dl> </section> </div> <script src="https://blog.slienceme.cn/assets/js/jquery.toc.js"></script> </div> </div> </section> <footer class="container"> <div class="site-footer" role="contentinfo"> <div class="copyright left mobile-block"> Copyright@ 2019-2025 slience_me 版权所有&emsp; <img src="/images/logo/logo.png" class="w-full" style="width: 12px;"> <a href="https://beian.mps.gov.cn/#/query/webSearch?code=13102202000626" rel="noreferrer" target="_blank">冀公网安备13102202000626</a>&emsp; <a href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank" rel="noreferrer">津ICP备2024026565号-1</a> <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a> </div> <ul class="site-footer-links right mobile-hidden"> <li> <a href="javascript:window.scrollTo(0,0)" >TOP</a> </li> </ul> <br/> <script defer src="https://vercount.one/js"></script> <div class="mobile-hidden" style="margin-top:8px"> <span id="busuanzi_container_site_pv" style="display:none"> 本站访问量<span id="busuanzi_value_site_pv"></span>次 </span> <span id="busuanzi_container_site_uv" style="display:none"> / 本站访客数<span id="busuanzi_value_site_uv"></span>人 </span> <span id="busuanzi_container_page_pv" style="display:none"> / 本页访问量<span id="busuanzi_value_page_pv"></span>次 / 统计始于2024-12-01 </span> </div> </div> </footer> <div class="tools-wrapper"> <a class="gotop" href="#" title="回到顶部"><span class="octicon octicon-arrow-up"></span></a> </div> <script src="https://blog.slienceme.cn/assets/vendor/share.js/dist/js/share.min.js"></script> <script src="https://blog.slienceme.cn/assets/js/geopattern.js"></script> <script> jQuery(document).ready(function($) { $('.geopattern').each(function(){ $(this).geopattern($(this).data('pattern-id')); }); /* hljs.initHighlightingOnLoad(); */ }); </script> </body> </html>
