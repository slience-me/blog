<!DOCTYPE html> <html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /> <title>数据库｜MySQL约束 &mdash; Slience_me的博客</title> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/vendor/primer-css/css/primer.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/components/collection.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/components/repo-card.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/sections/repo-list.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/components/boxed-group.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/globals/common.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/globals/responsive.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/posts/index.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/vendor/octicons/octicons/octicons.css"> <link rel="stylesheet" href=" https://cdn.jsdelivr.net/npm/@docsearch/css@3 "/> <link rel="stylesheet" href="https://mazhuang.org/rouge-themes/dist/github.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/vendor/share.js/dist/css/share.min.css"> <link rel="canonical" href="https://blog.slienceme.cn/2021/01/30/MySQL%E7%BA%A6%E6%9D%9F/"> <link rel="alternate" type="application/atom+xml" title="Slience_me的博客" href="https://blog.slienceme.cn/feed.xml"> <link rel="shortcut icon" href="https://blog.slienceme.cn/favicon.ico"> <meta property="og:title" content="数据库｜MySQL约束"> <meta name="keywords" content="数据库"> <meta name="og:keywords" content="数据库"> <meta name="description" content=""> <meta name="og:description" content=""> <meta property="og:url" content="https://blog.slienceme.cn/2021/01/30/MySQL%E7%BA%A6%E6%9D%9F/"> <meta property="og:site_name" content="Slience_me的博客"> <meta property="og:type" content="article"> <meta property="og:locale" content="zh_CN" /> <meta property="article:published_time" content="2021-01-30"> <meta name="google-site-verification" content="2feHjT1GNs1Yi2JQfOtdYx7d048naG_-cMwZaDAopIA" /> <script src="https://blog.slienceme.cn/assets/vendor/jquery/dist/jquery.min.js"></script> <script src="https://blog.slienceme.cn/assets/js/main.js"></script> </head> <body class="" data-mz=""> <header class="site-header"> <div class="container"> <h1><a href="https://blog.slienceme.cn/" title="Slience_me的博客"><span class="octicon octicon-mark-github"></span> Slience_me的博客</a></h1> <button class="collapsed mobile-visible" type="button" onclick="toggleMenu();"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <nav class="site-header-nav" role="navigation"> <a href="https://blog.slienceme.cn/" class="site-header-nav-item" target="" title="首页">首页</a> <a href="https://blog.slienceme.cn/categories/" class="site-header-nav-item" target="" title="分类">分类</a> <a href="https://blog.slienceme.cn/archives/" class="mobile-hidden site-header-nav-item" target="" title="归档">归档</a> <a href="https://blog.slienceme.cn/open-source/" class="mobile-hidden site-header-nav-item" target="" title="开源">开源</a> <a href="https://blog.slienceme.cn/fragments/" class="site-header-nav-item" target="" title="片段">片段</a> <a href="https://blog.slienceme.cn/wiki/" class="site-header-nav-item" target="" title="维基">维基</a> <a href="https://blog.slienceme.cn/links/" class="mobile-hidden site-header-nav-item" target="" title="链接">链接</a> <a href="https://blog.slienceme.cn/about/" class="site-header-nav-item" target="" title="关于">关于</a> <a class="mobile-hidden" href="https://blog.slienceme.cn/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a> </nav> </div> </header> <section class="collection-head small geopattern" data-pattern-id="数据库｜MySQL约束"> <div class="container"> <div class="columns"> <div class="column three-fourths"> <div class="collection-title"> <h1 class="collection-header">数据库｜MySQL约束</h1> <div class="collection-info"> <span class="meta-info"> <span class="octicon octicon-calendar"></span> 2021/01/30 </span> <span class="meta-info"> <span class="octicon octicon-file-directory"></span> <a href="https://blog.slienceme.cn/categories/#数据库" title="数据库">数据库</a> </span> <span class="meta-info"> <span class="octicon octicon-clock"></span> 共 5083 字，约 15 分钟 </span> </div> </div> </div> <div class="column one-fourth mobile-hidden"> <div class="collection-title"> </div> </div> </div> </div> </section> <section class="container content"> <div class="columns"> <div class="column three-fourths" > <article class="article-content markdown-body"> <p><img src="https://blog.slienceme.cn/images/posts/logo_slienceme3.png" alt="img" /></p> <p>本文作者： <a href="https://slienceme.cn/">slience_me</a></p> <hr /> <h1 id="mysql约束">MySQL约束</h1> <ol> <li>DQL:查询语句 <ol> <li>排序查询</li> <li>聚合函数</li> <li>分组查询</li> <li>分页查询</li> </ol> </li> <li>约束</li> <li>多表之间的关系</li> <li>范式</li> <li>数据库的备份和还原</li> </ol> <h1 id="dql查询语句">DQL:查询语句</h1> <h2 id="1-排序查询">1. 排序查询</h2> <p>语法：<code class="language-plaintext highlighter-rouge">order by 子句</code> <code class="language-plaintext highlighter-rouge">order by 排序字段1 排序方式1 ， 排序字段2 排序方式2...</code></p> <p>排序方式： <code class="language-plaintext highlighter-rouge">ASC</code>：升序，默认的。 <code class="language-plaintext highlighter-rouge">DESC</code>：降序。</p> <p>注意： 如果有多个排序条件，则当前边的条件值一样时，才会判断第二条件。</p> <h2 id="2-聚合函数将一列数据作为一个整体进行纵向的计算">2. 聚合函数：将一列数据作为一个整体，进行纵向的计算。</h2> <ol> <li><code class="language-plaintext highlighter-rouge">count</code>：计算个数 <ol> <li>一般选择非空的列：主键</li> <li>count(*)</li> </ol> </li> <li><code class="language-plaintext highlighter-rouge">max</code>：计算最大值</li> <li><code class="language-plaintext highlighter-rouge">min</code>：计算最小值</li> <li><code class="language-plaintext highlighter-rouge">sum</code>：计算和</li> <li><code class="language-plaintext highlighter-rouge">avg</code>：计算平均值</li> </ol> <p>注意：聚合函数的计算，排除null值。 解决方案： 1. 选择不包含非空的列进行计算 2. <code class="language-plaintext highlighter-rouge">IFNULL</code>函数</p> <h2 id="3-分组查询">3. 分组查询:</h2> <ol> <li>语法：<code class="language-plaintext highlighter-rouge">group by 分组字段；</code></li> <li>注意： <ol> <li>分组之后查询的字段：分组字段、聚合函数</li> <li>where 和 having 的区别？ <ol> <li>where 在分组之前进行限定，如果不满足条件，则不参与分组。having在分组之后进行限定，如果不满足结果，则不会被查询出来</li> <li>where 后不可以跟聚合函数，having可以进行聚合函数的判断。</li> </ol> </li> </ol> <hr /> <p><strong>按照性别分组。分别查询男、女同学的平均分</strong></p> <p><code class="language-plaintext highlighter-rouge">SELECT sex , AVG(math) FROM student GROUP BY sex;</code></p> <p><strong>按照性别分组。分别查询男、女同学的平均分,人数</strong></p> <p><code class="language-plaintext highlighter-rouge">SELECT sex , AVG(math),COUNT(id) FROM student GROUP BY sex;</code></p> <p><strong>按照性别分组。分别查询男、女同学的平均分,人数 要求：分数低于70分的人，不参与分组</strong> <code class="language-plaintext highlighter-rouge">SELECT sex , AVG(math),COUNT(id) FROM student WHERE math &gt; 70 GROUP BY sex;</code></p> <p><strong>按照性别分组。分别查询男、女同学的平均分,人数 要求：分数低于70分的人，不参与分组,分组之后。人数要大于2个人</strong> <code class="language-plaintext highlighter-rouge">SELECT sex , AVG(math),COUNT(id) FROM student WHERE math &gt; 70 GROUP BY sex HAVING COUNT(id) &gt; 2;</code></p> <p><code class="language-plaintext highlighter-rouge">SELECT sex , AVG(math),COUNT(id) 人数 FROM student WHERE math &gt; 70 GROUP BY sex HAVING 人数 &gt; 2;</code></p> </li> </ol> <h2 id="4-分页查询">4. 分页查询</h2> <ol> <li>语法：limit 开始的索引,每页查询的条数;</li> <li> <p>公式：开始的索引 = （当前的页码 - 1） * 每页显示的条数 – 每页显示3条记录</p> <p><code class="language-plaintext highlighter-rouge">SELECT * FROM student LIMIT 0,3; -- 第1页</code></p> <p><code class="language-plaintext highlighter-rouge">SELECT * FROM student LIMIT 3,3; -- 第2页</code></p> <p><code class="language-plaintext highlighter-rouge">SELECT * FROM student LIMIT 6,3; -- 第3页</code></p> </li> <li>limit 是一个MySQL”方言”</li> </ol> <h2 id="约束">约束</h2> <p>概念： 对表中的数据进行限定，保证数据的正确性、有效性和完整性。</p> <ul> <li>分类： 1. 主键约束：primary key 2. 非空约束：not null 3. 唯一约束：unique 4. 外键约束：foreign key</li> </ul> <hr /> <h3 id="1-非空约束not-null值不能为null">1. 非空约束：not null，值不能为null</h3> <p><strong>1. 创建表时添加约束</strong></p> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">stu</span><span class="p">(</span>
				<span class="n">id</span> <span class="nb">INT</span><span class="p">,</span>
				<span class="n">NAME</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="c1">-- name为非空</span>
			<span class="p">);</span>
</code></pre></div></div> <p><strong>2. 创建表完后，添加非空约束</strong> <code class="language-plaintext highlighter-rouge">ALTER TABLE stu MODIFY NAME VARCHAR(20) NOT NULL;</code></p> <p><strong>3. 删除name的非空约束</strong> <code class="language-plaintext highlighter-rouge">ALTER TABLE stu MODIFY NAME VARCHAR(20);</code></p> <hr /> <h3 id="2-唯一约束unique值不能重复">2. 唯一约束：unique，值不能重复</h3> <p><strong>1. 创建表时，添加唯一约束</strong></p> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">stu</span><span class="p">(</span>
				<span class="n">id</span> <span class="nb">INT</span><span class="p">,</span>
				<span class="n">phone_number</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">UNIQUE</span> <span class="c1">-- 添加了唯一约束</span>
			
			<span class="p">);</span>
</code></pre></div></div> <ul> <li>注意mysql中，唯一约束限定的列的值可以有多个null</li> </ul> <p><strong>2. 删除唯一约束</strong></p> <p><code class="language-plaintext highlighter-rouge">ALTER TABLE stu DROP INDEX phone_number;</code></p> <p><strong>3. 在创建表后，添加唯一约束</strong></p> <p><code class="language-plaintext highlighter-rouge">ALTER TABLE stu MODIFY phone_number VARCHAR(20) UNIQUE;</code></p> <hr /> <h3 id="3-主键约束primary-key">3. 主键约束：primary key。</h3> <p><strong>1. 注意：</strong></p> <blockquote> <ol> <li>含义：非空且唯一 <ol> <li>一张表只能有一个字段为主键</li> <li>主键就是表中记录的唯一标识</li> </ol> </li> </ol> </blockquote> <p><strong>2. 在创建表时，添加主键约束</strong></p> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">create</span> <span class="k">table</span> <span class="n">stu</span><span class="p">(</span>
				<span class="n">id</span> <span class="nb">int</span> <span class="k">primary</span> <span class="k">key</span><span class="p">,</span><span class="c1">-- 给id添加主键约束</span>
				<span class="n">name</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
			<span class="p">);</span>
</code></pre></div></div> <p><strong>3. 删除主键</strong></p> <ul> <li>错误 <del>alter table stu modify id int ;</del> <code class="language-plaintext highlighter-rouge">ALTER TABLE stu DROP PRIMARY KEY;</code></li> </ul> <p><strong>4. 创建完表后，添加主键</strong> <code class="language-plaintext highlighter-rouge">ALTER TABLE stu MODIFY id INT PRIMARY KEY;</code></p> <p><strong>5. 自动增长：</strong></p> <ol> <li>概念：如果某一列是数值类型的，使用 auto_increment 可以来完成值得自动增长</li> <li>在创建表时，添加主键约束，并且完成主键自增长 <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">create</span> <span class="k">table</span> <span class="n">stu</span><span class="p">(</span>
             <span class="n">id</span> <span class="nb">int</span> <span class="k">primary</span> <span class="k">key</span> <span class="n">auto_increment</span><span class="p">,</span><span class="c1">-- 给id添加主键约束</span>
             <span class="n">name</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
         <span class="p">);</span>
</code></pre></div> </div> </li> <li>删除自动增长 <code class="language-plaintext highlighter-rouge">ALTER TABLE stu MODIFY id INT;</code></li> <li>添加自动增长 <code class="language-plaintext highlighter-rouge">ALTER TABLE stu MODIFY id INT AUTO_INCREMENT;</code></li> </ol> <hr /> <h3 id="4外键约束foreign-key让表于表产生关系从而保证数据的正确性">4.外键约束：foreign key,让表于表产生关系，从而保证数据的正确性。</h3> <p><strong>1. 在创建表时，可以添加外键</strong></p> <ul> <li>语法： ```sql</li> </ul> <p>create table 表名( …. 外键列 constraint 外键名称 foreign key (外键列名称) references 主表名称(主表列名称) );</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
**2. 删除外键**
	 `ALTER TABLE 表名 DROP FOREIGN KEY 外键名称;`

**3. 创建表之后，添加外键**
	 `ALTER TABLE 表名 ADD CONSTRAINT 外键名称 FOREIGN KEY (外键字段名称) REFERENCES 主表名称(主表列名称);`
		
		
**4. 级联操作**
		1. 添加级联操作
			语法：`ALTER TABLE 表名 ADD CONSTRAINT 外键名称` 
			 `FOREIGN KEY (外键字段名称) REFERENCES 主表名称(主表列名称) ON UPDATE CASCADE ON DELETE CASCADE  ;`
		2. 分类：
				1. 级联更新：`ON UPDATE CASCADE` 
				2. 级联删除：`ON DELETE CASCADE` 
	

## 数据库的设计

### 1. 多表之间的关系
#### 1.1 分类：
- **一对一(了解)：**
	- 如：人和身份证
	- 分析：一个人只有一个身份证，一个身份证只能对应一个人
- **一对多(多对一)：**
	* 如：部门和员工
	* 分析：一个部门有多个员工，一个员工只能对应一个部门
- **多对多：**
	* 如：学生和课程
	* 分析：一个学生可以选择很多门课程，一个课程也可以被很多学生选择
#### 1.2 实现关系：
- **一对多(多对一)：**
	* 如：部门和员工
	* 实现方式：在多的一方建立外键，指向一的一方的主键。
- **多对多：**
	* 如：学生和课程
	* 实现方式：多对多关系实现需要借助第三张中间表。中间表至少包含两个字段，这两个字段作为第三张表的外键，分别指向两张表的主键
- **一对一(了解)：**
	* 如：人和身份证
	* 实现方式：一对一关系实现，可以在任意一方添加唯一外键指向另一方的主键。

#### 1.3 案例


	

```sql
		-- 创建旅游线路分类表 tab_category
		-- cid 旅游线路分类主键，自动增长
		-- cname 旅游线路分类名称非空，唯一，字符串 100	
		CREATE TABLE tab_category (
						cid INT PRIMARY KEY AUTO_INCREMENT,
						cname VARCHAR(100) NOT NULL UNIQUE
					);
</code></pre></div></div> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>		<span class="cm">/*创建旅游线路表 tab_route
		rid 旅游线路主键，自动增长
		rname 旅游线路名称非空，唯一，字符串 100
		price 价格
		rdate 上架时间，日期类型
		cid 外键，所属分类
		*/</span>
		<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">tab_route</span><span class="p">(</span>
			<span class="n">rid</span> <span class="nb">INT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
			<span class="n">rname</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">UNIQUE</span><span class="p">,</span>
			<span class="n">price</span> <span class="nb">DOUBLE</span><span class="p">,</span>
			<span class="n">rdate</span> <span class="nb">DATE</span><span class="p">,</span>
			<span class="n">cid</span> <span class="nb">INT</span><span class="p">,</span>
			<span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">cid</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">tab_category</span><span class="p">(</span><span class="n">cid</span><span class="p">)</span>
		<span class="p">);</span>
</code></pre></div></div> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>			<span class="cm">/*创建用户表 tab_user
			uid 用户主键，自增长
			username 用户名长度 100，唯一，非空
			password 密码长度 30，非空
			name 真实姓名长度 100
			birthday 生日
			sex 性别，定长字符串 1
			telephone 手机号，字符串 11
			email 邮箱，字符串长度 100
			*/</span>
			<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">tab_user</span> <span class="p">(</span>
				<span class="n">uid</span> <span class="nb">INT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
				<span class="n">username</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">UNIQUE</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
				<span class="n">PASSWORD</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
				<span class="n">NAME</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
				<span class="n">birthday</span> <span class="nb">DATE</span><span class="p">,</span>
				<span class="n">sex</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="k">DEFAULT</span> <span class="s1">'男'</span><span class="p">,</span>
				<span class="n">telephone</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">11</span><span class="p">),</span>
				<span class="n">email</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
			<span class="p">);</span>		
</code></pre></div></div> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>			<span class="cm">/*创建收藏表 tab_favorite
			rid 旅游线路 id，外键
			date 收藏时间
			uid 用户 id，外键
			rid 和 uid 不能重复，设置复合主键，同一个用户不能收藏同一个线路两次
			*/</span>
			<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">tab_favorite</span> <span class="p">(</span>
				<span class="n">rid</span> <span class="nb">INT</span><span class="p">,</span> <span class="c1">-- 线路id</span>
				<span class="nb">DATE</span> <span class="nb">DATETIME</span><span class="p">,</span>
				<span class="n">uid</span> <span class="nb">INT</span><span class="p">,</span> <span class="c1">-- 用户id</span>
				<span class="c1">-- 创建复合主键</span>
				<span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">(</span><span class="n">rid</span><span class="p">,</span><span class="n">uid</span><span class="p">),</span> <span class="c1">-- 联合主键</span>
				<span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">rid</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">tab_route</span><span class="p">(</span><span class="n">rid</span><span class="p">),</span>
				<span class="k">FOREIGN</span> <span class="k">KEY</span><span class="p">(</span><span class="n">uid</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">tab_user</span><span class="p">(</span><span class="n">uid</span><span class="p">)</span>
			<span class="p">);</span>
</code></pre></div></div> <h3 id="2-数据库设计的范式">2. 数据库设计的范式</h3> <ul> <li>概念：设计数据库时，需要遵循的一些规范。要遵循后边的范式要求，必须先遵循前边的所有范式要求</li> </ul> <blockquote> <p>设计关系数据库时，遵从不同的规范要求，设计出合理的关系型数据库，这些不同的规范要求被称为不同的范式，各种范式呈递次规范，越高的范式数据库冗余越小。</p> </blockquote> <blockquote> <p>目前关系数据库有六种范式：第一范式（1NF）、第二范式（2NF）、第三范式（3NF）、巴斯-科德范式（BCNF）、第四范式(4NF）和第五范式（5NF，又称完美范式）。</p> </blockquote> <ul> <li>分类： <ol> <li><strong>第一范式（1NF）</strong>：每一列都是不可分割的原子数据项</li> </ol> </li> </ul> <ol> <li><strong>第二范式（2NF）</strong>：在1NF的基础上，非码属性必须完全依赖于码（在1NF基础上消除非主属性对主码的部分函数依赖） <ul> <li>几个概念： <ol> <li><strong>函数依赖</strong>：A–&gt;B,如果通过A属性(属性组)的值，可以确定唯一B属性的值。则称B依赖于A 例如：学号–&gt;姓名。 （学号，课程名称） –&gt; 分数</li> <li><strong>完全函数依赖</strong>：A–&gt;B， 如果A是一个属性组，则B属性值得确定需要依赖于A属性组中所有的属性值。 例如：（学号，课程名称） –&gt; 分数</li> <li><strong>部分函数依赖</strong>：A–&gt;B， 如果A是一个属性组，则B属性值得确定只需要依赖于A属性组中某一些值即可。 例如：（学号，课程名称） – &gt; 姓名</li> <li><strong>传递函数依赖</strong>：A–&gt;B, B – &gt;C . 如果通过A属性(属性组)的值，可以确定唯一B属性的值，在通过B属性（属性组）的值可以确定唯一C属性的值，则称 C 传递函数依赖于A 例如：学号–&gt;系名，系名–&gt;系主任</li> <li><strong>码</strong>：如果在一张表中，一个属性或属性组，被其他所有属性所完全依赖，则称这个属性(属性组)为该表的码 例如：该表中码为：（学号，课程名称） <ul> <li>主属性：码属性组中的所有属性</li> <li>非主属性：除过码属性组的属性</li> </ul> </li> </ol> </li> </ul> </li> <li><strong>第三范式（3NF）</strong>：在2NF基础上，任何非主属性不依赖于其它非主属性（在2NF基础上消除传递依赖）</li> </ol> <p>图解：</p> <p><strong>第一范式（1NF）</strong> <img src="https://blog.slienceme.cn/images/posts/20210130204649727.png" alt="Alt Text" /> <strong>第二范式（2NF）</strong> <img src="https://blog.slienceme.cn/images/posts/20210130204728102.png" alt="Alt Text" /> <strong>第三范式（3NF）</strong> <img src="https://blog.slienceme.cn/images/posts/2021013020474778.png" alt="Alt Text" /></p> <h2 id="数据库的备份和还原">数据库的备份和还原</h2> <ol> <li>命令行： <ul> <li>语法：</li> <li>备份： <code class="language-plaintext highlighter-rouge">mysqldump -u用户名 -p密码 数据库名称 &gt; 保存的路径</code></li> <li>还原： <ol> <li>登录数据库</li> <li>创建数据库</li> <li>使用数据库</li> <li>执行文件。<code class="language-plaintext highlighter-rouge">source 文件路径</code></li> </ol> </li> </ul> </li> <li>图形化工具：</li> </ol> <div style="margin-top:2em;padding:0 1.5em;border:1px solid #d3d3d3;background-color:#deebf7"> <h3>文档信息</h3> <ul> <li>本文作者：<a href="https://blog.slienceme.cn" target="_blank">slience_me</a></li> <li>本文链接：<a href="https://blog.slienceme.cn/2021/01/30/MySQL%E7%BA%A6%E6%9D%9F/" target="_blank">https://blog.slienceme.cn/2021/01/30/MySQL%E7%BA%A6%E6%9D%9F/</a></li> <li>版权声明：自由转载-非商用-非衍生-保持署名（<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank">创意共享3.0许可证</a>）</li> </ul> </div> </article> <div class="share"> <div class="share-component" data-disabled='qq,facebook'></div> </div> <div class="comment"> <script src="https://giscus.app/client.js" data-repo="slience-me/blog-comments" data-repo-id="R_kgDOKr27jA" data-category="Announcements" data-category-id="DIC_kwDOKr27jM4CnWMe" data-mapping="title" data-strict="1" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous" async> </script> </div> </div> <div class="column one-fourth"> <h3>Search</h3> <div id="site_search"> <input style="width:96%" type="text" id="search_box" placeholder="Search"> </div> <ul id="search_results" style="font-size:14px;list-style-type:none;padding-top:10px;padding-left:10px;"></ul> <script src="https://blog.slienceme.cn/assets/js/simple-jekyll-search.min.js"></script> <script src=" https://cdn.jsdelivr.net/npm/@docsearch/js@3 "></script> <script type="text/javascript"> docsearch({ appId: "8W5T6R2WWG", apiKey: "e56e511c7c9f85e2c97e2817664aafb2", indexName: "doc", container: "#search_box", debug: false }); // SimpleJekyllSearch({ // searchInput: document.getElementById('search_box'), // resultsContainer: document.getElementById('search_results'), // // json: 'https://blog.slienceme.cn/assets/search_data.json?v=1740710306', // // searchResultTemplate: '<li><a href="{url}" title="{title}">{title}</a></li>', // noResultsText: 'No results found', // limit: 10, // fuzzy: false, // exclude: ['Welcome'] // }) </script> <h3 class="post-directory-title mobile-hidden">Table of Contents</h3> <div id="post-directory-module" class="mobile-hidden"> <section class="post-directory"> <dl></dl> </section> </div> <script src="https://blog.slienceme.cn/assets/js/jquery.toc.js"></script> </div> </div> </section> <footer class="container"> <div class="site-footer" role="contentinfo"> <div class="copyright left mobile-block"> <div style="display: flex;align-items: center;justify-content: center;"> <img src="/images/logo/logo.png" class="w-full" style="height: 10px;width: 10px;" alt="logo" />;"> <p> <a href="https://beian.mps.gov.cn/" rel="noreferrer" target="_blank">冀公网安备13102202000626</a> | <a href="https://beian.miit.gov.cn/" target="_blank" rel="noreferrer">津ICP备2024026565号-1</a> </p> </div> <p style="display: flex;align-items: center;justify-content: center;"> Copyright © 2019-present slience_me </p> <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a> </div> <ul class="site-footer-links right mobile-hidden"> <li> <a href="javascript:window.scrollTo(0,0)" >TOP</a> </li> </ul> <br/> <script defer src="https://vercount.one/js"></script> <div class="mobile-hidden" style="margin-top:8px"> <span id="busuanzi_container_site_pv" style="display:none"> 本站访问量<span id="busuanzi_value_site_pv"></span>次 </span> <span id="busuanzi_container_site_uv" style="display:none"> / 本站访客数<span id="busuanzi_value_site_uv"></span>人 </span> <span id="busuanzi_container_page_pv" style="display:none"> / 本页访问量<span id="busuanzi_value_page_pv"></span>次 / 统计始于2024-12-01 </span> </div> </div> </footer> <div class="tools-wrapper"> <a class="gotop" href="#" title="回到顶部"><span class="octicon octicon-arrow-up"></span></a> </div> <script src="https://blog.slienceme.cn/assets/vendor/share.js/dist/js/share.min.js"></script> <script src="https://blog.slienceme.cn/assets/js/geopattern.js"></script> <script> jQuery(document).ready(function($) { $('.geopattern').each(function(){ $(this).geopattern($(this).data('pattern-id')); }); /* hljs.initHighlightingOnLoad(); */ }); </script> </body> </html>
