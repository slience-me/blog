<!DOCTYPE html> <html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /> <title>前端｜Web基础_Webpack基础 &mdash; Slience_me的博客</title> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/vendor/primer-css/css/primer.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/components/collection.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/components/repo-card.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/sections/repo-list.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/components/boxed-group.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/globals/common.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/globals/responsive.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/posts/index.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/vendor/octicons/octicons/octicons.css"> <link rel="stylesheet" href="https://mazhuang.org/rouge-themes/dist/github.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/vendor/share.js/dist/css/share.min.css"> <link rel="canonical" href="https://blog.slienceme.cn/2021/07/29/Webpack%E5%9F%BA%E7%A1%80/"> <link rel="alternate" type="application/atom+xml" title="Slience_me的博客" href="https://blog.slienceme.cn/feed.xml"> <link rel="shortcut icon" href="https://blog.slienceme.cn/favicon.ico"> <meta property="og:title" content="前端｜Web基础_Webpack基础"> <meta name="keywords" content="前端, Web"> <meta name="og:keywords" content="前端, Web"> <meta name="description" content=""> <meta name="og:description" content=""> <meta property="og:url" content="https://blog.slienceme.cn/2021/07/29/Webpack%E5%9F%BA%E7%A1%80/"> <meta property="og:site_name" content="Slience_me的博客"> <meta property="og:type" content="article"> <meta property="og:locale" content="zh_CN" /> <meta property="article:published_time" content="2021-07-29"> <meta name="google-site-verification" content="2feHjT1GNs1Yi2JQfOtdYx7d048naG_-cMwZaDAopIA" /> <script src="https://blog.slienceme.cn/assets/vendor/jquery/dist/jquery.min.js"></script> <script src="https://blog.slienceme.cn/assets/js/main.js"></script> </head> <body class="" data-mz=""> <header class="site-header"> <div class="container"> <h1><a href="https://blog.slienceme.cn/" title="Slience_me的博客"><span class="octicon octicon-mark-github"></span> Slience_me的博客</a></h1> <button class="collapsed mobile-visible" type="button" onclick="toggleMenu();"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <nav class="site-header-nav" role="navigation"> <a href="https://blog.slienceme.cn/" class="site-header-nav-item" target="" title="首页">首页</a> <a href="https://blog.slienceme.cn/categories/" class="site-header-nav-item" target="" title="分类">分类</a> <a href="https://blog.slienceme.cn/archives/" class="mobile-hidden site-header-nav-item" target="" title="归档">归档</a> <a href="https://blog.slienceme.cn/open-source/" class="mobile-hidden site-header-nav-item" target="" title="开源">开源</a> <a href="https://blog.slienceme.cn/fragments/" class="site-header-nav-item" target="" title="片段">片段</a> <a href="https://blog.slienceme.cn/wiki/" class="site-header-nav-item" target="" title="维基">维基</a> <a href="https://blog.slienceme.cn/links/" class="mobile-hidden site-header-nav-item" target="" title="链接">链接</a> <a href="https://blog.slienceme.cn/about/" class="site-header-nav-item" target="" title="关于">关于</a> <a class="mobile-hidden" href="https://blog.slienceme.cn/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a> </nav> </div> </header> <section class="collection-head small geopattern" data-pattern-id="前端｜Web基础_Webpac"> <div class="container"> <div class="columns"> <div class="column three-fourths"> <div class="collection-title"> <h1 class="collection-header">前端｜Web基础_Webpack基础</h1> <div class="collection-info"> <span class="meta-info"> <span class="octicon octicon-calendar"></span> 2021/07/29 </span> <span class="meta-info"> <span class="octicon octicon-file-directory"></span> <a href="https://blog.slienceme.cn/categories/#前端" title="前端">前端</a> </span> <span class="meta-info"> <span class="octicon octicon-clock"></span> 共 7570 字，约 22 分钟 </span> </div> </div> </div> <div class="column one-fourth mobile-hidden"> <div class="collection-title"> </div> </div> </div> </div> </section> <section class="container content"> <div class="columns"> <div class="column three-fourths" > <article class="article-content markdown-body"> <p><img src="https://blog.slienceme.cn/images/posts/logo_slienceme3.png" alt="img" /></p> <p>本文作者： <a href="https://slienceme.cn/">slience_me</a></p> <hr /> <h1 id="webpack官网">Webpack官网</h1> <p><a href="https://webpack.docschina.org/">官网链接</a></p> <h2 id="1-认识webpack">1. 认识webpack</h2> <ul> <li>一个线代的<code class="language-plaintext highlighter-rouge">JavaScript</code>应用的静态<strong>模块打包</strong>工具 <img src="https://blog.slienceme.cn/images/posts/a2d4ae5c957e4d97baaaecaa962a67dc.png" alt="Alt Text" /> <h2 id="2-webpack的安装">2. webpack的安装</h2> <p>管理员模式运行cmd</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm i -g webpack
npm i -g webpack-cli
</code></pre></div> </div> <p><img src="https://blog.slienceme.cn/images/posts/346031446cd34d96a9832bfd9777a1ff.png" alt="Alt Text" /></p> </li> </ul> <h2 id="3-webpack的起步">3. webpack的起步</h2> <ul> <li>打包 入口文件 -o 保存路径</li> <li><code class="language-plaintext highlighter-rouge">webpack ./src/main.js -o ./dist/bundle.js</code></li> </ul> <p><img src="https://blog.slienceme.cn/images/posts/86722f0202244d998c998e525db3438b.png" alt="Alt Text" /> 配置打包文件开发模式、生产模式</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="o">=</span><span class="p">{</span>
  <span class="c1">// mode: 'production',</span>
  <span class="na">mode</span><span class="p">:</span> <span class="dl">'</span><span class="s1">development</span><span class="dl">'</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div></div> <ul> <li><code class="language-plaintext highlighter-rouge">main.js</code> ```js //1. 使用commonjs模块化规范 const {add,mul} = require(‘./mathUtils’) console.log(add(20, 30)); console.log(mul(20, 30));</li> </ul> <p>//2. 使用ES6的模块化的规范 import {name,age,height} from ‘./info’ console.log(name); console.log(age); console.log(height);</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- `info.js`

```js
//ES6导出
export const name = 'why';
export const age = 18;
export const height = 1.88;
</code></pre></div></div> <ul> <li><code class="language-plaintext highlighter-rouge">mathUtils.js</code></li> </ul> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">mul</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">num1</span> <span class="o">*</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">//commonjs导出</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">add</span><span class="p">,</span>
  <span class="nx">mul</span>
<span class="p">}</span>
</code></pre></div></div> <h2 id="4-webpack的配置">4. webpack的配置</h2> <ol> <li>创建<code class="language-plaintext highlighter-rouge">webpack.config.js</code> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">path</span><span class="dl">'</span><span class="p">)</span>
 <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="o">=</span><span class="p">{</span>
	
   <span class="na">entry</span><span class="p">:</span><span class="dl">'</span><span class="s1">./src/main.js</span><span class="dl">'</span><span class="p">,</span>    <span class="c1">//入口</span>
   <span class="na">output</span><span class="p">:{</span>
     <span class="na">path</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span><span class="dl">'</span><span class="s1">dist</span><span class="dl">'</span><span class="p">),</span> <span class="c1">//动态获取绝对路径</span>
     <span class="na">filename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bundle.js</span><span class="dl">'</span>
   <span class="p">},</span>   <span class="c1">//出口</span>
   <span class="na">mode</span><span class="p">:</span> <span class="dl">'</span><span class="s1">development</span><span class="dl">'</span><span class="p">,</span><span class="c1">//'production' 模式</span>
 <span class="p">}</span>
</code></pre></div> </div> </li> <li>输入命令，得到<code class="language-plaintext highlighter-rouge">package.json</code>文件 <code class="language-plaintext highlighter-rouge">scripts</code>的脚本在执行时，查找命令的顺序为： 先找本地的<code class="language-plaintext highlighter-rouge">node_modules/.bin</code>路径中对应的命令 如果没找到,会去全局的环境变量中寻找 <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> npm init
</code></pre></div> </div> <p>这里边的<code class="language-plaintext highlighter-rouge">scripts</code>，<code class="language-plaintext highlighter-rouge">命令名:指令</code>,之后用到<code class="language-plaintext highlighter-rouge">npm run build</code> <code class="language-plaintext highlighter-rouge">devDependencies</code>开发时依赖 <code class="language-plaintext highlighter-rouge">dependencies</code>生产环境依赖</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"meetwebpack"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
   </span><span class="nl">"main"</span><span class="p">:</span><span class="w"> </span><span class="s2">"index.js"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="s2">"echo </span><span class="se">\"</span><span class="s2">Error: no test specified</span><span class="se">\"</span><span class="s2"> &amp;&amp; exit 1"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"build"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webpack"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
   </span><span class="nl">"license"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ISC"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"devDependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"webpack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^3.6.0"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"webpack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^3.6.0"</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> <p>在终端或者cmd都是全局环境打包 局部环境：在终端输入 <code class="language-plaintext highlighter-rouge">./node_modules/webpack</code>执行</p> </li> <li><code class="language-plaintext highlighter-rouge">npm install webpack@3.6.0 --save-dev</code> <code class="language-plaintext highlighter-rouge">--save-dev </code>是开发时依赖，项目打包不需再使用 <h2 id="5-loader的使用">5. loader的使用</h2> <p>我们需要加载<code class="language-plaintext highlighter-rouge">css</code>、图片，也包括一些高级的将<code class="language-plaintext highlighter-rouge">ES6</code>转换成<code class="language-plaintext highlighter-rouge">ES5</code>代码，将<code class="language-plaintext highlighter-rouge">TypeScript</code>转换成<code class="language-plaintext highlighter-rouge">ES5</code>代码，将<code class="language-plaintext highlighter-rouge">scss</code>、<code class="language-plaintext highlighter-rouge">less</code>转成<code class="language-plaintext highlighter-rouge">css</code>，将<code class="language-plaintext highlighter-rouge">.jsx</code>、<code class="language-plaintext highlighter-rouge">.vue</code>文件转成<code class="language-plaintext highlighter-rouge">.js</code>文件等等 <img src="https://blog.slienceme.cn/images/posts/a58cf92d242a49d7ae794737bc0bea43.png" alt="Alt Text" /></p> <h3 id="51-css文件的处理">5.1 css文件的处理</h3> </li> <li>通过<code class="language-plaintext highlighter-rouge">npm</code>安装需要使用的<code class="language-plaintext highlighter-rouge">loader</code> 两个建议一起使用注意版本兼容 <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> npm install --save-dev css-loader@3.4.2
 npm install --save-dev style-loader@1.1.3
</code></pre></div> </div> </li> <li>在<code class="language-plaintext highlighter-rouge">webpack.config.js</code>中的<code class="language-plaintext highlighter-rouge">modules</code>关键字下进行配置 入门文件依赖一下 <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c1">//依赖css文件</span>
 <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./css/normal.css</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div> </div> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">path</span><span class="dl">'</span><span class="p">)</span>
 <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">entry</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./src/main.js</span><span class="dl">'</span><span class="p">,</span>    <span class="c1">//入口</span>
   <span class="na">output</span><span class="p">:</span> <span class="p">{</span>
     <span class="na">path</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">dist</span><span class="dl">'</span><span class="p">),</span> <span class="c1">//动态获取路径</span>
     <span class="na">filename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bundle.js</span><span class="dl">'</span>
   <span class="p">},</span>   <span class="c1">//出口</span>
   <span class="na">module</span><span class="p">:</span> <span class="p">{</span>
     <span class="na">rules</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
         <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">css$/i</span><span class="p">,</span>
         <span class="c1">//位置不能更改，底层是从右向左读取</span>
         <span class="c1">//css-loader只负责将css文件进行加载</span>
         <span class="c1">//style-loader负责将样式添加到DOM中</span>
         <span class="na">use</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">style-loader</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">css-loader</span><span class="dl">"</span><span class="p">],</span>
       <span class="p">},</span>
     <span class="p">],</span>
   <span class="p">}</span>
 <span class="p">}</span>
</code></pre></div> </div> <h3 id="52-less文件的处理">5.2 less文件的处理</h3> </li> <li>通过<code class="language-plaintext highlighter-rouge">npm</code>安装需要使用的<code class="language-plaintext highlighter-rouge">loader</code> 两个建议一起使用注意版本兼容 <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> npm install --save-dev less-loader@5.0.0
 npm install --save-dev less@3.11.1
</code></pre></div> </div> </li> <li>在<code class="language-plaintext highlighter-rouge">webpack.config.js</code>中的<code class="language-plaintext highlighter-rouge">modules</code>关键字下进行配置 入门文件依赖一下 <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c1">//依赖less文件</span>
 <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./css/special.less</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div> </div> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">path</span><span class="dl">'</span><span class="p">)</span>
 <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">entry</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./src/main.js</span><span class="dl">'</span><span class="p">,</span>    <span class="c1">//入口</span>
   <span class="na">output</span><span class="p">:</span> <span class="p">{</span>
     <span class="na">path</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">dist</span><span class="dl">'</span><span class="p">),</span> <span class="c1">//动态获取路径</span>
     <span class="na">filename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bundle.js</span><span class="dl">'</span>
   <span class="p">},</span>   <span class="c1">//出口</span>
   <span class="na">module</span><span class="p">:</span> <span class="p">{</span>
     <span class="na">rules</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
         <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">css$/i</span><span class="p">,</span>
         <span class="na">use</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">style-loader</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">css-loader</span><span class="dl">"</span><span class="p">],</span>
       <span class="p">},</span>
       <span class="p">{</span>
         <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">less$/i</span><span class="p">,</span>
         <span class="na">loader</span><span class="p">:</span> <span class="p">[</span>
           <span class="c1">// compiles Less to CSS</span>
           <span class="dl">'</span><span class="s1">style-loader</span><span class="dl">'</span><span class="p">,</span>
           <span class="dl">'</span><span class="s1">css-loader</span><span class="dl">'</span><span class="p">,</span>
           <span class="dl">'</span><span class="s1">less-loader</span><span class="dl">'</span><span class="p">,</span>
         <span class="p">],</span>
       <span class="p">},</span>
     <span class="p">],</span>
   <span class="p">},</span>
 <span class="p">}</span>
</code></pre></div> </div> <h3 id="53-图片文件的处理">5.3 图片文件的处理</h3> </li> <li>通过<code class="language-plaintext highlighter-rouge">npm</code>安装需要使用的<code class="language-plaintext highlighter-rouge">loader</code> 两个建议一起使用注意版本兼容 <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> npm install --save-dev file-loader@5.0.2
 npm install --save-dev url-loader@3.0.0
</code></pre></div> </div> </li> <li>在<code class="language-plaintext highlighter-rouge">webpack.config.js</code>中的<code class="language-plaintext highlighter-rouge">modules</code>关键字下进行配置 入门文件依赖一下 <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nx">body</span> <span class="p">{</span>
     <span class="cm">/*background-color: red;*/</span>
     <span class="nl">background</span><span class="p">:</span> <span class="nx">url</span><span class="p">(</span><span class="dl">"</span><span class="s2">../img/1.jpg</span><span class="dl">"</span><span class="p">);</span>
 <span class="p">}</span>
</code></pre></div> </div> <p><code class="language-plaintext highlighter-rouge">publicPath:'dist/'</code>防止找不到，<code class="language-plaintext highlighter-rouge">index.html</code>与不在<code class="language-plaintext highlighter-rouge">dict</code>文件夹时 <img src="https://blog.slienceme.cn/images/posts/e1241d4847304c73b15ed358640ad1f6.png" alt="Alt Text" /></p> <p><code class="language-plaintext highlighter-rouge">name: 'img/[name].[hash:8].[ext]'</code> <code class="language-plaintext highlighter-rouge">img</code>:文件要打包的文件夹 <code class="language-plaintext highlighter-rouge">name</code>:获取原来的图片名，放在该位置 <code class="language-plaintext highlighter-rouge">hash:8</code>:添加hash，保留8位 <code class="language-plaintext highlighter-rouge">ext</code>: 使用图片原来的扩展名 <code class="language-plaintext highlighter-rouge">limit: 8192</code> 限制大小8kb</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">path</span><span class="dl">'</span><span class="p">)</span>
 <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
	
   <span class="na">entry</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./src/main.js</span><span class="dl">'</span><span class="p">,</span>    <span class="c1">//入口</span>
   <span class="na">output</span><span class="p">:</span> <span class="p">{</span>
     <span class="na">path</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">dist</span><span class="dl">'</span><span class="p">),</span> <span class="c1">//动态获取路径</span>
     <span class="na">filename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bundle.js</span><span class="dl">'</span><span class="p">,</span>
     <span class="na">publicPath</span><span class="p">:</span><span class="dl">'</span><span class="s1">dist/</span><span class="dl">'</span>
   <span class="p">},</span>   <span class="c1">//出口</span>
   <span class="na">module</span><span class="p">:</span> <span class="p">{</span>
     <span class="na">rules</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
         <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.(</span><span class="sr">png|jpg|gif|jpeg</span><span class="se">)</span><span class="sr">$/</span><span class="p">,</span>
         <span class="na">use</span><span class="p">:</span> <span class="p">[</span>
           <span class="p">{</span>
             <span class="na">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">url-loader</span><span class="dl">'</span><span class="p">,</span>
             <span class="na">options</span><span class="p">:</span> <span class="p">{</span>
               <span class="c1">//当加载的图片，小于limit时，会将图片编译成base64字符串格式  单位 byte  8kb</span>
               <span class="c1">//当加载的图片，大于limit时，需要使用file-loader模块进行加载</span>
               <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">img/[name].[hash:8].[ext]</span><span class="dl">'</span>
               <span class="na">limit</span><span class="p">:</span> <span class="mi">8192</span>
               <span class="c1">// limit: 30000</span>
             <span class="p">}</span>
           <span class="p">}</span>
         <span class="p">]</span>
       <span class="p">},</span>
     <span class="p">],</span>
   <span class="p">},</span>
 <span class="p">}</span>
</code></pre></div> </div> </li> </ol> <h3 id="54-es6转es5的babel">5.4. ES6转ES5的babel</h3> <ol> <li>安装 <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> npm install --save-dev babel-loader@8.0.6  @babel/core @babel/preset-env
</code></pre></div> </div> </li> <li>在<code class="language-plaintext highlighter-rouge">webpack.config.js</code>中的<code class="language-plaintext highlighter-rouge">modules</code>关键字下进行配置 入门文件依赖一下 <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c1">//依赖less文件</span>
 <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./css/special.less</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div> </div> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">path</span><span class="dl">'</span><span class="p">)</span>
 <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">entry</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./src/main.js</span><span class="dl">'</span><span class="p">,</span>    <span class="c1">//入口</span>
   <span class="na">output</span><span class="p">:</span> <span class="p">{</span>
     <span class="na">path</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">dist</span><span class="dl">'</span><span class="p">),</span> <span class="c1">//动态获取路径</span>
     <span class="na">filename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bundle.js</span><span class="dl">'</span>
   <span class="p">},</span>   <span class="c1">//出口</span>
   <span class="na">module</span><span class="p">:</span> <span class="p">{</span>
     <span class="na">rules</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
         <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">css$/i</span><span class="p">,</span>
         <span class="na">use</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">style-loader</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">css-loader</span><span class="dl">"</span><span class="p">],</span>
       <span class="p">},</span>
       <span class="p">{</span>
         <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">js$/</span><span class="p">,</span>
         <span class="c1">// exclude:排除</span>
         <span class="c1">// include:包含</span>
         <span class="na">exclude</span><span class="p">:</span> <span class="sr">/</span><span class="se">(</span><span class="sr">node_modules|bower_components</span><span class="se">)</span><span class="sr">/</span><span class="p">,</span>
         <span class="na">use</span><span class="p">:</span> <span class="p">{</span>
           <span class="na">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">babel-loader</span><span class="dl">'</span><span class="p">,</span>
           <span class="na">options</span><span class="p">:</span> <span class="p">{</span>
             <span class="na">presets</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">@babel/preset-env</span><span class="dl">'</span><span class="p">]</span> 
           <span class="p">}</span>
         <span class="p">}</span>
       <span class="p">},</span>
     <span class="p">],</span>
   <span class="p">},</span>
 <span class="p">}</span>
</code></pre></div> </div> <h2 id="6-webpack中配置vue">6. webpack中配置Vue</h2> <h3 id="未抽离appvue">未抽离app.vue</h3> </li> <li>引入<code class="language-plaintext highlighter-rouge">vue.js</code> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> npm install vue --save
</code></pre></div> </div> </li> <li> <p>写一些代码</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">import</span> <span class="nx">Vue</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span><span class="p">;</span>
 <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
   <span class="na">el</span><span class="p">:</span> <span class="dl">'</span><span class="s1">#app</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">data</span><span class="p">:{</span>
     <span class="na">message</span><span class="p">:</span><span class="dl">'</span><span class="s1">Hello Webpack!</span><span class="dl">'</span>
   <span class="p">}</span>
 <span class="p">})</span>
</code></pre></div> </div> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"app"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;h2&gt;&lt;/h2&gt;</span>
 <span class="nt">&lt;/div&gt;</span>
</code></pre></div> </div> </li> <li>配置<code class="language-plaintext highlighter-rouge">webpack.config.js</code> <code class="language-plaintext highlighter-rouge">runtime-only</code>-&gt;代码中，不可以有任何的<code class="language-plaintext highlighter-rouge">template</code> <code class="language-plaintext highlighter-rouge">runtime-compiler</code>-&gt;代码中，可以有<code class="language-plaintext highlighter-rouge">compiler</code>可以用于编译<code class="language-plaintext highlighter-rouge">template</code> 配置<code class="language-plaintext highlighter-rouge">resolve</code>，指定内容 <code class="language-plaintext highlighter-rouge">extensions</code>:忽略文件扩展名可以直接引用名字<code class="language-plaintext highlighter-rouge">app.js -&gt; import app</code> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">entry</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./src/main.js</span><span class="dl">'</span><span class="p">,</span>    <span class="c1">//入口</span>
   <span class="na">output</span><span class="p">:</span> <span class="p">{</span>
     <span class="na">path</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">dist</span><span class="dl">'</span><span class="p">),</span> <span class="c1">//动态获取路径</span>
     <span class="na">filename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bundle.js</span><span class="dl">'</span><span class="p">,</span>
     <span class="na">publicPath</span><span class="p">:</span><span class="dl">'</span><span class="s1">dist/</span><span class="dl">'</span>
   <span class="p">},</span>   <span class="c1">//出口</span>
   <span class="na">resolve</span><span class="p">:{</span>
    	<span class="na">extensions</span><span class="p">:[</span><span class="dl">'</span><span class="s1">.js</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">.css</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">.vue</span><span class="dl">'</span><span class="p">],</span>
     <span class="c1">//别名</span>
     <span class="na">alias</span><span class="p">:{</span>
       <span class="dl">'</span><span class="s1">vue$</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">vue/dist/vue.esm.js</span><span class="dl">'</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
</code></pre></div> </div> <hr /> <h3 id="抽离为appvue">抽离为app.vue</h3> </li> <li>安装注意版本号^13.0.0 <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> npm install --save-dev vue-loader vue-template-compiler
</code></pre></div> </div> </li> <li>配置 <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">path</span><span class="dl">'</span><span class="p">)</span>
 <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">entry</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./src/main.js</span><span class="dl">'</span><span class="p">,</span>    <span class="c1">//入口</span>
   <span class="na">output</span><span class="p">:</span> <span class="p">{</span>
     <span class="na">path</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">dist</span><span class="dl">'</span><span class="p">),</span> <span class="c1">//动态获取路径</span>
     <span class="na">filename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bundle.js</span><span class="dl">'</span>
   <span class="p">},</span>   <span class="c1">//出口</span>
   <span class="na">module</span><span class="p">:</span> <span class="p">{</span>
     <span class="na">rules</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
         <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">vue$/</span><span class="p">,</span>
         <span class="na">use</span><span class="p">:[</span><span class="dl">'</span><span class="s1">vue-loader</span><span class="dl">'</span><span class="p">]</span>
       <span class="p">},</span>
     <span class="p">],</span>
   <span class="p">},</span>
 <span class="p">}</span>
</code></pre></div> </div> </li> </ol> <p><img src="https://blog.slienceme.cn/images/posts/d6e93db159464a21b2564b5fb64539d9.png" alt="Alt Text" /></p> <h2 id="7-plugin的使用">7. plugin的使用</h2> <p><code class="language-plaintext highlighter-rouge">loader</code>转换器 ，<code class="language-plaintext highlighter-rouge">plugin</code> 扩展器 <code class="language-plaintext highlighter-rouge">plugin</code> 使用过程</p> <ol> <li>通过<code class="language-plaintext highlighter-rouge">npm</code>安装需要使用的<code class="language-plaintext highlighter-rouge">plugin</code></li> <li>在<code class="language-plaintext highlighter-rouge">webpack.config.js</code>中的<code class="language-plaintext highlighter-rouge">plugin</code>中配置插件</li> </ol> <h3 id="71-添加版权的plugin">7.1 添加版权的Plugin</h3> <p>插件名<code class="language-plaintext highlighter-rouge">BannerPlugin</code>,属于webpack自带的插件</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">path</span><span class="dl">'</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">webpack</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">webpack</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">entry</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span> 
  <span class="na">output</span><span class="p">:</span> <span class="p">{},</span>  
  <span class="na">module</span><span class="p">:</span> <span class="p">{},</span>
  <span class="na">resolve</span><span class="p">:{},</span>
  <span class="na">plugins</span><span class="p">:[</span>
    <span class="k">new</span> <span class="nx">webpack</span><span class="p">.</span><span class="nx">BannerPlugin</span><span class="p">(</span><span class="dl">'</span><span class="s1">最终解释权规slience_me所有!</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">],</span>
<span class="p">}</span>
</code></pre></div></div> <p><img src="https://blog.slienceme.cn/images/posts/09deb530079c492fafc7b6f33d7f93a9.png" alt="Alt Text" /></p> <h3 id="72-打包html的plugin">7.2 打包html的Plugin</h3> <p>作用：</p> <ol> <li>自动生成一个index.html文件</li> <li> <h2 id="将打包的js文件自动通过script标签插入到body">将打包的js文件，自动通过script标签插入到body</h2> <p>安装插件版本3.2.0</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install html-webpack-plugin --save-dev
</code></pre></div> </div> <p>使用插件，修改<code class="language-plaintext highlighter-rouge">webpack.config.js</code>文件中的<code class="language-plaintext highlighter-rouge">plugins</code>部分的内容如下：</p> </li> <li>这里的<code class="language-plaintext highlighter-rouge">template</code>表示根据什么模板来生成<code class="language-plaintext highlighter-rouge">index.html</code></li> <li>另外，我们要删除之前在<code class="language-plaintext highlighter-rouge">output</code>中添加的<code class="language-plaintext highlighter-rouge">publicPath</code>属性</li> <li> <p>否则插入的<code class="language-plaintext highlighter-rouge">script</code>标签中的<code class="language-plaintext highlighter-rouge">src</code>可能出问题</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">const</span> <span class="nx">HtmlWebpackPlugin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">html-webpack-plugin</span><span class="dl">'</span><span class="p">);</span>
 <span class="nl">plugins</span><span class="p">:[</span>
     <span class="k">new</span> <span class="nx">HtmlWebpackPlugin</span><span class="p">({</span>
       <span class="na">template</span><span class="p">:</span><span class="dl">'</span><span class="s1">index.html</span><span class="dl">'</span>
     <span class="p">})</span>
   <span class="p">],</span>
</code></pre></div> </div> <h3 id="73-js压缩的plugin">7.3 js压缩的Plugin</h3> <p>安装插件版本^1.0.0</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install uglifyjs-webpack-plugin --save-dev
</code></pre></div> </div> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">UglifyjsWebpackPlugin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">uglifyjs-webpack-plugin</span><span class="dl">'</span><span class="p">);</span>
<span class="nl">plugins</span><span class="p">:[</span>
 <span class="k">new</span> <span class="nx">UglifyjsWebpackPlugin</span><span class="p">()</span>
  <span class="p">]</span>
</code></pre></div> </div> </li> </ol> <h2 id="8-搭建本地服务器">8. 搭建本地服务器</h2> <h3 id="搭建服务器">搭建服务器</h3> <p>安装</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install --save-dev webpack-dev-server@3.10.3
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">devserver</code>也是作为webpack中的一个选项，选项本身可以设置如下属性</p> <ul> <li><code class="language-plaintext highlighter-rouge">contentBase</code>：为哪一个文件夹提供本地服务，默认是根文件夹，这里写./dist</li> <li><code class="language-plaintext highlighter-rouge">port</code>:端口号</li> <li><code class="language-plaintext highlighter-rouge">inline</code>：页面实时刷新</li> <li><code class="language-plaintext highlighter-rouge">historyApiFallback</code>：在SPA页面中，依赖HTML5的history模式</li> </ul> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">devServer</span><span class="p">:{</span>
	<span class="nl">contentBase</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./dist</span><span class="dl">'</span><span class="p">,</span>
	<span class="nx">inline</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">},</span>
</code></pre></div></div> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">"</span><span class="s2">scripts</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">test</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">echo </span><span class="se">\"</span><span class="s2">Error: no test specified</span><span class="se">\"</span><span class="s2"> &amp;&amp; exit 1</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">build</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">webpack</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">dev</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">webpack-dev-server</span><span class="dl">"</span>
  <span class="p">},</span>
</code></pre></div></div> <h3 id="配置文件分离">配置文件分离</h3> <p>安装</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install webpack-merge --save-dev 
</code></pre></div></div> <h4 id="devconfigjs">dev.config.js</h4> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">webpackMerge</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">webpack-merge</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">baseConfig</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./base.config</span><span class="dl">'</span><span class="p">)</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">webpackMerge</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">baseConfig</span><span class="p">,{</span>
  <span class="na">mode</span><span class="p">:</span><span class="dl">'</span><span class="s1">development</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">devServer</span><span class="p">:{</span>
    <span class="na">contentBase</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./dist</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">inline</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div> <h4 id="prodconfigjs">prod.config.js</h4> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">UglifyjsWebpackPlugin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">uglifyjs-webpack-plugin</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">webpackMerge</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">webpack-merge</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">baseConfig</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./base.config</span><span class="dl">'</span><span class="p">)</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">webpackMerge</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">baseConfig</span><span class="p">,{</span>
  <span class="na">mode</span><span class="p">:</span><span class="dl">'</span><span class="s1">production</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">plugins</span><span class="p">:[</span>
    <span class="k">new</span> <span class="nx">UglifyjsWebpackPlugin</span><span class="p">()</span>
  <span class="p">]</span>
<span class="p">})</span>
</code></pre></div></div> <h4 id="baseconfigjs">base.config.js</h4> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">path</span><span class="dl">'</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">webpack</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">webpack</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">HtmlWebpackPlugin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">html-webpack-plugin</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">entry</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./src/main.js</span><span class="dl">'</span><span class="p">,</span>    <span class="c1">//入口</span>
  <span class="na">output</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">path</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">../dist</span><span class="dl">'</span><span class="p">),</span> <span class="c1">//动态获取路径</span>
    <span class="na">filename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bundle.js</span><span class="dl">'</span><span class="p">,</span>
    <span class="c1">// publicPath:'dist/'</span>
  <span class="p">},</span>   <span class="c1">//出口</span>
  <span class="na">module</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">rules</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">css$/i</span><span class="p">,</span>
        <span class="na">use</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">style-loader</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">css-loader</span><span class="dl">"</span><span class="p">],</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">less$/i</span><span class="p">,</span>
        <span class="na">loader</span><span class="p">:</span> <span class="p">[</span>
          <span class="c1">// compiles Less to CSS</span>
          <span class="dl">'</span><span class="s1">style-loader</span><span class="dl">'</span><span class="p">,</span>
          <span class="dl">'</span><span class="s1">css-loader</span><span class="dl">'</span><span class="p">,</span>
          <span class="dl">'</span><span class="s1">less-loader</span><span class="dl">'</span><span class="p">,</span>
        <span class="p">],</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.(</span><span class="sr">png|jpg|gif|jpeg</span><span class="se">)</span><span class="sr">$/</span><span class="p">,</span>
        <span class="na">use</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="na">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">url-loader</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">options</span><span class="p">:</span> <span class="p">{</span>
              <span class="c1">//当加载的图片，小于limit时，会将图片编译成base64字符串格式  单位 byte</span>
              <span class="c1">//当加载的图片，大于limit时，需要使用file-loader模块进行加载</span>
              <span class="na">limit</span><span class="p">:</span> <span class="mi">8192</span><span class="p">,</span>
              <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">img/[name].[hash:8].[ext]</span><span class="dl">'</span>
              <span class="c1">// limit: 30000</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">js$/</span><span class="p">,</span>
        <span class="c1">// exclude:排除</span>
        <span class="c1">// include:包含</span>
        <span class="na">exclude</span><span class="p">:</span> <span class="sr">/</span><span class="se">(</span><span class="sr">node_modules|bower_components</span><span class="se">)</span><span class="sr">/</span><span class="p">,</span>
        <span class="na">use</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">babel-loader</span><span class="dl">'</span><span class="p">,</span>
          <span class="na">options</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">presets</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">@babel/preset-env</span><span class="dl">'</span><span class="p">]</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">vue$/</span><span class="p">,</span>
        <span class="na">use</span><span class="p">:[</span><span class="dl">'</span><span class="s1">vue-loader</span><span class="dl">'</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">],</span>
  <span class="p">},</span>
  <span class="na">resolve</span><span class="p">:{</span>
    <span class="na">extensions</span><span class="p">:[</span><span class="dl">'</span><span class="s1">.js</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">.css</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">.vue</span><span class="dl">'</span><span class="p">],</span>
    <span class="c1">//别名</span>
    <span class="na">alias</span><span class="p">:{</span>
      <span class="dl">'</span><span class="s1">vue$</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">vue/dist/vue.esm.js</span><span class="dl">'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">plugins</span><span class="p">:[</span>
    <span class="k">new</span> <span class="nx">webpack</span><span class="p">.</span><span class="nx">BannerPlugin</span><span class="p">(</span><span class="dl">'</span><span class="s1">最终解释权规slience_me所有!</span><span class="dl">'</span><span class="p">),</span>
    <span class="k">new</span> <span class="nx">HtmlWebpackPlugin</span><span class="p">({</span>
      <span class="na">template</span><span class="p">:</span><span class="dl">'</span><span class="s1">index.html</span><span class="dl">'</span>
    <span class="p">})</span>
  <span class="p">]</span>
<span class="p">}</span>

</code></pre></div></div> <h3 id="packagejson">package.json</h3> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">"</span><span class="s2">scripts</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
<span class="dl">"</span><span class="s2">test</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">echo </span><span class="se">\"</span><span class="s2">Error: no test specified</span><span class="se">\"</span><span class="s2"> &amp;&amp; exit 1</span><span class="dl">"</span><span class="p">,</span>
<span class="dl">"</span><span class="s2">build</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">webpack --config build/prod.config.js</span><span class="dl">"</span><span class="p">,</span>
<span class="dl">"</span><span class="s2">dev</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">webpack-dev-server --open --config ./build/dev.config.js</span><span class="dl">"</span>
<span class="p">},</span>
</code></pre></div></div> <div style="margin-top:2em;padding:0 1.5em;border:1px solid #d3d3d3;background-color:#deebf7"> <h3>文档信息</h3> <ul> <li>本文作者：<a href="https://blog.slienceme.cn" target="_blank">slience_me</a></li> <li>本文链接：<a href="https://blog.slienceme.cn/2021/07/29/Webpack%E5%9F%BA%E7%A1%80/" target="_blank">https://blog.slienceme.cn/2021/07/29/Webpack%E5%9F%BA%E7%A1%80/</a></li> <li>版权声明：自由转载-非商用-非衍生-保持署名（<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank">创意共享3.0许可证</a>）</li> </ul> </div> </article> <div class="share"> <div class="share-component" data-disabled='qq,facebook'></div> </div> <div class="comment"> <script src="https://giscus.app/client.js" data-repo="slience-me/blog-comments" data-repo-id="R_kgDOKr27jA" data-category="Announcements" data-category-id="DIC_kwDOKr27jM4CnWMe" data-mapping="title" data-strict="1" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous" async> </script> </div> </div> <div class="column one-fourth"> <h3>Search</h3> <div id="site_search"> <input style="width:96%" type="text" id="search_box" placeholder="Search"> </div> <ul id="search_results" style="font-size:14px;list-style-type:none;padding-top:10px;padding-left:10px;"></ul> <script src="https://blog.slienceme.cn/assets/js/simple-jekyll-search.min.js"></script> <script type="text/javascript"> SimpleJekyllSearch({ searchInput: document.getElementById('search_box'), resultsContainer: document.getElementById('search_results'), json: 'https://blog.slienceme.cn/assets/search_data.json?v=1740585852', searchResultTemplate: '<li><a href="{url}" title="{title}">{title}</a></li>', noResultsText: 'No results found', limit: 10, fuzzy: false, exclude: ['Welcome'] }) </script> <h3 class="post-directory-title mobile-hidden">Table of Contents</h3> <div id="post-directory-module" class="mobile-hidden"> <section class="post-directory"> <dl></dl> </section> </div> <script src="https://blog.slienceme.cn/assets/js/jquery.toc.js"></script> </div> </div> </section> <footer class="container"> <div class="site-footer" role="contentinfo"> <div class="copyright left mobile-block"> Copyright@ 2019-2025 slience_me 版权所有&emsp; <img src="/images/logo/logo.png" class="w-full" style="width: 12px;"> <a href="https://beian.mps.gov.cn/#/query/webSearch?code=13102202000626" rel="noreferrer" target="_blank">冀公网安备13102202000626</a>&emsp; <a href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank" rel="noreferrer">津ICP备2024026565号-1</a> <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a> </div> <ul class="site-footer-links right mobile-hidden"> <li> <a href="javascript:window.scrollTo(0,0)" >TOP</a> </li> </ul> <br/> <script defer src="https://vercount.one/js"></script> <div class="mobile-hidden" style="margin-top:8px"> <span id="busuanzi_container_site_pv" style="display:none"> 本站访问量<span id="busuanzi_value_site_pv"></span>次 </span> <span id="busuanzi_container_site_uv" style="display:none"> / 本站访客数<span id="busuanzi_value_site_uv"></span>人 </span> <span id="busuanzi_container_page_pv" style="display:none"> / 本页访问量<span id="busuanzi_value_page_pv"></span>次 / 统计始于2024-12-01 </span> </div> </div> </footer> <div class="tools-wrapper"> <a class="gotop" href="#" title="回到顶部"><span class="octicon octicon-arrow-up"></span></a> </div> <script src="https://blog.slienceme.cn/assets/vendor/share.js/dist/js/share.min.js"></script> <script src="https://blog.slienceme.cn/assets/js/geopattern.js"></script> <script> jQuery(document).ready(function($) { $('.geopattern').each(function(){ $(this).geopattern($(this).data('pattern-id')); }); /* hljs.initHighlightingOnLoad(); */ }); </script> </body> </html>
