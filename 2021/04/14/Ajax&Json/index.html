<!DOCTYPE html> <html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /> <title>Java｜Ajax&Json &mdash; Slience_me的博客</title> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/vendor/primer-css/css/primer.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/components/collection.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/components/repo-card.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/sections/repo-list.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/components/boxed-group.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/globals/common.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/globals/responsive.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/posts/index.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/vendor/octicons/octicons/octicons.css"> <link rel="stylesheet" href=" https://cdn.jsdelivr.net/npm/@docsearch/css@3 "/> <link rel="stylesheet" href="https://mazhuang.org/rouge-themes/dist/github.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/vendor/share.js/dist/css/share.min.css"> <link rel="canonical" href="https://blog.slienceme.cn/2021/04/14/Ajax&Json/"> <link rel="alternate" type="application/atom+xml" title="Slience_me的博客" href="https://blog.slienceme.cn/feed.xml"> <link rel="shortcut icon" href="https://blog.slienceme.cn/favicon.ico"> <meta property="og:title" content="Java｜Ajax&Json"> <meta name="keywords" content="编程语言, Java"> <meta name="og:keywords" content="编程语言, Java"> <meta name="description" content=""> <meta name="og:description" content=""> <meta property="og:url" content="https://blog.slienceme.cn/2021/04/14/Ajax&Json/"> <meta property="og:site_name" content="Slience_me的博客"> <meta property="og:type" content="article"> <meta property="og:locale" content="zh_CN" /> <meta property="article:published_time" content="2021-04-14"> <meta name="google-site-verification" content="2feHjT1GNs1Yi2JQfOtdYx7d048naG_-cMwZaDAopIA" /> <script src="https://blog.slienceme.cn/assets/vendor/jquery/dist/jquery.min.js"></script> <script src="https://blog.slienceme.cn/assets/js/main.js"></script> </head> <body class="" data-mz=""> <header class="site-header"> <div class="container"> <h1><a href="https://blog.slienceme.cn/" title="Slience_me的博客"><span class="octicon octicon-mark-github"></span> Slience_me的博客</a></h1> <button class="collapsed mobile-visible" type="button" onclick="toggleMenu();"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <nav class="site-header-nav" role="navigation"> <a href="https://blog.slienceme.cn/" class="site-header-nav-item" target="" title="首页">首页</a> <a href="https://blog.slienceme.cn/categories/" class="site-header-nav-item" target="" title="分类">分类</a> <a href="https://blog.slienceme.cn/archives/" class="mobile-hidden site-header-nav-item" target="" title="归档">归档</a> <a href="https://blog.slienceme.cn/open-source/" class="mobile-hidden site-header-nav-item" target="" title="开源">开源</a> <a href="https://blog.slienceme.cn/fragments/" class="site-header-nav-item" target="" title="片段">片段</a> <a href="https://blog.slienceme.cn/wiki/" class="site-header-nav-item" target="" title="维基">维基</a> <a href="https://blog.slienceme.cn/links/" class="mobile-hidden site-header-nav-item" target="" title="链接">链接</a> <a href="https://blog.slienceme.cn/about/" class="site-header-nav-item" target="" title="关于">关于</a> <a class="mobile-hidden" href="https://blog.slienceme.cn/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a> </nav> </div> </header> <section class="collection-head small geopattern" data-pattern-id="Java｜Ajax&Json"> <div class="container"> <div class="columns"> <div class="column three-fourths"> <div class="collection-title"> <h1 class="collection-header">Java｜Ajax&Json</h1> <div class="collection-info"> <span class="meta-info"> <span class="octicon octicon-calendar"></span> 2021/04/14 </span> <span class="meta-info"> <span class="octicon octicon-file-directory"></span> <a href="https://blog.slienceme.cn/categories/#Java" title="Java">Java</a> </span> <span class="meta-info"> <span class="octicon octicon-clock"></span> 共 4084 字，约 12 分钟 </span> </div> </div> </div> <div class="column one-fourth mobile-hidden"> <div class="collection-title"> </div> </div> </div> </div> </section> <section class="container content"> <div class="columns"> <div class="column three-fourths" > <article class="article-content markdown-body"> <p><img src="https://blog.slienceme.cn/images/posts/logo_slienceme3.png" alt="img" /></p> <p>本文作者： <a href="https://slienceme.cn/">slience_me</a></p> <hr /> <h1 id="ajax">AJAX：</h1> <ol> <li>概念： ASynchronous JavaScript And XML 异步的JavaScript 和 XML</li> <li>异步和同步：客户端和服务器端相互通信的基础上 <ul> <li>客户端必须等待服务器端的响应。在等待的期间客户端不能做其他操作。</li> <li>客户端不需要等待服务器端的响应。在服务器处理请求的过程中，客户端可以进行其他的操作。</li> </ul> </li> </ol> <blockquote> <h2 id="ajax-是一种在无需重新加载整个网页的情况下能够更新部分网页的技术--通过在后台与服务器进行少量数据交换ajax可以使网页实现异步更新这意味着可以在不重新加载整个网页的情况下对网页的某部分进行更新--传统的网页不使用ajax如果需要更新内容必须重载整个网页页面">Ajax 是一种在无需重新加载整个网页的情况下，能够更新部分网页的技术。 通过在后台与服务器进行少量数据交换，Ajax可以使网页实现异步更新。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。 传统的网页（不使用Ajax）如果需要更新内容，必须重载整个网页页面。</h2> <h3 id="实现方式">实现方式：</h3> <h4 id="1-原生的js实现方式了解">1. 原生的JS实现方式（了解）</h4> <p>```javascript //1.创建核心对象 var xmlhttp; if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari xmlhttp=new XMLHttpRequest(); } else {// code for IE6, IE5 xmlhttp=new ActiveXObject(“Microsoft.XMLHTTP”); } //2. 建立连接 /* 参数： 1. 请求方式：GET、POST * get方式，请求参数在URL后边拼接。send方法为空参 * post方式，请求参数在send方法中定义 2. 请求的URL： 3. 同步或异步请求：true（异步）或 false（同步）</p> </blockquote> <p>*/ xmlhttp.open(“GET”,”ajaxServlet?username=tom”,true);</p> <p>//3.发送请求 xmlhttp.send();</p> <p>//4.接受并处理来自服务器的响应结果 //获取方式 ：xmlhttp.responseText //什么时候获取？当服务器响应成功后再获取</p> <p>//当xmlhttp对象的就绪状态改变时，触发事件onreadystatechange。 xmlhttp.onreadystatechange=function() { //判断readyState就绪状态是否为4，判断status响应状态码是否为200 if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200) { //获取服务器的响应结果 var responseText = xmlhttp.responseText; alert(responseText); } }</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>![Alt Text](/images/posts/20210414184018587.png)
		
	            
#### 2. JQeury实现方式
* 1.语法：`$.ajax({键值对});`
            
```javascript
//使用$.ajax()发送异步请求
$.ajax({
        url:"ajaxServlet1111" , // 请求路径
        type:"POST" , //请求方式
        //data: "username=jack&amp;age=23",//请求参数
        data:{"username":"jack","age":23},
        success:function (data) {
            alert(data);
        },//响应成功后的回调函数
        error:function () {
            alert("出错啦...")
        },//表示如果请求响应出现错误，会执行的回调函数

        dataType:"text"//设置接受到的响应数据的格式
    });
</code></pre></div></div> <ul> <li>2.<code class="language-plaintext highlighter-rouge">$.get()</code>：发送<code class="language-plaintext highlighter-rouge">get</code>请求 <ul> <li>语法：<code class="language-plaintext highlighter-rouge">$.get(url, [data], [callback], [type])</code> <ul> <li>参数： <ul> <li><code class="language-plaintext highlighter-rouge">url</code>：请求路径</li> <li><code class="language-plaintext highlighter-rouge">data</code>：请求参数</li> <li><code class="language-plaintext highlighter-rouge">callback</code>：回调函数</li> <li><code class="language-plaintext highlighter-rouge">type</code>：响应结果的类型</li> </ul> </li> </ul> </li> </ul> </li> <li>3.<code class="language-plaintext highlighter-rouge">$.post()</code>：发送<code class="language-plaintext highlighter-rouge">post</code>请求 <ul> <li>语法：<code class="language-plaintext highlighter-rouge">$.post(url, [data], [callback], [type])</code> <ul> <li>参数： <ul> <li><code class="language-plaintext highlighter-rouge">url</code>：请求路径</li> <li><code class="language-plaintext highlighter-rouge">data</code>：请求参数</li> <li><code class="language-plaintext highlighter-rouge">callback</code>：回调函数</li> <li><code class="language-plaintext highlighter-rouge">type</code>：响应结果的类型</li> </ul> </li> </ul> </li> </ul> </li> </ul> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">ajaxServlet</span><span class="dl">"</span><span class="p">,{</span><span class="na">username</span><span class="p">:</span><span class="dl">"</span><span class="s2">rose</span><span class="dl">"</span><span class="p">},</span><span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
            <span class="p">},</span><span class="dl">"</span><span class="s2">text</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="dl">"</span><span class="s2">ajaxServlet</span><span class="dl">"</span><span class="p">,{</span><span class="na">username</span><span class="p">:</span><span class="dl">"</span><span class="s2">rose</span><span class="dl">"</span><span class="p">},</span><span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
            <span class="p">},</span><span class="dl">"</span><span class="s2">text</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div> <h1 id="json">JSON：</h1> <h3 id="1-概念">1. 概念：</h3> <ul> <li>JavaScript Object Notation JavaScript对象表示法</li> </ul> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Person</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Person</span><span class="o">();</span>
	<span class="n">p</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"张三"</span><span class="o">);</span>
	<span class="n">p</span><span class="o">.</span><span class="na">setAge</span><span class="o">(</span><span class="mi">23</span><span class="o">);</span>
	<span class="n">p</span><span class="o">.</span><span class="na">setGender</span><span class="o">(</span><span class="s">"男"</span><span class="o">);</span>
	
<span class="kt">var</span> <span class="n">p</span> <span class="o">=</span> <span class="o">{</span><span class="s">"name"</span><span class="o">:</span><span class="s">"张三"</span><span class="o">,</span><span class="s">"age"</span><span class="o">:</span><span class="mi">23</span><span class="o">,</span><span class="s">"gender"</span><span class="o">:</span><span class="s">"男"</span><span class="o">};</span>
</code></pre></div></div> <ul> <li><code class="language-plaintext highlighter-rouge">json</code>现在多用于存储和交换文本信息的语法</li> <li>进行数据的传输</li> <li><code class="language-plaintext highlighter-rouge">JSON</code> 比 <code class="language-plaintext highlighter-rouge">XML</code> 更小、更快，更易解析。</li> </ul> <hr /> <h3 id="2-语法">2. 语法：</h3> <h4 id="21-基本规则">2.1 基本规则</h4> <ul> <li>数据在名称/值对中：<code class="language-plaintext highlighter-rouge">json</code>数据是由键值对构成的 <ul> <li>键用引号(单双都行)引起来，也可以不使用引号</li> <li>值得取值类型： <ol> <li>数字（整数或浮点数）</li> <li>字符串（在双引号中）</li> <li>逻辑值（<code class="language-plaintext highlighter-rouge">true</code> 或 <code class="language-plaintext highlighter-rouge">false</code>）</li> <li>数组（在方括号中）<code class="language-plaintext highlighter-rouge">{"persons":[{},{}]}</code></li> <li>对象（在花括号中） <code class="language-plaintext highlighter-rouge">{"address":{"province"："陕西"....}}</code></li> <li><code class="language-plaintext highlighter-rouge">null</code></li> </ol> </li> </ul> </li> <li>数据由逗号分隔：多个键值对由逗号分隔</li> <li>花括号保存对象：使用<code class="language-plaintext highlighter-rouge">{}</code>定义<code class="language-plaintext highlighter-rouge">json</code> 格式</li> <li>方括号保存数组：<code class="language-plaintext highlighter-rouge">[]</code></li> </ul> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>Title<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;script&gt;</span>
        <span class="c1">//1.定义基本格式</span>
        <span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span><span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">张三</span><span class="dl">"</span><span class="p">,</span> <span class="na">age</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span> <span class="dl">'</span><span class="s1">gender</span><span class="dl">'</span><span class="p">:</span> <span class="kc">true</span><span class="p">};</span>

        <span class="c1">//获取name的值</span>
        <span class="c1">//var name = person.name;</span>
        <span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">person</span><span class="p">[</span><span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">];</span>
        <span class="c1">// alert(name);</span>

        <span class="c1">//alert(person);</span>
        <span class="c1">//2.嵌套格式   {}———&gt; []</span>
        <span class="kd">var</span> <span class="nx">persons</span> <span class="o">=</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">persons</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">张三</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">age</span><span class="dl">"</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span> <span class="dl">"</span><span class="s2">gender</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">},</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">李四</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">age</span><span class="dl">"</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span> <span class="dl">"</span><span class="s2">gender</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">},</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">王五</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">age</span><span class="dl">"</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span> <span class="dl">"</span><span class="s2">gender</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">}</span>
            <span class="p">]</span>
        <span class="p">};</span>
        <span class="nx">alert</span><span class="p">(</span><span class="nx">persons</span><span class="p">);</span>
        <span class="c1">//获取王五值</span>
        <span class="kd">var</span> <span class="nx">name1</span> <span class="o">=</span> <span class="nx">persons</span><span class="p">.</span><span class="nx">persons</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">name</span><span class="p">;</span>
        <span class="c1">// alert(name1);</span>


        <span class="c1">//2.嵌套格式   []———&gt; {}</span>
        <span class="kd">var</span> <span class="nx">ps</span> <span class="o">=</span> <span class="p">[{</span><span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">张三</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">age</span><span class="dl">"</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span> <span class="dl">"</span><span class="s2">gender</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">},</span>
            <span class="p">{</span><span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">李四</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">age</span><span class="dl">"</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span> <span class="dl">"</span><span class="s2">gender</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">},</span>
            <span class="p">{</span><span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">王五</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">age</span><span class="dl">"</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span> <span class="dl">"</span><span class="s2">gender</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">}];</span>
        <span class="c1">//获取李四值</span>
        <span class="c1">//alert(ps);</span>
        <span class="c1">// alert(ps[1].name);</span>


    <span class="nt">&lt;/script&gt;</span>

<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div> <h4 id="22-获取数据">2.2 获取数据:</h4> <ol> <li><code class="language-plaintext highlighter-rouge">json对象.键名</code></li> <li><code class="language-plaintext highlighter-rouge">json对象["键名"]</code> 单引号双引号都可以</li> <li><code class="language-plaintext highlighter-rouge">数组对象[索引]</code></li> <li>遍历</li> </ol> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c1">//1.定义基本格式</span>
 <span class="kt">var</span> <span class="n">person</span> <span class="o">=</span> <span class="o">{</span><span class="s">"name"</span><span class="o">:</span> <span class="s">"张三"</span><span class="o">,</span> <span class="nl">age:</span> <span class="mi">23</span><span class="o">,</span> <span class="err">'</span><span class="n">gender</span><span class="err">'</span><span class="o">:</span> <span class="kc">true</span><span class="o">};</span>

  <span class="kt">var</span> <span class="n">ps</span> <span class="o">=</span> <span class="o">[{</span><span class="s">"name"</span><span class="o">:</span> <span class="s">"张三"</span><span class="o">,</span> <span class="s">"age"</span><span class="o">:</span> <span class="mi">23</span><span class="o">,</span> <span class="s">"gender"</span><span class="o">:</span> <span class="kc">true</span><span class="o">},</span>
      <span class="o">{</span><span class="s">"name"</span><span class="o">:</span> <span class="s">"李四"</span><span class="o">,</span> <span class="s">"age"</span><span class="o">:</span> <span class="mi">24</span><span class="o">,</span> <span class="s">"gender"</span><span class="o">:</span> <span class="kc">true</span><span class="o">},</span>
      <span class="o">{</span><span class="s">"name"</span><span class="o">:</span> <span class="s">"王五"</span><span class="o">,</span> <span class="s">"age"</span><span class="o">:</span> <span class="mi">25</span><span class="o">,</span> <span class="s">"gender"</span><span class="o">:</span> <span class="kc">false</span><span class="o">}];</span>

  <span class="c1">//获取person对象中所有的键和值</span>
  <span class="c1">//for in 循环</span>
 <span class="cm">/* for(var key in person){
      //这样的方式获取不行。因为相当于  person."name"
      //alert(key + ":" + person.key);
      alert(key+":"+person[key]);
  }*/</span>

 <span class="c1">//获取ps中的所有值</span>
  <span class="k">for</span> <span class="o">(</span><span class="kt">var</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ps</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
      <span class="kt">var</span> <span class="n">p</span> <span class="o">=</span> <span class="n">ps</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
      <span class="k">for</span><span class="o">(</span><span class="kt">var</span> <span class="n">key</span> <span class="n">in</span> <span class="n">p</span><span class="o">){</span>
          <span class="n">alert</span><span class="o">(</span><span class="n">key</span><span class="o">+</span><span class="s">":"</span><span class="o">+</span><span class="n">p</span><span class="o">[</span><span class="n">key</span><span class="o">]);</span>
      <span class="o">}</span>
  <span class="o">}</span>
</code></pre></div></div> <p><img src="https://blog.slienceme.cn/images/posts/2021041420115811.png" alt="Alt Text" /></p> <h3 id="3-json数据和java对象的相互转换">3. JSON数据和Java对象的相互转换</h3> <ul> <li>JSON解析器： <ul> <li>常见的解析器：<code class="language-plaintext highlighter-rouge">Jsonlib，Gson，fastjson，jackson</code></li> </ul> </li> </ul> <h4 id="31-json转为java对象">3.1 JSON转为Java对象</h4> <ol> <li>导入<code class="language-plaintext highlighter-rouge">jackson</code>的相关jar包</li> <li>创建<code class="language-plaintext highlighter-rouge">Jackson</code>核心对象 <code class="language-plaintext highlighter-rouge">ObjectMapper</code></li> <li>调用<code class="language-plaintext highlighter-rouge">ObjectMapper</code>的相关方法进行转换 <code class="language-plaintext highlighter-rouge">readValue(json字符串数据,Class)</code> <h4 id="32-java对象转换json">3.2 Java对象转换JSON</h4> <h5 id="使用步骤">使用步骤：</h5> </li> <li>导入<code class="language-plaintext highlighter-rouge">jackson</code>的相关jar包</li> <li>创建<code class="language-plaintext highlighter-rouge">Jackson</code>核心对象 <code class="language-plaintext highlighter-rouge">ObjectMapper</code></li> <li>调用<code class="language-plaintext highlighter-rouge">ObjectMapper</code>的相关方法进行转换 <ol> <li>转换方法： <ul> <li><code class="language-plaintext highlighter-rouge">writeValue</code>(参数1，obj): 参数1： <code class="language-plaintext highlighter-rouge">File</code>：将obj对象转换为<code class="language-plaintext highlighter-rouge">JSON</code>字符串，并保存到指定的文件中 <code class="language-plaintext highlighter-rouge">Writer</code>：将obj对象转换为<code class="language-plaintext highlighter-rouge">JSON</code>字符串，并将<code class="language-plaintext highlighter-rouge">json</code>数据填充到字符输出流中 <code class="language-plaintext highlighter-rouge">OutputStream</code>：将obj对象转换为<code class="language-plaintext highlighter-rouge">JSON</code>字符串，并将<code class="language-plaintext highlighter-rouge">json</code>数据填充到字节输出流中 * <code class="language-plaintext highlighter-rouge">writeValueAsString(obj)</code>:将对象转为<code class="language-plaintext highlighter-rouge">json</code>字符串</li> </ul> </li> <li>注解： <ol> <li><code class="language-plaintext highlighter-rouge">@JsonIgnore</code>：排除属性。</li> <li><code class="language-plaintext highlighter-rouge">@JsonFormat</code>：属性值得格式化 <ul> <li><code class="language-plaintext highlighter-rouge">@JsonFormat(pattern = "yyyy-MM-dd")</code></li> </ul> </li> </ol> </li> <li>复杂java对象转换 <ol> <li>List：数组</li> <li>Map：对象格式一致</li> </ol> </li> </ol> </li> </ol> <h1 id="案例">案例：</h1> <ul> <li>校验用户名是否存在 <ol> <li>服务器响应的数据，在客户端使用时，要想当做json数据格式使用。有两种解决方案：</li> </ol> <ol> <li>$.get(type):将最后一个参数type指定为”json”</li> <li>在服务器端设置MIME类型 response.setContentType(“application/json;charset=utf-8”);</li> </ol> </li> </ul> <div style="margin-top:2em;padding:0 1.5em;border:1px solid #d3d3d3;background-color:#deebf7"> <h3>文档信息</h3> <ul> <li>本文作者：<a href="https://blog.slienceme.cn" target="_blank">slience_me</a></li> <li>本文链接：<a href="https://blog.slienceme.cn/2021/04/14/Ajax&Json/" target="_blank">https://blog.slienceme.cn/2021/04/14/Ajax&Json/</a></li> <li>版权声明：自由转载-非商用-非衍生-保持署名（<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank">创意共享3.0许可证</a>）</li> </ul> </div> </article> <div class="share"> <div class="share-component" data-disabled='qq,facebook'></div> </div> <div class="comment"> <script src="https://giscus.app/client.js" data-repo="slience-me/blog-comments" data-repo-id="R_kgDOKr27jA" data-category="Announcements" data-category-id="DIC_kwDOKr27jM4CnWMe" data-mapping="title" data-strict="1" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous" async> </script> </div> </div> <div class="column one-fourth"> <h3>Search</h3> <div id="site_search"> <input style="width:96%" type="text" id="search_box" placeholder="Search"> </div> <ul id="search_results" style="font-size:14px;list-style-type:none;padding-top:10px;padding-left:10px;"></ul> <script src="https://blog.slienceme.cn/assets/js/simple-jekyll-search.min.js"></script> <script src=" https://cdn.jsdelivr.net/npm/@docsearch/js@3 "></script> <script type="text/javascript"> docsearch({ appId: "8W5T6R2WWG", apiKey: "e56e511c7c9f85e2c97e2817664aafb2", indexName: "doc", container: "#search_box", debug: false }); // SimpleJekyllSearch({ // searchInput: document.getElementById('search_box'), // resultsContainer: document.getElementById('search_results'), // // json: 'https://blog.slienceme.cn/assets/search_data.json?v=1740710263', // // searchResultTemplate: '<li><a href="{url}" title="{title}">{title}</a></li>', // noResultsText: 'No results found', // limit: 10, // fuzzy: false, // exclude: ['Welcome'] // }) </script> <h3 class="post-directory-title mobile-hidden">Table of Contents</h3> <div id="post-directory-module" class="mobile-hidden"> <section class="post-directory"> <dl></dl> </section> </div> <script src="https://blog.slienceme.cn/assets/js/jquery.toc.js"></script> </div> </div> </section> <footer class="container"> <div class="site-footer" role="contentinfo"> <div class="copyright left mobile-block"> <div style="display: flex;align-items: center;justify-content: center;"> <img src="/images/logo/logo.png" class="w-full" style="height: 10px;width: 10px;" alt="logo" />;"> <p> <a href="https://beian.mps.gov.cn/" rel="noreferrer" target="_blank">冀公网安备13102202000626</a> | <a href="https://beian.miit.gov.cn/" target="_blank" rel="noreferrer">津ICP备2024026565号-1</a> </p> </div> <p style="display: flex;align-items: center;justify-content: center;"> Copyright © 2019-present slience_me </p> <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a> </div> <ul class="site-footer-links right mobile-hidden"> <li> <a href="javascript:window.scrollTo(0,0)" >TOP</a> </li> </ul> <br/> <script defer src="https://vercount.one/js"></script> <div class="mobile-hidden" style="margin-top:8px"> <span id="busuanzi_container_site_pv" style="display:none"> 本站访问量<span id="busuanzi_value_site_pv"></span>次 </span> <span id="busuanzi_container_site_uv" style="display:none"> / 本站访客数<span id="busuanzi_value_site_uv"></span>人 </span> <span id="busuanzi_container_page_pv" style="display:none"> / 本页访问量<span id="busuanzi_value_page_pv"></span>次 / 统计始于2024-12-01 </span> </div> </div> </footer> <div class="tools-wrapper"> <a class="gotop" href="#" title="回到顶部"><span class="octicon octicon-arrow-up"></span></a> </div> <script src="https://blog.slienceme.cn/assets/vendor/share.js/dist/js/share.min.js"></script> <script src="https://blog.slienceme.cn/assets/js/geopattern.js"></script> <script> jQuery(document).ready(function($) { $('.geopattern').each(function(){ $(this).geopattern($(this).data('pattern-id')); }); /* hljs.initHighlightingOnLoad(); */ }); </script> </body> </html>
