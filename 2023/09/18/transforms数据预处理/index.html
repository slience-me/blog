<!DOCTYPE html> <html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /> <title>æœºå™¨å­¦ä¹ ï½œtransformsæ•°æ®é¢„å¤„ç†ã€å›¾åƒå¢å¼ºã€‘ &mdash; Slience_meçš„åšå®¢</title> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/vendor/primer-css/css/primer.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/components/collection.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/components/repo-card.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/sections/repo-list.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/components/boxed-group.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/globals/common.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/globals/responsive.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/css/posts/index.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/vendor/octicons/octicons/octicons.css"> <link rel="stylesheet" href="https://mazhuang.org/rouge-themes/dist/github.css"> <link rel="stylesheet" href="https://blog.slienceme.cn/assets/vendor/share.js/dist/css/share.min.css"> <link rel="canonical" href="https://blog.slienceme.cn/2023/09/18/transforms%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86/"> <link rel="alternate" type="application/atom+xml" title="Slience_meçš„åšå®¢" href="https://blog.slienceme.cn/feed.xml"> <link rel="shortcut icon" href="https://blog.slienceme.cn/favicon.ico"> <meta property="og:title" content="æœºå™¨å­¦ä¹ ï½œtransformsæ•°æ®é¢„å¤„ç†ã€å›¾åƒå¢å¼ºã€‘"> <meta name="keywords" content="æœºå™¨å­¦ä¹ "> <meta name="og:keywords" content="æœºå™¨å­¦ä¹ "> <meta name="description" content=""> <meta name="og:description" content=""> <meta property="og:url" content="https://blog.slienceme.cn/2023/09/18/transforms%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86/"> <meta property="og:site_name" content="Slience_meçš„åšå®¢"> <meta property="og:type" content="article"> <meta property="og:locale" content="zh_CN" /> <meta property="article:published_time" content="2023-09-18"> <meta name="google-site-verification" content="2feHjT1GNs1Yi2JQfOtdYx7d048naG_-cMwZaDAopIA" /> <script src="https://blog.slienceme.cn/assets/vendor/jquery/dist/jquery.min.js"></script> <script src="https://blog.slienceme.cn/assets/js/main.js"></script> </head> <body class="" data-mz=""> <header class="site-header"> <div class="container"> <h1><a href="https://blog.slienceme.cn/" title="Slience_meçš„åšå®¢"><span class="octicon octicon-mark-github"></span> Slience_meçš„åšå®¢</a></h1> <button class="collapsed mobile-visible" type="button" onclick="toggleMenu();"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <nav class="site-header-nav" role="navigation"> <a href="https://blog.slienceme.cn/" class="site-header-nav-item" target="" title="é¦–é¡µ">é¦–é¡µ</a> <a href="https://blog.slienceme.cn/categories/" class="site-header-nav-item" target="" title="åˆ†ç±»">åˆ†ç±»</a> <a href="https://blog.slienceme.cn/archives/" class="mobile-hidden site-header-nav-item" target="" title="å½’æ¡£">å½’æ¡£</a> <a href="https://blog.slienceme.cn/open-source/" class="mobile-hidden site-header-nav-item" target="" title="å¼€æº">å¼€æº</a> <a href="https://blog.slienceme.cn/fragments/" class="site-header-nav-item" target="" title="ç‰‡æ®µ">ç‰‡æ®µ</a> <a href="https://blog.slienceme.cn/wiki/" class="site-header-nav-item" target="" title="ç»´åŸº">ç»´åŸº</a> <a href="https://blog.slienceme.cn/links/" class="mobile-hidden site-header-nav-item" target="" title="é“¾æ¥">é“¾æ¥</a> <a href="https://blog.slienceme.cn/about/" class="site-header-nav-item" target="" title="å…³äº">å…³äº</a> <a class="mobile-hidden" href="https://blog.slienceme.cn/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a> </nav> </div> </header> <section class="collection-head small geopattern" data-pattern-id="æœºå™¨å­¦ä¹ ï½œtransforms"> <div class="container"> <div class="columns"> <div class="column three-fourths"> <div class="collection-title"> <h1 class="collection-header">æœºå™¨å­¦ä¹ ï½œtransformsæ•°æ®é¢„å¤„ç†ã€å›¾åƒå¢å¼ºã€‘</h1> <div class="collection-info"> <span class="meta-info"> <span class="octicon octicon-calendar"></span> 2023/09/18 </span> <span class="meta-info"> <span class="octicon octicon-file-directory"></span> <a href="https://blog.slienceme.cn/categories/#æœºå™¨å­¦ä¹ " title="æœºå™¨å­¦ä¹ ">æœºå™¨å­¦ä¹ </a> </span> <span class="meta-info"> <span class="octicon octicon-clock"></span> å…± 9259 å­—ï¼Œçº¦ 27 åˆ†é’Ÿ </span> </div> </div> </div> <div class="column one-fourth mobile-hidden"> <div class="collection-title"> </div> </div> </div> </div> </section> <section class="container content"> <div class="columns"> <div class="column three-fourths" > <article class="article-content markdown-body"> <p><img src="https://blog.slienceme.cn/images/posts/logo_slienceme3.png" alt="img" /></p> <p>æœ¬æ–‡ä½œè€…ï¼š <a href="https://slienceme.cn/">slience_me</a></p> <hr /> <blockquote> <p>æ•°æ®å¢å¼ºåˆç§°ä¸ºæ•°æ®å¢å¹¿ã€æ•°æ®æ‰©å¢ï¼Œå®ƒæ˜¯å¯¹è®­ç»ƒé›†è¿›è¡Œå˜æ¢ï¼Œä½¿è®­ç»ƒé›†æ›´ä¸°å¯Œï¼Œä»è€Œè®©æ¨¡å‹æ›´å…·æ³›åŒ–èƒ½åŠ›ã€‚</p> </blockquote> <p><strong>æ³¨æ„ï¼š ä¸‹é¢å›¾ç‰‡å¤§å°é€šè¿‡markdownä»£ç ï¼Œå›¾ç‰‡æ¯”ä¾‹æœ‰æ‰€æ›´æ”¹ï¼ˆ=400xï¼‰</strong></p> <h2 id="1-å®‰è£…">1. å®‰è£…</h2> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># åœ¨è¿›è¡Œä¸‹é¢ä»£ç å­¦ä¹ å‰éœ€è¦å®‰è£…torchvision==0.8.2
</span><span class="err">!</span><span class="n">pip</span> <span class="n">install</span> <span class="n">torchvision</span><span class="o">==</span><span class="mf">0.8</span><span class="p">.</span><span class="mi">2</span> <span class="o">--</span><span class="n">user</span>  <span class="c1">#åœ¨jupyter notebookä¸­pipå‰é¢è¦åŠ ä¸Šæ„Ÿå¹å·
# å¸¸è§„æƒ…å†µ
</span><span class="n">pip</span> <span class="n">install</span> <span class="n">torchvision</span><span class="o">==</span><span class="mf">0.8</span><span class="p">.</span><span class="mi">2</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">from</span> <span class="nn">torchvision</span> <span class="kn">import</span> <span class="n">transforms</span> <span class="k">as</span> <span class="n">T</span>
<span class="kn">import</span> <span class="nn">torch</span> <span class="k">as</span> <span class="n">t</span>

<span class="n">to_tensor</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">ToTensor</span><span class="p">()</span>
<span class="n">to_pil</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">ToPILImage</span><span class="p">()</span>
<span class="n">dog</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="s">'./dog.jpeg'</span><span class="p">)</span>  <span class="c1"># ä»ç½‘ä¸Šä¸‹è½½å›¾ç‰‡åˆ°æœ¬åœ°åï¼Œå†ä¸Šä¼ è‡³DSW
</span></code></pre></div></div> <h2 id="2-transformscrop-è£å‰ª">2. transformsâ€”â€”Crop è£å‰ª</h2> <h3 id="21-transformscentercrop">2.1 <code class="language-plaintext highlighter-rouge">transforms.CenterCrop</code></h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">torchvision</span><span class="p">.</span><span class="n">transforms</span><span class="p">.</span><span class="n">CenterCrop</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
</code></pre></div></div> <blockquote> <ul> <li><strong>åŠŸèƒ½</strong>ï¼šä»å›¾åƒ<code class="language-plaintext highlighter-rouge">ä¸­å¿ƒè£å‰ª</code>å›¾ç‰‡</li> <li><strong>size</strong>ï¼šæ‰€éœ€è£å‰ªå›¾ç‰‡<code class="language-plaintext highlighter-rouge">å°ºå¯¸</code></li> </ul> </blockquote> <h3 id="22-transformsrandomcrop">2.2 <code class="language-plaintext highlighter-rouge">transforms.RandomCrop</code></h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">torchvision</span><span class="p">.</span><span class="n">transforms</span><span class="p">.</span><span class="n">RandomCrop</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">pad_tf_needed</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">padding_mode</span><span class="o">=</span><span class="s">'constant'</span><span class="p">)</span>
</code></pre></div></div> <blockquote> <ul> <li><strong>åŠŸèƒ½</strong>ï¼šä»å›¾ç‰‡ä¸­<code class="language-plaintext highlighter-rouge">éšæœºè£å‰ª</code>å‡ºå°ºå¯¸ä¸ºsizeçš„å›¾ç‰‡</li> <li><strong>size</strong>: æ‰€éœ€è£å‰ªå›¾ç‰‡<code class="language-plaintext highlighter-rouge">å°ºå¯¸</code></li> <li><strong>padding</strong>: è®¾ç½®å¡«å……å¤§å° å½“ä¸º<code class="language-plaintext highlighter-rouge">a</code>æ—¶ï¼Œä¸Šä¸‹å·¦å³å‡å¡«å……aä¸ªåƒç´ ï¼› å½“ä¸º<code class="language-plaintext highlighter-rouge">(a, b)</code>æ—¶ï¼Œä¸Šä¸‹å¡«å……bä¸ªåƒç´ ï¼Œå·¦å³å¡«å……aä¸ªåƒç´ ï¼› å½“ä¸º<code class="language-plaintext highlighter-rouge">(a, b, c, d)</code>æ—¶ï¼Œå·¦ã€ä¸Šã€å³ã€ä¸‹åˆ†åˆ«å¡«å……aã€bã€cã€dã€‚</li> <li><strong>pad_if_need</strong>: è‹¥å›¾åƒå°äºè®¾å®šsizeï¼Œåˆ™å¡«å……</li> <li><strong>padding_mode</strong>: å¡«å……æ¨¡å¼ï¼Œæœ‰4ç§æ¨¡å¼<br /> â…°. <code class="language-plaintext highlighter-rouge">constant</code>ï¼š é»˜è®¤æ¨¡å¼ï¼Œåƒç´ å€¼ç”±fillè®¾å®š<br /> â…±. <code class="language-plaintext highlighter-rouge">edge</code>: è¾¹ç¼˜å¡«å……ï¼Œåƒç´ å€¼ç”±å›¾åƒè¾¹ç¼˜åƒç´ è®¾å®š<br /> â…². <code class="language-plaintext highlighter-rouge">reflect</code>: é•œåƒå¡«å……ï¼Œæœ€åä¸€ä¸ªåƒç´ ä¸é•œåƒï¼Œä¾‹: $[1, 2, 3, 4]â†’[3, 2, 1, 2, 3, 4, 3, 2]$<br /> â…³. <code class="language-plaintext highlighter-rouge">symmetric</code>: é•œåƒå¡«å……ï¼Œæœ€åä¸€ä¸ªåƒç´ é•œåƒï¼Œä¾‹ï¼š$[1, 2, 3, 4]â†’[2, 1, 1, 2, 3, 4, 4, 3]$</li> <li><strong>fill</strong>: constantæ—¶ï¼Œè®¾ç½®å¡«å……çš„åƒç´ å€¼</li> </ul> </blockquote> <h3 id="23-transformsrandomresizedcrop">2.3 <code class="language-plaintext highlighter-rouge">transforms.RandomResizedCrop</code></h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">torchvision</span><span class="p">.</span><span class="n">transforms</span><span class="p">.</span><span class="n">RandomResizedCrop</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="p">(</span><span class="mf">0.08</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="n">ratio</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="o">/</span><span class="mi">3</span><span class="p">),</span> <span class="n">interpolation</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div></div> <blockquote> <ul> <li><strong>åŠŸèƒ½</strong>ï¼š<code class="language-plaintext highlighter-rouge">éšæœºå¤§å°ã€é•¿å®½</code>æ¯”è£å‰ªå›¾ç‰‡</li> <li><strong>size</strong>: æ‰€éœ€è£å‰ªå›¾ç‰‡å°ºå¯¸</li> <li><strong>scale</strong>: éšæœºè£å‰ªé¢ç§¯æ¯”ä¾‹ï¼Œé»˜è®¤ï¼ˆ0.08, 1ï¼‰</li> <li><strong>ratio</strong>: éšæœºé•¿å®½æ¯”ï¼Œé»˜è®¤ï¼ˆ3/4, 4/3ï¼‰</li> <li><strong>interpolation</strong>: æ’å€¼æ–¹æ³• PIL.Image.NEAREST æœ€é‚»è¿‘æ’å€¼ PIL.Image.BILINEAR åŒçº¿æ€§æ’å€¼ PIL.Image.BICUBIC åŒä¸‰æ¬¡æ’å€¼</li> </ul> </blockquote> <h3 id="24-transformsfivecrop">2.4 <code class="language-plaintext highlighter-rouge">transforms.FiveCrop</code></h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">torchvision</span><span class="p">.</span><span class="n">transforms</span><span class="p">.</span><span class="n">FiveCrop</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
</code></pre></div></div> <blockquote> <ul> <li><strong>åŠŸèƒ½</strong>ï¼š<code class="language-plaintext highlighter-rouge">ä¸Šä¸‹å·¦å³ä¸­å¿ƒè£å‰ª</code></li> </ul> </blockquote> <h3 id="25-transformstencrop">2.5 <code class="language-plaintext highlighter-rouge">transforms.TenCrop</code></h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">torchvision</span><span class="p">.</span><span class="n">transforms</span><span class="p">.</span><span class="n">TenCrop</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">vertical_flip</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</code></pre></div></div> <blockquote> <ul> <li><strong>åŠŸèƒ½</strong>ï¼š<code class="language-plaintext highlighter-rouge">ä¸Šä¸‹å·¦å³ä¸­å¿ƒè£å‰ªåç¿»è½¬</code>ï¼Œåœ¨å›¾åƒçš„ä¸Šä¸‹å·¦å³ä»¥åŠä¸­å¿ƒè£å‰ªå‡ºå°ºå¯¸ä¸ºsizeçš„5å¼ å›¾ç‰‡ï¼ŒTenCropå¯¹è¿™5å¼ å›¾ç‰‡è¿›è¡Œæ°´å¹³æˆ–è€…å‚ç›´é•œåƒè·å¾—10å¼ å›¾ç‰‡ï¼Œ</li> <li><strong>size</strong>: æ‰€éœ€è£å‰ªå›¾ç‰‡å°ºå¯¸</li> <li><strong>vertical_flip</strong>: æ˜¯å¦å‚ç›´ç¿»è½¬</li> </ul> </blockquote> <p><a href="https://zhuanlan.zhihu.com/p/476220305">transforms.Compose()ä½¿ç”¨</a></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># torchvision.transforms.CenterCrop
# Composeè£…è½½æ“ä½œç»„åˆçš„å®¹å™¨
# å®šä¹‰Compose å…ˆç¼©æ”¾ åä¸­å¿ƒè£å‰ª æœ€åè½¬ä¸ºtensorå¼ é‡
</span><span class="n">transforms</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">Compose</span><span class="p">([</span><span class="n">T</span><span class="p">.</span><span class="n">Resize</span><span class="p">(</span><span class="mi">224</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">CenterCrop</span><span class="p">(</span><span class="mi">224</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">ToTensor</span><span class="p">()])</span>
<span class="c1"># ä¼ å…¥transformsä¸­çš„æ•°æ®æ˜¯PILæ•°æ®ï¼Œlena_tä¸ºtensor
</span><span class="n">dog_t</span> <span class="o">=</span> <span class="n">transforms</span><span class="p">(</span><span class="n">dog</span><span class="p">)</span>  
<span class="c1"># 3*224*224 ; å½“T.CenterCrop()çš„å‚æ•°å¤§äºT.Resize()çš„å‚æ•°æ—¶ï¼Œå‘¨å›´ç”¨0å¡«å……
</span><span class="n">dog_t</span><span class="p">.</span><span class="n">shape</span>  
<span class="c1"># æœ€åå†è½¬æ¢æ ¼å¼ä¸ºPILImage
</span><span class="n">to_pil</span><span class="p">(</span><span class="n">dog_t</span><span class="p">)</span>
</code></pre></div></div> <p><strong>è¿™æ˜¯åŸå›¾ï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/f38cbdf22ca7456fadd47b689a31e330.jpeg" alt="Alt Text" /> <strong>å¤„ç†è¿‡åï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/88eef293e69f472d9769f9bcccc8f1d0.png" alt="Alt Text" /></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># torchvision.transforms.CenterCrop
# Composeè£…è½½æ“ä½œç»„åˆçš„å®¹å™¨
# å®šä¹‰Compose å…ˆç¼©æ”¾ åéšæœºè£å‰ªï¼Œä¸Šä¸‹å¡«å……64 å·¦å³å¡«å……16 æœ€åè½¬ä¸ºtensorå¼ é‡
</span><span class="n">transforms</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">Compose</span><span class="p">([</span><span class="n">T</span><span class="p">.</span><span class="n">Resize</span><span class="p">(</span><span class="mi">224</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">RandomCrop</span><span class="p">(</span><span class="mi">224</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">64</span><span class="p">)),</span><span class="n">T</span><span class="p">.</span><span class="n">ToTensor</span><span class="p">()])</span>  
<span class="c1"># ä¼ å…¥transformsä¸­çš„æ•°æ®æ˜¯PILæ•°æ®ï¼Œlena_tä¸ºtensor
</span><span class="n">dog_t</span> <span class="o">=</span> <span class="n">transforms</span><span class="p">(</span><span class="n">dog</span><span class="p">)</span>  
<span class="c1"># 3*224*224 ; å½“T.CenterCrop()çš„å‚æ•°å¤§äºT.Resize()çš„å‚æ•°æ—¶ï¼Œå‘¨å›´ç”¨0å¡«å……
</span><span class="n">dog_t</span><span class="p">.</span><span class="n">shape</span>  
<span class="c1"># æœ€åå†è½¬æ¢æ ¼å¼ä¸ºPILImage
</span><span class="n">to_pil</span><span class="p">(</span><span class="n">dog_t</span><span class="p">)</span>
<span class="c1"># Resizeï¼šç¼©æ”¾
</span></code></pre></div></div> <p><strong>è¿™æ˜¯åŸå›¾ï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/f38cbdf22ca7456fadd47b689a31e330.jpeg" alt="Alt Text" /> <strong>å¤„ç†è¿‡åï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/c1d9699648c34f8dac2383e329dcf0cf.png" alt="Alt Text" /></p> <h2 id="3-transformsflip-ç¿»è½¬">3. transformsâ€”â€”Flip ç¿»è½¬</h2> <h3 id="31-transformsrandomhorizontalflip">3.1 <code class="language-plaintext highlighter-rouge">transforms.RandomHorizontalFlip</code></h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">torchvision</span><span class="p">.</span><span class="n">transforms</span><span class="p">.</span><span class="n">RandomHorizontalFlip</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</code></pre></div></div> <blockquote> <ul> <li><strong>åŠŸèƒ½</strong>ï¼š<code class="language-plaintext highlighter-rouge">éšæœºæ°´å¹³ç¿»è½¬</code></li> </ul> </blockquote> <h3 id="32-transformsrandomverticalflip">3.2 <code class="language-plaintext highlighter-rouge">transforms.RandomVerticalFlip</code></h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">torchvision</span><span class="p">.</span><span class="n">transforms</span><span class="p">.</span><span class="n">RandomVerticalFlip</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</code></pre></div></div> <blockquote> <ul> <li><strong>åŠŸèƒ½</strong>ï¼š<code class="language-plaintext highlighter-rouge">ä¾æ®æ°´å¹³ï¼ˆå·¦å³ï¼‰æˆ–å‚ç›´ï¼ˆä¸Šä¸‹ï¼‰ç¿»è½¬å›¾ç‰‡ï¼ˆéšæœºå‚ç›´ç¿»è½¬ï¼‰</code></li> <li><strong>p</strong>: ç¿»è½¬æ¦‚ç‡</li> </ul> </blockquote> <h3 id="33-transformsrandomrotation">3.3 <code class="language-plaintext highlighter-rouge">transforms.RandomRotation</code></h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">torchvision</span><span class="p">.</span><span class="n">transforms</span><span class="p">.</span><span class="n">RandomRotation</span><span class="p">(</span><span class="n">degrees</span><span class="p">,</span> <span class="n">resample</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</code></pre></div></div> <blockquote> <ul> <li><strong>åŠŸèƒ½</strong>ï¼š<code class="language-plaintext highlighter-rouge">éšæœºæ—‹è½¬å›¾ç‰‡</code></li> <li><strong>degrees</strong>: æ—‹è½¬è§’åº¦ å½“ä¸º<code class="language-plaintext highlighter-rouge">a</code>æ—¶ï¼Œåœ¨(-a, a)ä¹‹é—´é€‰æ‹©æ—‹è½¬è§’åº¦ï¼› å½“ä¸º<code class="language-plaintext highlighter-rouge">(a, b)</code>æ—¶ï¼Œåœ¨(a, b)ä¹‹é—´é€‰æ‹©æ—‹è½¬è§’åº¦ã€‚</li> <li><strong>resample</strong>: é‡é‡‡æ ·æ–¹æ³•</li> <li><strong>expand</strong>: æ˜¯å¦æ‰©å¤§å›¾ç‰‡ï¼Œä»¥ä¿æŒåŸå›¾ä¿¡æ¯</li> <li><strong>center</strong>: ä¸­å¿ƒ ä¾‹å¦‚ (0, 0)</li> </ul> </blockquote> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># torchvision.transforms.RandomHorizontalFlip
# éšæœºæ°´å¹³ç¿»è½¬ 
# å®šä¹‰Compose å…ˆç¼©æ”¾ åæ ¹æ®æ¦‚ç‡éšæœºæ°´å¹³ç¿»è½¬ æœ€åè½¬ä¸ºtensorå¼ é‡
</span><span class="n">transforms</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">Compose</span><span class="p">([</span><span class="n">T</span><span class="p">.</span><span class="n">Resize</span><span class="p">(</span><span class="mi">224</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">RandomHorizontalFlip</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mf">0.5</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">ToTensor</span><span class="p">()])</span>  
<span class="c1"># ä¼ å…¥transformsä¸­çš„æ•°æ®æ˜¯PILæ•°æ®ï¼Œlena_tä¸ºtensor
</span><span class="n">dog_t</span> <span class="o">=</span> <span class="n">transforms</span><span class="p">(</span><span class="n">dog</span><span class="p">)</span>  
<span class="c1"># 3*224*224 ; å½“T.CenterCrop()çš„å‚æ•°å¤§äºT.Resize()çš„å‚æ•°æ—¶ï¼Œå‘¨å›´ç”¨0å¡«å……
</span><span class="n">dog_t</span><span class="p">.</span><span class="n">shape</span> 
<span class="n">to_pil</span><span class="p">(</span><span class="n">dog_t</span><span class="p">)</span>
</code></pre></div></div> <p><strong>è¿™æ˜¯åŸå›¾ï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/f38cbdf22ca7456fadd47b689a31e330.jpeg" alt="Alt Text" /> <strong>å¤„ç†è¿‡åï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/2865269626504c1b9096495c0ba9d7fe.png" alt="Alt Text" /></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># torchvision.transforms.RandomRotation
# éšæœºç¿»è½¬ 
# å®šä¹‰Compose å…ˆç¼©æ”¾ åéšæœºæ—‹è½¬ 30Â° æ—‹è½¬ä¸­å¿ƒ(0, 0) æ‰©å¤§å›¾ç‰‡ æœ€åè½¬ä¸ºtensorå¼ é‡
</span><span class="n">transforms</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">Compose</span><span class="p">([</span><span class="n">T</span><span class="p">.</span><span class="n">Resize</span><span class="p">(</span><span class="mi">224</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">RandomRotation</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">expand</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">ToTensor</span><span class="p">()])</span>  <span class="c1"># Resizeï¼šç¼©æ”¾
# ä¼ å…¥transformsä¸­çš„æ•°æ®æ˜¯PILæ•°æ®ï¼Œlena_tä¸ºtensor
</span><span class="n">dog_t</span> <span class="o">=</span> <span class="n">transforms</span><span class="p">(</span><span class="n">dog</span><span class="p">)</span>  
<span class="c1"># 3*224*224 ; å½“T.CenterCrop()çš„å‚æ•°å¤§äºT.Resize()çš„å‚æ•°æ—¶ï¼Œå‘¨å›´ç”¨0å¡«å……
</span><span class="n">dog_t</span><span class="p">.</span><span class="n">shape</span> 
<span class="n">to_pil</span><span class="p">(</span><span class="n">dog_t</span><span class="p">)</span>
</code></pre></div></div> <p><strong>è¿™æ˜¯åŸå›¾ï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/f38cbdf22ca7456fadd47b689a31e330.jpeg" alt="Alt Text" /> <strong>å¤„ç†è¿‡åï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/e18640e6ec16488d81108fac732d5e34.png" alt="Alt Text" /></p> <h2 id="4-å›¾åƒå˜æ¢">4. å›¾åƒå˜æ¢</h2> <h3 id="41-transformspad">4.1 <code class="language-plaintext highlighter-rouge">transforms.Pad</code></h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">torchvision</span><span class="p">.</span><span class="n">transforms</span><span class="p">.</span><span class="n">Pad</span><span class="p">(</span><span class="n">padding</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">padding_mode</span><span class="o">=</span><span class="s">'constant'</span><span class="p">)</span>
</code></pre></div></div> <blockquote> <ul> <li><strong>åŠŸèƒ½</strong>ï¼š<code class="language-plaintext highlighter-rouge">å¯¹å›¾åƒè¾¹ç¼˜è¿›è¡Œå¡«å……</code></li> <li><strong>padding</strong>: è®¾ç½®å¡«å……å¤§å° å½“ä¸º<code class="language-plaintext highlighter-rouge">a</code>æ—¶ï¼Œä¸Šä¸‹å·¦å³å‡å¡«å……aä¸ªåƒç´ ï¼› å½“ä¸º<code class="language-plaintext highlighter-rouge">(a, b)</code>æ—¶ï¼Œä¸Šä¸‹å¡«å……bä¸ªåƒç´ ï¼Œå·¦å³å¡«å……aä¸ªåƒç´ ï¼› å½“ä¸º<code class="language-plaintext highlighter-rouge">(a, b, c, d)</code>æ—¶ï¼Œå·¦ã€ä¸Šã€å³ã€ä¸‹åˆ†åˆ«å¡«å……aã€bã€cã€dã€‚</li> <li><strong>padding_mode</strong>: å¡«å……æ¨¡å¼ï¼Œæœ‰4ç§æ¨¡å¼ï¼Œ<code class="language-plaintext highlighter-rouge">constant</code>ã€<code class="language-plaintext highlighter-rouge">edge</code>ã€<code class="language-plaintext highlighter-rouge">reflect</code>å’Œ<code class="language-plaintext highlighter-rouge">symmetric</code> è§ä¸Šè¾¹è¯¦ç»†</li> <li><strong>fill</strong>: constantæ—¶ï¼Œè®¾ç½®å¡«å……çš„åƒç´ å€¼ï¼Œï¼ˆR, G, Bï¼‰orï¼ˆGrayï¼‰</li> </ul> </blockquote> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># constant padding ä¸Šä¸‹å·¦å³ 20 å¡«å……çº¢è‰²RGB 
</span><span class="n">transforms</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">Compose</span><span class="p">([</span><span class="n">T</span><span class="p">.</span><span class="n">Resize</span><span class="p">(</span><span class="mi">224</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">Pad</span><span class="p">(</span><span class="n">padding</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">padding_mode</span><span class="o">=</span><span class="s">'constant'</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">ToTensor</span><span class="p">()])</span>  <span class="c1"># Resizeï¼šç¼©æ”¾
</span></code></pre></div></div> <p><strong>è¿™æ˜¯åŸå›¾ï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/f38cbdf22ca7456fadd47b689a31e330.jpeg" alt="Alt Text" /> <strong>å¤„ç†è¿‡åï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/3269374e34f84fb8bf543d08f50ec6c9.png" alt="Alt Text" /></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># é•œåƒå¡«å……ã€‚è¿™æ—¶`padding_mode`å±æ€§ä¸æ˜¯`constant`ï¼Œ fill å±æ€§ä¸å†ç”Ÿæ•ˆã€‚
</span><span class="n">transforms</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">Compose</span><span class="p">([</span><span class="n">T</span><span class="p">.</span><span class="n">Resize</span><span class="p">(</span><span class="mi">224</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">Pad</span><span class="p">(</span><span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">48</span><span class="p">),</span> <span class="n">fill</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">padding_mode</span><span class="o">=</span><span class="s">'symmetric'</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">ToTensor</span><span class="p">()])</span>  <span class="c1"># Resizeï¼šç¼©æ”¾
</span></code></pre></div></div> <p><strong>è¿™æ˜¯åŸå›¾ï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/f38cbdf22ca7456fadd47b689a31e330.jpeg" alt="Alt Text" /> <strong>å¤„ç†è¿‡åï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/2a92fcdcb0c0498aa2c9904da9b14342.png" alt="Alt Text" /></p> <h3 id="42-transformscolorjitter">4.2 <code class="language-plaintext highlighter-rouge">transforms.ColorJitter</code></h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">torchvision</span><span class="p">.</span><span class="n">transforms</span><span class="p">.</span><span class="n">ColorJitter</span><span class="p">(</span><span class="n">brightness</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">contrast</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">saturation</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div></div> <blockquote> <ul> <li><strong>åŠŸèƒ½</strong>ï¼š<code class="language-plaintext highlighter-rouge">è°ƒæ•´äº®åº¦ã€å¯¹æ¯”åº¦ã€é¥±å’Œåº¦å’Œè‰²ç›¸</code></li> <li><strong>brightness</strong>: äº®åº¦è°ƒæ•´å› å­ å½“ä¸º<code class="language-plaintext highlighter-rouge">a</code>æ—¶ï¼Œä» [ğ‘šğ‘ğ‘¥(0,1âˆ’ğ‘),1+ğ‘] ä¸­éšæœºé€‰æ‹©ï¼› å½“ä¸º<code class="language-plaintext highlighter-rouge">(a, b)</code>æ—¶ï¼Œä» [ğ‘,ğ‘] ä¸­éšæœºé€‰æ‹©ã€‚</li> <li><strong>contrast</strong>: å¯¹æ¯”åº¦å‚æ•°ï¼ŒåŒbrightness</li> <li><strong>saturation</strong>: é¥±å’Œåº¦å‚æ•°ï¼ŒåŒbrightness</li> <li><strong>hue</strong>: è‰²ç›¸å‚æ•° å½“ä¸º<code class="language-plaintext highlighter-rouge">a</code>æ—¶ï¼Œä» [âˆ’ğ‘,ğ‘] ä¸­é€‰æ‹©å‚æ•°ï¼Œæ³¨ï¼š 0â‰¤ğ‘â‰¤0.5 å½“ä¸º<code class="language-plaintext highlighter-rouge">(a, b)</code>æ—¶ï¼Œä» [ğ‘,ğ‘] ä¸­é€‰æ‹©å‚æ•°ï¼Œæ³¨ï¼š âˆ’0.5â‰¤ğ‘â‰¤ğ‘â‰¤0.5</li> </ul> </blockquote> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">transforms</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">Compose</span><span class="p">([</span><span class="n">T</span><span class="p">.</span><span class="n">Resize</span><span class="p">(</span><span class="mi">224</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">ColorJitter</span><span class="p">(</span><span class="n">brightness</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">contrast</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">saturation</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="mf">0.3</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">ToTensor</span><span class="p">()])</span>  <span class="c1"># Resizeï¼šç¼©æ”¾
</span></code></pre></div></div> <p><strong>ç‹—ç‹—é¢œè‰²ä¸å¤ªæ˜æ˜¾ï¼Œæ¢æˆäº†ä¸€åªçŒ«</strong> <strong>è¿™æ˜¯åŸå›¾ï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/a7c92405073e466a8287f0517650f777.jpeg" alt="Alt Text" /> <strong>å¤„ç†è¿‡åï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/937e56c9c450483db4edaa89c044f05b.png" alt="Alt Text" /></p> <h3 id="43-transformsgrayscale">4.3 <code class="language-plaintext highlighter-rouge">transforms.Grayscale</code></h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">torchvision</span><span class="p">.</span><span class="n">transforms</span><span class="p">.</span><span class="n">Grayscale</span><span class="p">(</span><span class="n">num_output_channels</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></div> <blockquote> <ul> <li><strong>åŠŸèƒ½</strong>ï¼š<code class="language-plaintext highlighter-rouge">å°†å›¾ç‰‡è½¬æ¢ä¸ºç°åº¦å›¾</code></li> <li><strong>num_output_channels</strong>: è¾“å‡ºçš„<code class="language-plaintext highlighter-rouge">é€šé“æ•°</code>ã€‚åªèƒ½è®¾ç½®ä¸º 1 æˆ–è€… 3 (å¦‚æœåœ¨åé¢ä½¿ç”¨äº†transforms.Normalizeï¼Œåˆ™è¦è®¾ç½®ä¸º 3ï¼Œå› ä¸ºtransforms.Normalizeåªèƒ½æ¥æ”¶ 3 é€šé“çš„è¾“å…¥)</li> </ul> </blockquote> <p><strong>è¿™æ˜¯åŸå›¾ï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/a7c92405073e466a8287f0517650f777.jpeg" alt="Alt Text" /> <strong>å¤„ç†è¿‡åï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/bcc3606b0ea84a49b7569d11e6d96f4b.png" alt="Alt Text" /></p> <h3 id="44-transformsrandomgrayscale">4.4 <code class="language-plaintext highlighter-rouge">transforms.RandomGrayscale</code></h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">torchvision</span><span class="p">.</span><span class="n">transforms</span><span class="p">.</span><span class="n">RandomGrayscale</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</code></pre></div></div> <blockquote> <ul> <li><strong>åŠŸèƒ½</strong>ï¼š<code class="language-plaintext highlighter-rouge">ä¾æ¦‚ç‡å°†å›¾ç‰‡è½¬æ¢ä¸ºç°åº¦å›¾</code></li> <li><strong>p</strong>: <code class="language-plaintext highlighter-rouge">æ¦‚ç‡å€¼</code>ï¼Œå›¾åƒè¢«è½¬æ¢ä¸ºç°åº¦å›¾çš„æ¦‚ç‡</li> </ul> </blockquote> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">transforms</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">Compose</span><span class="p">([</span><span class="n">T</span><span class="p">.</span><span class="n">Resize</span><span class="p">(</span><span class="mi">224</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">RandomGrayscale</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mf">0.5</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">ToTensor</span><span class="p">()])</span>  
</code></pre></div></div> <h3 id="45-transformsrandomaffine">4.5 <code class="language-plaintext highlighter-rouge">transforms.RandomAffine</code></h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">torchvision</span><span class="p">.</span><span class="n">transforms</span><span class="p">.</span><span class="n">RandomAffine</span><span class="p">(</span><span class="n">degrees</span><span class="p">,</span> <span class="n">translate</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">shear</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">resample</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fillcolor</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div></div> <blockquote> <ul> <li><strong>åŠŸèƒ½</strong>ï¼š<code class="language-plaintext highlighter-rouge">å¯¹å›¾åƒè¿›è¡Œä»¿å°„å˜æ¢</code>ï¼Œä»¿å°„å˜æ¢æ˜¯äºŒç»´çš„çº¿æ€§å˜æ¢ï¼Œç”±äº”ç§åŸºæœ¬åŸå­å˜æ¢æ„æˆï¼Œåˆ†åˆ«æ˜¯<code class="language-plaintext highlighter-rouge">æ—‹è½¬ã€å¹³ç§»ã€ç¼©æ”¾ã€é”™åˆ‡å’Œç¿»è½¬</code></li> <li><strong>translate</strong>: å¹³ç§»åŒºé—´è®¾ç½®ï¼Œå¦‚(a, b)ï¼Œaè®¾ç½®å®½(width)ï¼Œbè®¾ç½®é«˜(height)ï¼Œå›¾åƒåœ¨å®½ç»´åº¦å¹³ç§»åŒºé—´ä¸º <code class="language-plaintext highlighter-rouge">- img_widthÃ—a &lt; dx &lt; img_widthÃ—a</code></li> <li><strong>scale</strong>: ç¼©æ”¾æ¯”ä¾‹ï¼ˆä»¥é¢ç§¯ä¸ºå•ä½ï¼‰</li> <li><strong>fill_color</strong>: å¡«å……é¢œè‰²è®¾ç½®</li> <li><strong>shear</strong>: é”™åˆ‡è§’åº¦è®¾ç½®ï¼Œæœ‰æ°´å¹³é”™åˆ‡å’Œå‚ç›´é”™åˆ‡ è‹¥ä¸º<code class="language-plaintext highlighter-rouge">a</code>ï¼Œåˆ™ä»…åœ¨xè½´é”™åˆ‡ï¼Œé”™åˆ‡è§’åº¦åœ¨(-a, a)ä¹‹é—´ï¼› è‹¥ä¸º<code class="language-plaintext highlighter-rouge">(a, b)</code>ï¼Œåˆ™aè®¾ç½®xè½´è§’åº¦ï¼Œbè®¾ç½®yçš„è§’åº¦ï¼› è‹¥ä¸º<code class="language-plaintext highlighter-rouge">(a, b, c, d)</code>ï¼Œåˆ™aã€bè®¾ç½®xè½´è§’åº¦ï¼Œcã€dè®¾ç½®yè½´è§’åº¦ã€‚</li> <li><strong>resample</strong>: é‡é‡‡æ ·æ–¹å¼ï¼Œæœ‰<code class="language-plaintext highlighter-rouge">NEARESTã€BILINEARã€BICUBIC</code></li> </ul> </blockquote> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ä¸­å¿ƒæ—‹è½¬ 30 åº¦
</span><span class="n">transforms</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">Compose</span><span class="p">([</span><span class="n">T</span><span class="p">.</span><span class="n">Resize</span><span class="p">(</span><span class="mi">224</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">RandomAffine</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">ToTensor</span><span class="p">()])</span> 
</code></pre></div></div> <p><strong>è¿™æ˜¯åŸå›¾ï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/a7c92405073e466a8287f0517650f777.jpeg" alt="Alt Text" /> <strong>å¤„ç†è¿‡åï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/34d1de54acc94043a80665fe3d816eda.png" alt="Alt Text" /></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># å¹³ç§»
</span><span class="n">transforms</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">Compose</span><span class="p">([</span><span class="n">T</span><span class="p">.</span><span class="n">Resize</span><span class="p">(</span><span class="mi">224</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">RandomAffine</span><span class="p">(</span><span class="n">degrees</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">translate</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">)),</span><span class="n">T</span><span class="p">.</span><span class="n">ToTensor</span><span class="p">()])</span>
</code></pre></div></div> <p><strong>è¿™æ˜¯åŸå›¾ï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/a7c92405073e466a8287f0517650f777.jpeg" alt="Alt Text" /> <img src="https://blog.slienceme.cn/images/posts/97e0d949ac224058af2af7497c6bdc4f.png" alt="Alt Text" /></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ç¼©æ”¾
</span><span class="n">transforms</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">Compose</span><span class="p">([</span><span class="n">T</span><span class="p">.</span><span class="n">Resize</span><span class="p">(</span><span class="mi">224</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">RandomAffine</span><span class="p">(</span><span class="n">degrees</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">)),</span><span class="n">T</span><span class="p">.</span><span class="n">ToTensor</span><span class="p">()])</span>  <span class="c1"># Resizeï¼šç¼©æ”¾
</span></code></pre></div></div> <p><strong>è¿™æ˜¯åŸå›¾ï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/a7c92405073e466a8287f0517650f777.jpeg" alt="Alt Text" /> <strong>å¤„ç†è¿‡åï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/7365b0ad9dc342a895b5acd4d6c1b6c1.png" alt="Alt Text" /></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># é”™åˆ‡
</span><span class="n">transforms</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">Compose</span><span class="p">([</span><span class="n">T</span><span class="p">.</span><span class="n">Resize</span><span class="p">(</span><span class="mi">224</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">RandomAffine</span><span class="p">(</span><span class="n">degrees</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">shear</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">)),</span><span class="n">T</span><span class="p">.</span><span class="n">ToTensor</span><span class="p">()])</span> 
</code></pre></div></div> <p><strong>è¿™æ˜¯åŸå›¾ï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/a7c92405073e466a8287f0517650f777.jpeg" alt="Alt Text" /> <strong>å¤„ç†è¿‡åï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/2de5d603099040e0a52fe81a46a3c505.png" alt="Alt Text" /></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># é”™åˆ‡
</span><span class="n">transforms</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">Compose</span><span class="p">([</span><span class="n">T</span><span class="p">.</span><span class="n">Resize</span><span class="p">(</span><span class="mi">224</span><span class="p">),</span><span class="n">T</span><span class="p">.</span><span class="n">RandomAffine</span><span class="p">(</span><span class="n">degrees</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">shear</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">fillcolor</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span><span class="n">T</span><span class="p">.</span><span class="n">ToTensor</span><span class="p">()])</span>
</code></pre></div></div> <p><strong>è¿™æ˜¯åŸå›¾ï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/a7c92405073e466a8287f0517650f777.jpeg" alt="Alt Text" /> <strong>å¤„ç†è¿‡åï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/47b31e68544f44a7a43d23e9e7c10145.png" alt="Alt Text" /></p> <h3 id="46-transformsrandomerasing">4.6 <code class="language-plaintext highlighter-rouge">transforms.RandomErasing</code></h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">torchvision</span><span class="p">.</span><span class="n">transforms</span><span class="p">.</span><span class="n">RandomErasing</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="p">(</span><span class="mf">0.02</span><span class="p">,</span> <span class="mf">0.33</span><span class="p">),</span> <span class="n">ratio</span><span class="o">=</span><span class="p">(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">3.3</span><span class="p">),</span> <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</code></pre></div></div> <blockquote> <ul> <li><strong>åŠŸèƒ½</strong>ï¼š<code class="language-plaintext highlighter-rouge">å¯¹å›¾åƒè¿›è¡Œéšæœºé®æŒ¡</code></li> <li><strong>p</strong>: æ¦‚ç‡å€¼ï¼Œæ‰§è¡Œè¯¥æ“ä½œçš„æ¦‚ç‡</li> <li><strong>scale</strong>: é®æŒ¡åŒºåŸŸçš„é¢ç§¯</li> <li><strong>ratio</strong>: é®æŒ¡åŒºåŸŸé•¿å®½æ¯”</li> <li><strong>value</strong>: è®¾ç½®é®æŒ¡åŒºåŸŸçš„åƒç´ å€¼ï¼Œï¼ˆR, G, Bï¼‰orï¼ˆGrayï¼‰</li> </ul> </blockquote> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># å¯¹å›¾åƒè¿›è¡Œéšæœºé®æŒ¡ã€‚
# è¾“å…¥æ˜¯ tensor  å…ˆæ‰§è¡Œtransforms.ToTensor()
</span><span class="n">transforms</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">Compose</span><span class="p">([</span><span class="n">T</span><span class="p">.</span><span class="n">Resize</span><span class="p">(</span><span class="mi">224</span><span class="p">),</span> <span class="n">T</span><span class="p">.</span><span class="n">ToTensor</span><span class="p">(),</span> <span class="n">T</span><span class="p">.</span><span class="n">RandomErasing</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="p">(</span><span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.32</span><span class="p">),</span> <span class="n">ratio</span><span class="o">=</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">),</span> <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">False</span><span class="p">)])</span>
</code></pre></div></div> <p><strong>è¿™æ˜¯åŸå›¾ï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/a7c92405073e466a8287f0517650f777.jpeg" alt="Alt Text" /> <strong>å¤„ç†è¿‡åï¼š</strong> <img src="https://blog.slienceme.cn/images/posts/0b4172e0a459455ea13057abe250a2f4.png" alt="Alt Text" /></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">transforms</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">Compose</span><span class="p">([</span><span class="n">T</span><span class="p">.</span><span class="n">Resize</span><span class="p">(</span><span class="mi">224</span><span class="p">),</span> <span class="n">T</span><span class="p">.</span><span class="n">ToTensor</span><span class="p">(),</span> <span class="n">T</span><span class="p">.</span><span class="n">RandomErasing</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="p">(</span><span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.32</span><span class="p">),</span> <span class="n">ratio</span><span class="o">=</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">),</span> <span class="n">value</span><span class="o">=</span><span class="s">'random'</span><span class="p">)])</span>
</code></pre></div></div> <p><img src="https://blog.slienceme.cn/images/posts/95ca6f13c63d47f9ae8ddf2d521380eb.png" alt="Alt Text" /></p> <h3 id="47-transformslambda">4.7 <code class="language-plaintext highlighter-rouge">transforms.Lambda</code></h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">torchvision</span><span class="p">.</span><span class="n">transforms</span><span class="p">.</span><span class="n">Lambda</span><span class="p">(</span><span class="n">lambd</span><span class="p">)</span>
</code></pre></div></div> <blockquote> <ul> <li><strong>åŠŸèƒ½</strong>ï¼š<code class="language-plaintext highlighter-rouge">ç”¨æˆ·è‡ªå®šä¹‰lambdaæ–¹æ³•</code></li> <li><strong>lambd</strong>: lambdaåŒ¿åå‡½æ•° ä¾‹å¦‚ï¼štransforms.Lambda(lambda crops: torch.stack([transforms.Totensor()(crop) for crop in crops]))</li> </ul> </blockquote> <h3 id="48-transformsresize">4.8 <code class="language-plaintext highlighter-rouge">transforms.Resize</code></h3> <blockquote> <ul> <li><strong>åŠŸèƒ½</strong>ï¼š<code class="language-plaintext highlighter-rouge">å°†è¾“å…¥å›¾åƒ(PIL Image or Tensor)è°ƒæ•´ä¸ºç»™å®šçš„å¤§å°</code>ã€‚å¦‚æœå›¾åƒæ˜¯torchå¼ é‡ï¼Œåˆ™æœŸæœ›å®ƒå…·æœ‰[Cï¼ŒH, W]å½¢çŠ¶ï¼ŒCå…¶ä¸­è¡¨ç¤ºä»»æ„æ•°é‡çš„å¼ é‡ç»´åº¦</li> <li><strong>size (sequence or int)</strong>: æœŸæœ›è¾“å‡ºå¤§å°ã€‚å¦‚æœsizeæ˜¯(h, w)è¿™æ ·çš„åºåˆ—ï¼Œåˆ™è¾“å‡ºsizeå°†ä¸æ­¤åŒ¹é…ã€‚å¦‚æœsizeä¸ºintï¼Œå›¾åƒçš„è¾ƒå°è¾¹ç¼˜å°†åŒ¹é…æ­¤æ•°å­—ã€‚å³ï¼Œå¦‚æœé«˜åº¦&gt;å®½åº¦ï¼Œé‚£ä¹ˆå›¾åƒå°†è¢«é‡æ–°ç¼©æ”¾ä¸º(size*é«˜åº¦/å®½åº¦ï¼Œsize)</li> <li><strong>interpolation (InterpolationMode)</strong>: ç”±torchvision.transforms.InterpolationModeå®šä¹‰çš„æœŸæœ›æ’å€¼æšä¸¾ã€‚é»˜è®¤ä¸ºInterpolationMode.BILINEARã€‚å¦‚æœè¾“å…¥æ˜¯å¼ é‡ï¼Œåªæœ‰InterpolationMode</li> <li><strong>max_size (int, optional)</strong>: è°ƒæ•´åå›¾åƒçš„é•¿è¾¹å…è®¸çš„æœ€å¤§å€¼:å¦‚æœæ ¹æ®sizeè°ƒæ•´åå›¾åƒçš„é•¿è¾¹å¤§äºmax sizeï¼Œåˆ™å†æ¬¡è°ƒæ•´å›¾åƒï¼Œä½¿é•¿è¾¹ç­‰äºmax sizeã€‚å› æ­¤ï¼Œsizeå¯èƒ½è¢«å¦å†³ï¼Œå³è¾ƒå°çš„è¾¹å¯èƒ½æ¯”å¤§å°çŸ­ã€‚è¿™åªåœ¨sizeä¸ºint(æˆ–åœ¨torchscriptæ¨¡å¼ä¸‹é•¿åº¦ä¸º1çš„åºåˆ—)æ—¶æ‰æ”¯æŒã€‚</li> <li><strong>antialias (bool, optional)</strong>: æŠ—é”¯é½¿æ ‡å¿—ã€‚å¦‚æœimgæ˜¯PIL Imageï¼Œè¯¥æ ‡å¿—å°†è¢«å¿½ç•¥ï¼Œå¹¶ä¸”å§‹ç»ˆä½¿ç”¨ååˆ«åã€‚å¦‚æœimgæ˜¯Tensorï¼Œè¯¥æ ‡å¿—é»˜è®¤ä¸ºFalse, InterpolationModeå¯ä»¥è®¾ç½®ä¸ºTrueã€‚åŒçº¿æ€§å’Œæ’å€¼æ¨¡å¼ã€‚åŒä¸‰æ¬¡çš„æ¨¡å¼ã€‚è¿™æœ‰åŠ©äºä½¿PILå›¾åƒçš„è¾“å‡ºå’Œå¼ é‡æ›´æ¥è¿‘ã€‚</li> </ul> </blockquote> <h3 id="49-transformstotensor">4.9 <code class="language-plaintext highlighter-rouge">transforms.Totensor</code></h3> <blockquote> <ul> <li><strong>åŠŸèƒ½</strong>ï¼šå°†åŸå§‹çš„PILImageæ ¼å¼æˆ–è€…numpy.arrayæ ¼å¼çš„æ•°æ®æ ¼å¼åŒ–ä¸ºå¯è¢«pytorchå¿«é€Ÿå¤„ç†çš„å¼ é‡ç±»å‹ã€‚ è¾“å…¥æ¨¡å¼ä¸ºï¼ˆLã€LAã€Pã€Iã€Fã€RGBã€YCbCrã€RGBAã€CMYKã€1ï¼‰çš„PIL Imageæˆ–numpy.ndarray (å½¢çŠ¶ä¸ºH x W x C)æ•°æ®èŒƒå›´æ˜¯[0, 255] åˆ°ä¸€ä¸ªTorch.FloatTensorï¼Œå…¶å½¢çŠ¶ (C x H x W) åœ¨ [0.0, 1.0] èŒƒå›´å†…ã€‚ ```python import numpy as np from torchvision import transforms</li> </ul> </blockquote> <p>a = np.random.random((224,224,3)) transform = transforms.Compose([ transforms.ToTensor() ]) b = transform(a) print(b.shape)</p> <h1 id="torchsize3-224-224">torch.Size([3, 224, 224])</h1> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### 4.10 `transforms.Normalize`

æ•°æ®æ ‡å‡†åŒ–ï¼Œå³å‡å€¼ä¸º0ï¼Œæ ‡å‡†å·®ä¸º1

&gt;  - **åŠŸèƒ½**ï¼šè¦å°†å›¾åƒä¸‰ä¸ªé€šé“çš„æ•°æ® æ•´ç†åˆ° [-1,1] ä¹‹é—´ ï¼Œå¯ä»¥åŠ å¿«æ¨¡å‹çš„æ”¶æ•›
    å¯¹å›¾åƒå¼ é‡çš„æ¯ä¸€ä¸ªæ•°æ®è¿›è¡Œå¦‚ä¸‹å…¬å¼æ“ä½œï¼š
    output[channel] = (input[channel] - mean[channel]) / std[channel],
     è¿”å›å½’ä¸€åŒ–å¼ é‡å›¾åƒ ï¼ˆè¿”å›ç±»å‹ typeï¼‰
&gt;  - **mean**ï¼š(sequence)æ¯ä¸ªé€šé“çš„å‡å€¼åºåˆ—
&gt;  - **std**ï¼š(sequence)æ¯ä¸ªé€šé“çš„æ ‡å‡†å·®åºåˆ—
&gt;  - **inplace**ï¼š(boolï¼Œå¯é€‰)boolå€¼ï¼Œä½¿è¯¥æ“ä½œå°±åœ°æ‰§è¡Œ



## 5. transformsçš„æ“ä½œ
### 5.1 `transforms.RandomChoice`


```python
torchvision.transforms.RandomChoice(transforms)
</code></pre></div></div> <blockquote> <ul> <li><strong>åŠŸèƒ½</strong>ï¼šä»ä¸€ç³»åˆ—transformsæ–¹æ³•ä¸­<code class="language-plaintext highlighter-rouge">éšæœºæŒ‘é€‰</code>ä¸€ä¸ª</li> </ul> </blockquote> <h3 id="52-transformsrandomapply">5.2 <code class="language-plaintext highlighter-rouge">transforms.RandomApply</code></h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">torchvision</span><span class="p">.</span><span class="n">transforms</span><span class="p">.</span><span class="n">RandomApply</span><span class="p">(</span><span class="n">transforms</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</code></pre></div></div> <blockquote> <ul> <li><strong>åŠŸèƒ½</strong>ï¼š<code class="language-plaintext highlighter-rouge">ä¾æ®æ¦‚ç‡</code>æ‰§è¡Œä¸€ç»„transformsæ“ä½œ</li> </ul> </blockquote> <h3 id="53-transformsrandomorder">5.3 <code class="language-plaintext highlighter-rouge">transforms.RandomOrder</code></h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">torchvision</span><span class="p">.</span><span class="n">transforms</span><span class="p">.</span><span class="n">RandomOrder</span><span class="p">(</span><span class="n">transforms</span><span class="p">)</span>
</code></pre></div></div> <blockquote> <ul> <li><strong>åŠŸèƒ½</strong>ï¼šå¯¹ä¸€ç»„transformsæ“ä½œ<code class="language-plaintext highlighter-rouge">æ‰“ä¹±é¡ºåº</code></li> </ul> </blockquote> <h2 id="6-è‡ªå®šä¹‰transforms">6. è‡ªå®šä¹‰transforms</h2> <blockquote> <p><strong>è‡ªå®šä¹‰transformsè¦ç´ </strong>ï¼š</p> <ul> <li>ä»…æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå‚æ•°</li> <li>æ³¨æ„ä¸Šä¸‹æ¸¸çš„è¾“å‡ºä¸è¾“å…¥</li> </ul> </blockquote> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Compose</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">img</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">transforms</span><span class="p">:</span>
            <span class="n">img</span> <span class="o">=</span> <span class="n">t</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">img</span>
</code></pre></div></div> <p><strong>é€šè¿‡ç±»å®ç°å¤šå‚æ•°ä¼ å…¥ï¼š</strong></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">YourTransforms</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transforms</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">transforms</span> <span class="o">=</span> <span class="n">transforms</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">img</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">transforms</span><span class="p">:</span>
            <span class="n">img</span> <span class="o">=</span> <span class="n">t</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">img</span>
</code></pre></div></div> <blockquote> <p><strong>æ¤’ç›å™ªå£°</strong>åˆç§°ä¸ºè„‰å†²å™ªå£°ï¼Œæ˜¯ä¸€ç§éšæœºå‡ºç°çš„ç™½ç‚¹æˆ–è€…é»‘ç‚¹ï¼Œç™½ç‚¹ç§°ä¸ºç›å™ªå£°ï¼Œé»‘è‰²ä¸ºæ¤’å™ªå£°ã€‚ ä¿¡å™ªæ¯”ï¼ˆSignal-Noise Rateï¼ŒSNRï¼‰æ˜¯è¡¡é‡å™ªå£°çš„æ¯”ä¾‹ï¼Œå›¾åƒä¸­ä¸ºå›¾åƒåƒç´ çš„å æ¯”ã€‚</p> </blockquote> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">AddPepperNoise</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">snr</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">snr</span> <span class="o">=</span> <span class="n">snr</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="n">p</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">img</span><span class="p">):</span>
        <span class="c1"># æ·»åŠ æ¤’ç›å™ªå£°å…·ä½“å®ç°è¿‡ç¨‹
</span>        <span class="n">img</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">return</span> <span class="n">img</span>
</code></pre></div></div> <h2 id="æ±‡æ€»">æ±‡æ€»</h2> <h3 id="transformsæ–¹æ³•">transformsæ–¹æ³•</h3> <ol> <li>è£å‰ª<br /> a. transforms.CenterCrop<br /> b. transforms.RandomCrop<br /> c. transforms.RandomResizedCrop<br /> d. transforms.FiveCrop<br /> e. transforms.TenCrop</li> <li>ç¿»è½¬å’Œæ—‹è½¬<br /> a. transforms.RandomHorizontalFlip<br /> b. transforms.RandomVerticalFlip<br /> c. transforms.RandomRotation</li> <li>å›¾åƒå˜æ¢<br /> a. transforms.Pad<br /> b. transforms.ColorJitter<br /> c. transforms.Grayscale<br /> d. transforms.RandomGrayscale<br /> e. transforms.RandomAffine<br /> f. transforms.LinearTransformation <br /> g. transforms.RandomErasing<br /> h. transforms.Lambda<br /> i. transforms.Resize<br /> j. transforms.Totensor<br /> k. transforms.Normalize</li> <li>transformsçš„æ“ä½œ<br /> a. transforms.RandomChoice<br /> b. transforms.RandomApply<br /> c. transforms.RandomOrder</li> </ol> <blockquote> <p>éƒ¨åˆ†å­¦ä¹ å†…å®¹æ¥è‡ªï¼š å¤©æ± å®éªŒå®¤</p> </blockquote> <div style="margin-top:2em;padding:0 1.5em;border:1px solid #d3d3d3;background-color:#deebf7"> <h3>æ–‡æ¡£ä¿¡æ¯</h3> <ul> <li>æœ¬æ–‡ä½œè€…ï¼š<a href="https://blog.slienceme.cn" target="_blank">slience_me</a></li> <li>æœ¬æ–‡é“¾æ¥ï¼š<a href="https://blog.slienceme.cn/2023/09/18/transforms%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86/" target="_blank">https://blog.slienceme.cn/2023/09/18/transforms%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86/</a></li> <li>ç‰ˆæƒå£°æ˜ï¼šè‡ªç”±è½¬è½½-éå•†ç”¨-éè¡ç”Ÿ-ä¿æŒç½²åï¼ˆ<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank">åˆ›æ„å…±äº«3.0è®¸å¯è¯</a>ï¼‰</li> </ul> </div> </article> <div class="share"> <div class="share-component" data-disabled='qq,facebook'></div> </div> <div class="comment"> <script src="https://giscus.app/client.js" data-repo="slience-me/blog-comments" data-repo-id="R_kgDOKr27jA" data-category="Announcements" data-category-id="DIC_kwDOKr27jM4CnWMe" data-mapping="title" data-strict="1" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous" async> </script> </div> </div> <div class="column one-fourth"> <h3>Search</h3> <div id="site_search"> <input style="width:96%" type="text" id="search_box" placeholder="Search"> </div> <ul id="search_results" style="font-size:14px;list-style-type:none;padding-top:10px;padding-left:10px;"></ul> <script src="https://blog.slienceme.cn/assets/js/simple-jekyll-search.min.js"></script> <script type="text/javascript"> SimpleJekyllSearch({ searchInput: document.getElementById('search_box'), resultsContainer: document.getElementById('search_results'), json: 'https://blog.slienceme.cn/assets/search_data.json?v=1740641700', searchResultTemplate: '<li><a href="{url}" title="{title}">{title}</a></li>', noResultsText: 'No results found', limit: 10, fuzzy: false, exclude: ['Welcome'] }) </script> <h3 class="post-directory-title mobile-hidden">Table of Contents</h3> <div id="post-directory-module" class="mobile-hidden"> <section class="post-directory"> <dl></dl> </section> </div> <script src="https://blog.slienceme.cn/assets/js/jquery.toc.js"></script> </div> </div> </section> <footer class="container"> <div class="site-footer" role="contentinfo"> <div class="copyright left mobile-block"> Copyright@ 2019-2025 slience_me ç‰ˆæƒæ‰€æœ‰&emsp; <img src="/images/logo/logo.png" class="w-full" style="width: 12px;"> <a href="https://beian.mps.gov.cn/#/query/webSearch?code=13102202000626" rel="noreferrer" target="_blank">å†€å…¬ç½‘å®‰å¤‡13102202000626</a>&emsp; <a href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank" rel="noreferrer">æ´¥ICPå¤‡2024026565å·-1</a> <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a> </div> <ul class="site-footer-links right mobile-hidden"> <li> <a href="javascript:window.scrollTo(0,0)" >TOP</a> </li> </ul> <br/> <script defer src="https://vercount.one/js"></script> <div class="mobile-hidden" style="margin-top:8px"> <span id="busuanzi_container_site_pv" style="display:none"> æœ¬ç«™è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡ </span> <span id="busuanzi_container_site_uv" style="display:none"> / æœ¬ç«™è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>äºº </span> <span id="busuanzi_container_page_pv" style="display:none"> / æœ¬é¡µè®¿é—®é‡<span id="busuanzi_value_page_pv"></span>æ¬¡ / ç»Ÿè®¡å§‹äº2024-12-01 </span> </div> </div> </footer> <div class="tools-wrapper"> <a class="gotop" href="#" title="å›åˆ°é¡¶éƒ¨"><span class="octicon octicon-arrow-up"></span></a> </div> <script src="https://blog.slienceme.cn/assets/vendor/share.js/dist/js/share.min.js"></script> <script src="https://blog.slienceme.cn/assets/js/geopattern.js"></script> <script> jQuery(document).ready(function($) { $('.geopattern').each(function(){ $(this).geopattern($(this).data('pattern-id')); }); /* hljs.initHighlightingOnLoad(); */ }); </script> </body> </html>
